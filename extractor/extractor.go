//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

//
// Package extractor is used for quickly extracting PDF content through a simple interface.
// Currently offers functionality for extracting textual content.
//
package extractor ;import (_fa "bytes";_b "errors";_gb "fmt";_eb "github.com/laduygaga/unipdf/v3/common";_fcb "github.com/laduygaga/unipdf/v3/contentstream";_c "github.com/laduygaga/unipdf/v3/core";_eae "github.com/laduygaga/unipdf/v3/internal/license";_gg "github.com/laduygaga/unipdf/v3/internal/textencoding";
_ecd "github.com/laduygaga/unipdf/v3/internal/transform";_ec "github.com/laduygaga/unipdf/v3/model";_ad "golang.org/x/image/draw";_da "golang.org/x/text/unicode/norm";_bb "golang.org/x/xerrors";_d "image";_gcg "image/color";_f "io";_fb "math";_fc "reflect";_e "regexp";
_gc "sort";_a "strings";_ge "unicode";_ea "unicode/utf8";);func _dfa (_gbbe _ecd .Point )_ecd .Matrix {return _ecd .TranslationMatrix (_gbbe .X ,_gbbe .Y )};func (_fadb paraList )reorder (_bcff []int ){_aeff :=make (paraList ,len (_fadb ));for _dcfa ,_aaecc :=range _bcff {_aeff [_dcfa ]=_fadb [_aaecc ];
};copy (_fadb ,_aeff );};func (_egea *wordBag )getDepthIdx (_dbdg float64 )int {_adcd :=_egea .depthIndexes ();_gacg :=_dac (_dbdg );if _gacg < _adcd [0]{return _adcd [0];};if _gacg > _adcd [len (_adcd )-1]{return _adcd [len (_adcd )-1];};return _gacg ;
};func (_gadbf *textPara )toTextMarks (_bcga *int )[]TextMark {if _gadbf ._ffbc ==nil {return _gadbf .toCellTextMarks (_bcga );};var _cfge []TextMark ;for _acac :=0;_acac < _gadbf ._ffbc ._fgbf ;_acac ++{for _gebae :=0;_gebae < _gadbf ._ffbc ._eegaf ;_gebae ++{_dbae :=_gadbf ._ffbc .get (_gebae ,_acac );
if _dbae ==nil {_cfge =_faec (_cfge ,_bcga ,"\u0009");}else {_fbgcg :=_dbae .toCellTextMarks (_bcga );_cfge =append (_cfge ,_fbgcg ...);};_cfge =_faec (_cfge ,_bcga ,"\u0020");};if _acac < _gadbf ._ffbc ._fgbf -1{_cfge =_faec (_cfge ,_bcga ,"\u000a");};
};_gdcab :=_gadbf ._ffbc ;if _gdcab .isExportable (){_ffcfg :=_gdcab .toTextTable ();_cfge =_cbca (_cfge ,&_ffcfg );};return _cfge ;};func (_bgdc *PageText )computeViews (){_ccd :=_bgdc .getParagraphs ();_baba :=new (_fa .Buffer );_ccd .writeText (_baba );
_bgdc ._gegf =_baba .String ();_bgdc ._eagg =_ccd .toTextMarks ();_bgdc ._dbce =_ccd .tables ();if _fdccc {_eb .Log .Info ("\u0063\u006f\u006dpu\u0074\u0065\u0056\u0069\u0065\u0077\u0073\u003a\u0020\u0074\u0061\u0062\u006c\u0065\u0073\u003d\u0025\u0064",len (_bgdc ._dbce ));
};};func (_eafga gridTile )contains (_bggc _ec .PdfRectangle )bool {if _eafga .numBorders ()< 3{return false ;};if _eafga ._dbgbe &&_bggc .Llx < _eafga .Llx -_gegb {return false ;};if _eafga ._gafab &&_bggc .Urx > _eafga .Urx +_gegb {return false ;};if _eafga ._bgaf &&_bggc .Lly < _eafga .Lly -_gegb {return false ;
};if _eafga ._effc &&_bggc .Ury > _eafga .Ury +_gegb {return false ;};return true ;};func _bfgb (_edcb float64 ,_cdgga int )int {if _cdgga ==0{_cdgga =1;};_dbcaf :=float64 (_cdgga );return int (_fb .Round (_edcb /_dbcaf )*_dbcaf );};func (_abdgcf gridTile )complete ()bool {return _abdgcf .numBorders ()==4};
func (_bcf *textObject )setTextMatrix (_fcc []float64 ){if len (_fcc )!=6{_eb .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u006c\u0065\u006e\u0028\u0066\u0029\u0020\u0021\u003d\u0020\u0036\u0020\u0028\u0025\u0064\u0029",len (_fcc ));return ;};_gda ,_ddcb ,_cdaa ,_dade ,_cega ,_fdce :=_fcc [0],_fcc [1],_fcc [2],_fcc [3],_fcc [4],_fcc [5];
_bcf ._cbbe =_ecd .NewMatrix (_gda ,_ddcb ,_cdaa ,_dade ,_cega ,_fdce );_bcf ._ecdb =_bcf ._cbbe ;};

// String returns a description of `tm`.
func (_aafd *textMark )String ()string {return _gb .Sprintf ("\u0025\u002e\u0032f \u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\u0022\u0025\u0073\u0022",_aafd .PdfRectangle ,_aafd ._dgaad ,_aafd ._bfbb );};type textMark struct{_ec .PdfRectangle ;
_eaaf int ;_bfbb string ;_bdfa string ;_cdbd *_ec .PdfFont ;_dgaad float64 ;_abeca float64 ;_befb _ecd .Matrix ;_gddfd _ecd .Point ;_bfdeb _ec .PdfRectangle ;_gfga _gcg .Color ;_ggaa _gcg .Color ;_bcea _c .PdfObject ;_deaag []string ;Tw float64 ;Th float64 ;
_cadc int ;_beae int ;};type subpath struct{_ece []_ecd .Point ;_eddd bool ;};func (_bdbba intSet )del (_fdbgc int ){delete (_bdbba ,_fdbgc )};

// String returns a string describing `tm`.
func (_cced TextMark )String ()string {_babc :=_cced .BBox ;var _gfcc string ;if _cced .Font !=nil {_gfcc =_cced .Font .String ();if len (_gfcc )> 50{_gfcc =_gfcc [:50]+"\u002e\u002e\u002e";};};var _dabf string ;if _cced .Meta {_dabf ="\u0020\u002a\u004d\u002a";
};return _gb .Sprintf ("\u007b\u0054\u0065\u0078t\u004d\u0061\u0072\u006b\u003a\u0020\u0025\u0064\u0020%\u0071\u003d\u0025\u0030\u0032\u0078\u0020\u0028\u0025\u0036\u002e\u0032\u0066\u002c\u0020\u0025\u0036\u002e2\u0066\u0029\u0020\u0028\u00256\u002e\u0032\u0066\u002c\u0020\u0025\u0036\u002e\u0032\u0066\u0029\u0020\u0025\u0073\u0025\u0073\u007d",_cced .Offset ,_cced .Text ,[]rune (_cced .Text ),_babc .Llx ,_babc .Lly ,_babc .Urx ,_babc .Ury ,_gfcc ,_dabf );
};func _adaa (_cfgf ,_bbbgc _ecd .Point )bool {_eccca :=_fb .Abs (_cfgf .X -_bbbgc .X );_gecg :=_fb .Abs (_cfgf .Y -_bbbgc .Y );return _geab (_gecg ,_eccca );};func _acge (_ggdg ,_abefe float64 )bool {return _fb .Abs (_ggdg -_abefe )<=_fbbe };func (_fae *imageExtractContext )extractFormImages (_adcf *_c .PdfObjectName ,_fga _fcb .GraphicsState ,_aagg *_ec .PdfPageResources )error {_dgf ,_fbgb :=_aagg .GetXObjectFormByName (*_adcf );
if _fbgb !=nil {return _fbgb ;};if _dgf ==nil {return nil ;};_gff ,_fbgb :=_dgf .GetContentStream ();if _fbgb !=nil {return _fbgb ;};_cfbg :=_dgf .Resources ;if _cfbg ==nil {_cfbg =_aagg ;};_fbgb =_fae .extractContentStreamImages (string (_gff ),_cfbg );
if _fbgb !=nil {return _fbgb ;};_fae ._gbd ++;return nil ;};func _edbd (_gbec *list )[]*textLine {for _ ,_bebe :=range _gbec ._cfab {switch _bebe ._gdbg {case "\u004c\u0042\u006fd\u0079":if len (_bebe ._addd )!=0{return _bebe ._addd ;};return _edbd (_bebe );
case "\u0053\u0070\u0061\u006e":return _bebe ._addd ;case "I\u006e\u006c\u0069\u006e\u0065\u0053\u0068\u0061\u0070\u0065":return _bebe ._addd ;};};return nil ;};func (_eaa *textObject )showTextAdjusted (_ffeb *_c .PdfObjectArray ,_bbf int )error {_bgb :=false ;
for _ ,_ace :=range _ffeb .Elements (){switch _ace .(type ){case *_c .PdfObjectFloat ,*_c .PdfObjectInteger :_aef ,_agd :=_c .GetNumberAsFloat (_ace );if _agd !=nil {_eb .Log .Debug ("\u0045\u0052\u0052\u004fR\u003a\u0020\u0073\u0068\u006f\u0077\u0054\u0065\u0078t\u0041\u0064\u006a\u0075\u0073\u0074\u0065\u0064\u002e\u0020\u0042\u0061\u0064\u0020\u006e\u0075\u006d\u0065r\u0069\u0063\u0061\u006c\u0020a\u0072\u0067\u002e\u0020\u006f\u003d\u0025\u0073\u0020\u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_ace ,_ffeb );
return _agd ;};_bgf ,_faee :=-_aef *0.001*_eaa ._becc ._gcge ,0.0;if _bgb {_faee ,_bgf =_bgf ,_faee ;};_edad :=_dfa (_ecd .Point {X :_bgf ,Y :_faee });_eaa ._cbbe .Concat (_edad );case *_c .PdfObjectString :_gfc :=_c .TraceToDirectObject (_ace );_gag ,_gddd :=_c .GetStringBytes (_gfc );
if !_gddd {_eb .Log .Trace ("s\u0068\u006f\u0077\u0054\u0065\u0078\u0074\u0041\u0064j\u0075\u0073\u0074\u0065\u0064\u003a\u0020Ba\u0064\u0020\u0073\u0074r\u0069\u006e\u0067\u0020\u0061\u0072\u0067\u002e\u0020o=\u0025\u0073 \u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_ace ,_ffeb );
return _c .ErrTypeError ;};_eaa .renderText (_gfc ,_gag ,_bbf );default:_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0073\u0068\u006f\u0077\u0054\u0065\u0078\u0074A\u0064\u006a\u0075\u0073\u0074\u0065\u0064\u002e\u0020\u0055\u006e\u0065\u0078p\u0065\u0063\u0074\u0065\u0064\u0020\u0074\u0079\u0070\u0065\u0020\u0028%T\u0029\u0020\u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_ace ,_ffeb );
return _c .ErrTypeError ;};};return nil ;};func _fdcb (_fbee ,_bfga bounded )float64 {_aegg :=_gcbc (_fbee ,_bfga );if !_eggec (_aegg ){return _aegg ;};return _accb (_fbee ,_bfga );};func _cbca (_bbda []TextMark ,_ffcc *TextTable )[]TextMark {var _cbfd []TextMark ;
for _ ,_beaea :=range _bbda {_beaea ._ebfc =true ;_beaea ._fdbe =_ffcc ;_cbfd =append (_cbfd ,_beaea );};return _cbfd ;};

// TableInfo gets table information of the textmark `tm`.
func (_ffd *TextMark )TableInfo ()(*TextTable ,[][]int ){if !_ffd ._ebfc {return nil ,nil ;};_fgeb :=_ffd ._fdbe ;_eeg :=_fgeb .getCellInfo (*_ffd );return _fgeb ,_eeg ;};type shapesState struct{_bed _ecd .Matrix ;_cggb _ecd .Matrix ;_afbde []*subpath ;
_agfa bool ;_dfab _ecd .Point ;_dedg *textObject ;};

// String returns a description of `state`.
func (_edgc *textState )String ()string {_ddd :="\u005bN\u004f\u0054\u0020\u0053\u0045\u0054]";if _edgc ._bef !=nil {_ddd =_edgc ._bef .BaseFont ();};return _gb .Sprintf ("\u0074\u0063\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0077\u003d\u0025\u002e\u0032\u0066 \u0074f\u0073\u003d\u0025\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u003d\u0025\u0071",_edgc ._feed ,_edgc ._fccb ,_edgc ._gcge ,_ddd );
};func (_aed *textObject )setFont (_fggf string ,_abe float64 )error {if _aed ==nil {return nil ;};_aed ._becc ._gcge =_abe ;_cdg ,_eaca :=_aed .getFont (_fggf );if _eaca !=nil {return _eaca ;};_aed ._becc ._bef =_cdg ;return nil ;};func (_dgaa *wordBag )depthBand (_bead ,_cdbg float64 )[]int {if len (_dgaa ._cegd )==0{return nil ;
};return _dgaa .depthRange (_dgaa .getDepthIdx (_bead ),_dgaa .getDepthIdx (_cdbg ));};func _badbf (_facce ,_eafg *textPara )bool {return _gfae (_facce ._aebc ,_eafg ._aebc )};func _dac (_afcg float64 )int {var _baff int ;if _afcg >=0{_baff =int (_afcg /_adge );
}else {_baff =int (_afcg /_adge )-1;};return _baff ;};func (_bcee TextTable )getCellInfo (_ddcc TextMark )[][]int {for _cga ,_gbdf :=range _bcee .Cells {for _ffaa ,_cgdf :=range _gbdf {_ggfc :=&_cgdf .Marks ;if _ggfc .exists (_ddcc ){return [][]int {{_cga },{_ffaa }};
};};};return nil ;};func _cafd (_dbfa *textLine ,_gegbc []*textLine ,_ggdec []float64 ,_bfcd ,_cfad float64 )[]*textLine {_bacb :=[]*textLine {};for _ ,_ebdd :=range _gegbc {if _ebdd ._dfcf >=_bfcd {if _cfad !=-1&&_ebdd ._dfcf < _cfad {if _ebdd .text ()!=_dbfa .text (){if _fb .Round (_ebdd .Llx )< _fb .Round (_dbfa .Llx ){break ;
};_bacb =append (_bacb ,_ebdd );};}else if _cfad ==-1{if _ebdd ._dfcf ==_dbfa ._dfcf {if _ebdd .text ()!=_dbfa .text (){_bacb =append (_bacb ,_ebdd );};continue ;};_afgdg :=_dbgbd (_dbfa ,_gegbc ,_ggdec );if _afgdg !=-1&&_ebdd ._dfcf <=_afgdg {_bacb =append (_bacb ,_ebdd );
};};};};return _bacb ;};type cachedImage struct{_ffa *_ec .Image ;_eda _ec .PdfColorspace ;};func (_bbcf rulingList )comp (_fbgfg ,_aacg int )bool {_cceg ,_cgaeb :=_bbcf [_fbgfg ],_bbcf [_aacg ];_adcc ,_feced :=_cceg ._cggcf ,_cgaeb ._cggcf ;if _adcc !=_feced {return _adcc > _feced ;
};if _adcc ==_fcgc {return false ;};_fecea :=func (_ecac bool )bool {if _adcc ==_dccaa {return _ecac ;};return !_ecac ;};_fgef ,_dgce :=_cceg ._ebgag ,_cgaeb ._ebgag ;if _fgef !=_dgce {return _fecea (_fgef > _dgce );};_fgef ,_dgce =_cceg ._gbaa ,_cgaeb ._gbaa ;
if _fgef !=_dgce {return _fecea (_fgef < _dgce );};return _fecea (_cceg ._abcbd < _cgaeb ._abcbd );};func (_afaac *shapesState )quadraticTo (_bafb ,_gddbg ,_cedg ,_cdeb float64 ){if _eace {_eb .Log .Info ("\u0071\u0075\u0061d\u0072\u0061\u0074\u0069\u0063\u0054\u006f\u003a");
};_afaac .addPoint (_cedg ,_cdeb );};type lists []*list ;func _gdeg (_afge ,_gadb _ec .PdfRectangle )bool {return _afge .Llx <=_gadb .Llx &&_gadb .Urx <=_afge .Urx &&_afge .Lly <=_gadb .Lly &&_gadb .Ury <=_afge .Ury ;};func _befe (_cffce *wordBag ,_bgbb *textWord ,_bebf float64 )bool {return _bgbb .Llx < _cffce .Urx +_bebf &&_cffce .Llx -_bebf < _bgbb .Urx ;
};func (_dbb *subpath )removeDuplicates (){if len (_dbb ._ece )==0{return ;};_facc :=[]_ecd .Point {_dbb ._ece [0]};for _ ,_bace :=range _dbb ._ece [1:]{if !_bceda (_bace ,_facc [len (_facc )-1]){_facc =append (_facc ,_bace );};};_dbb ._ece =_facc ;};func (_feaag *wordBag )blocked (_gcgfb *textWord )bool {if _gcgfb .Urx < _feaag .Llx {_fdcfe :=_bgcdg (_gcgfb .PdfRectangle );
_acbdb :=_dcbc (_feaag .PdfRectangle );if _feaag ._ccbf .blocks (_fdcfe ,_acbdb ){if _gbee {_eb .Log .Info ("\u0062\u006c\u006f\u0063ke\u0064\u0020\u2190\u0078\u003a\u0020\u0025\u0073\u0020\u0025\u0073",_gcgfb ,_feaag );};return true ;};}else if _feaag .Urx < _gcgfb .Llx {_egd :=_bgcdg (_feaag .PdfRectangle );
_debg :=_dcbc (_gcgfb .PdfRectangle );if _feaag ._ccbf .blocks (_egd ,_debg ){if _gbee {_eb .Log .Info ("b\u006co\u0063\u006b\u0065\u0064\u0020\u0078\u2192\u0020:\u0020\u0025\u0073\u0020%s",_gcgfb ,_feaag );};return true ;};};if _gcgfb .Ury < _feaag .Lly {_facbe :=_gbfg (_gcgfb .PdfRectangle );
_eeb :=_edda (_feaag .PdfRectangle );if _feaag ._edab .blocks (_facbe ,_eeb ){if _gbee {_eb .Log .Info ("\u0062\u006c\u006f\u0063ke\u0064\u0020\u2190\u0079\u003a\u0020\u0025\u0073\u0020\u0025\u0073",_gcgfb ,_feaag );};return true ;};}else if _feaag .Ury < _gcgfb .Lly {_debgf :=_gbfg (_feaag .PdfRectangle );
_cgff :=_edda (_gcgfb .PdfRectangle );if _feaag ._edab .blocks (_debgf ,_cgff ){if _gbee {_eb .Log .Info ("b\u006co\u0063\u006b\u0065\u0064\u0020\u0079\u2192\u0020:\u0020\u0025\u0073\u0020%s",_gcgfb ,_feaag );};return true ;};};return false ;};func _eggg (_dbge *wordBag ,_agabf *textWord ,_fdbg float64 )bool {return _dbge .Urx <=_agabf .Llx &&_agabf .Llx < _dbge .Urx +_fdbg ;
};func (_gfaae gridTiling )complete ()bool {for _ ,_eggdd :=range _gfaae ._agcg {for _ ,_gfacf :=range _eggdd {if !_gfacf .complete (){return false ;};};};return true ;};func _ebe (_aebaa []*textMark ,_bdac _ec .PdfRectangle ,_babf rulingList ,_fccdf []gridTiling ,_egeg bool )paraList {_eb .Log .Trace ("\u006d\u0061\u006b\u0065\u0054\u0065\u0078\u0074\u0050\u0061\u0067\u0065\u003a \u0025\u0064\u0020\u0065\u006c\u0065m\u0065\u006e\u0074\u0073\u0020\u0070\u0061\u0067\u0065\u0053\u0069\u007a\u0065=\u0025\u002e\u0032\u0066",len (_aebaa ),_bdac );
if len (_aebaa )==0{return nil ;};_gfec :=_ccfcb (_aebaa ,_bdac );if len (_gfec )==0{return nil ;};_babf .log ("\u006d\u0061\u006be\u0054\u0065\u0078\u0074\u0050\u0061\u0067\u0065");_gdaf ,_adef :=_babf .vertsHorzs ();_ceaf :=_edgcg (_gfec ,_bdac .Ury ,_gdaf ,_adef );
_gbcgg :=_gdafg (_ceaf ,_bdac .Ury ,_gdaf ,_adef );_gbcgg =_bece (_gbcgg );_bfag :=make (paraList ,0,len (_gbcgg ));for _ ,_efff :=range _gbcgg {_bff :=_efff .arrangeText ();if _bff !=nil {_bfag =append (_bfag ,_bff );};};if !_egeg &&len (_bfag )>=_abgd {_bfag =_bfag .extractTables (_fccdf );
};_bfag .sortReadingOrder ();if !_egeg {_bfag .sortTopoOrder ();};_bfag .log ("\u0073\u006f\u0072te\u0064\u0020\u0069\u006e\u0020\u0072\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u006f\u0072\u0064\u0065\u0072");return _bfag ;};func (_eaeb *wordBag )makeRemovals ()map[int ]map[*textWord ]struct{}{_debc :=make (map[int ]map[*textWord ]struct{},len (_eaeb ._cegd ));
for _edee :=range _eaeb ._cegd {_debc [_edee ]=make (map[*textWord ]struct{});};return _debc ;};func _dfdc (_dcbb []*textLine ,_cdbe map[float64 ][]*textLine )[]*list {_gcad :=_bdbg (_cdbe );_afeg :=[]*list {};if len (_gcad )==0{return _afeg ;};_edeec :=_gcad [0];
_cdcb :=1;_ddg :=_cdbe [_edeec ];for _fded ,_acfe :=range _ddg {var _gbab float64 ;_cfdc :=[]*list {};_acfc :=_acfe ._dfcf ;_ecee :=-1.0;if _fded < len (_ddg )-1{_ecee =_ddg [_fded +1]._dfcf ;};if _cdcb < len (_gcad ){_cfdc =_ecea (_dcbb ,_cdbe ,_gcad ,_cdcb ,_acfc ,_ecee );
};_gbab =_ecee ;if len (_cfdc )> 0{_gbef :=_cfdc [0];if len (_gbef ._addd )> 0{_gbab =_gbef ._addd [0]._dfcf ;};};_gegbf :=[]*textLine {_acfe };_eadaf :=_cafd (_acfe ,_dcbb ,_gcad ,_acfc ,_gbab );_gegbf =append (_gegbf ,_eadaf ...);_ddcf :=_cdfe (_gegbf ,"\u0062\u0075\u006c\u006c\u0065\u0074",_cfdc );
_ddcf ._badf =_dgda (_gegbf ,"");_afeg =append (_afeg ,_ddcf );};return _afeg ;};func (_dgdd *textObject )moveTextSetLeading (_gbc ,_bbe float64 ){_dgdd ._becc ._gegd =-_bbe ;_dgdd .moveLP (_gbc ,_bbe );};func (_gffef *textTable )markCells (){for _cgdfb :=0;
_cgdfb < _gffef ._fgbf ;_cgdfb ++{for _bccdb :=0;_bccdb < _gffef ._eegaf ;_bccdb ++{_gfefe :=_gffef .get (_bccdb ,_cgdfb );if _gfefe !=nil {_gfefe ._acdb =true ;};};};};func (_dffee *textTable )compositeRowCorridors ()map[int ][]float64 {_abbag :=make (map[int ][]float64 ,_dffee ._fgbf );
if _fdccc {_eb .Log .Info ("c\u006f\u006d\u0070\u006f\u0073\u0069t\u0065\u0052\u006f\u0077\u0043\u006f\u0072\u0072\u0069d\u006f\u0072\u0073:\u0020h\u003d\u0025\u0064",_dffee ._fgbf );};for _bdffg :=1;_bdffg < _dffee ._fgbf ;_bdffg ++{var _bdffb []compositeCell ;
for _aegce :=0;_aegce < _dffee ._eegaf ;_aegce ++{if _dgfaf ,_cacc :=_dffee ._ecgfc [_ecgg (_aegce ,_bdffg )];_cacc {_bdffb =append (_bdffb ,_dgfaf );};};if len (_bdffb )==0{continue ;};_dgfbe :=_bdfb (_bdffb );_abbag [_bdffg ]=_dgfbe ;if _fdccc {_gb .Printf ("\u0020\u0020\u0020\u0025\u0032\u0064\u003a\u0020\u00256\u002e\u0032\u0066\u000a",_bdffg ,_dgfbe );
};};return _abbag ;};func (_gfbbg rulingList )splitSec ()[]rulingList {_gc .Slice (_gfbbg ,func (_fecg ,_cbef int )bool {_dcdag ,_abed :=_gfbbg [_fecg ],_gfbbg [_cbef ];if _dcdag ._gbaa !=_abed ._gbaa {return _dcdag ._gbaa < _abed ._gbaa ;};return _dcdag ._abcbd < _abed ._abcbd ;
});_dgeea :=make (map[*ruling ]struct{},len (_gfbbg ));_bfcf :=func (_dbbbc *ruling )rulingList {_eadfg :=rulingList {_dbbbc };_dgeea [_dbbbc ]=struct{}{};for _ ,_aaeg :=range _gfbbg {if _ ,_gbbb :=_dgeea [_aaeg ];_gbbb {continue ;};for _ ,_adcdb :=range _eadfg {if _aaeg .alignsSec (_adcdb ){_eadfg =append (_eadfg ,_aaeg );
_dgeea [_aaeg ]=struct{}{};break ;};};};return _eadfg ;};_eaafef :=[]rulingList {_bfcf (_gfbbg [0])};for _ ,_fdeg :=range _gfbbg [1:]{if _ ,_cbafb :=_dgeea [_fdeg ];_cbafb {continue ;};_eaafef =append (_eaafef ,_bfcf (_fdeg ));};return _eaafef ;};func _geab (_fbafa ,_becf float64 )bool {return _fbafa /_fb .Max (_bddbd ,_becf )< _fagba };
func (_fgaa lineRuling )asRuling ()(*ruling ,bool ){_afgg :=ruling {_cggcf :_fgaa ._acdg ,Color :_fgaa .Color ,_dcfce :_fegbcd };switch _fgaa ._acdg {case _dceeg :_afgg ._ebgag =_fgaa .xMean ();_afgg ._gbaa =_fb .Min (_fgaa ._gdfd .Y ,_fgaa ._ccceb .Y );
_afgg ._abcbd =_fb .Max (_fgaa ._gdfd .Y ,_fgaa ._ccceb .Y );case _dccaa :_afgg ._ebgag =_fgaa .yMean ();_afgg ._gbaa =_fb .Min (_fgaa ._gdfd .X ,_fgaa ._ccceb .X );_afgg ._abcbd =_fb .Max (_fgaa ._gdfd .X ,_fgaa ._ccceb .X );default:_eb .Log .Error ("\u0062\u0061\u0064\u0020pr\u0069\u006d\u0061\u0072\u0079\u0020\u006b\u0069\u006e\u0064\u003d\u0025\u0064",_fgaa ._acdg );
return nil ,false ;};return &_afgg ,true ;};func (_dcdg *shapesState )establishSubpath ()*subpath {_aceaa ,_ecfd :=_dcdg .lastpointEstablished ();if !_ecfd {_dcdg ._afbde =append (_dcdg ._afbde ,_gggb (_aceaa ));};if len (_dcdg ._afbde )==0{return nil ;
};_dcdg ._agfa =false ;return _dcdg ._afbde [len (_dcdg ._afbde )-1];};func (_bege *structTreeRoot )parseStructTreeRoot (_edede _c .PdfObject ){if _edede !=nil {_fdaa ,_eddge :=_c .GetDict (_edede );if !_eddge {_eb .Log .Debug ("\u0070\u0061\u0072s\u0065\u0053\u0074\u0072\u0075\u0063\u0074\u0054\u0072\u0065\u0065\u0052\u006f\u006f\u0074\u003a\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079\u0020\u006eo\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");
};K :=_fdaa .Get ("\u004b");_ecdc :=_fdaa .Get ("\u0054\u0079\u0070\u0065").String ();var _ade *_c .PdfObjectArray ;switch _bgbc :=K .(type ){case *_c .PdfObjectArray :_ade =_bgbc ;case *_c .PdfObjectReference :_ade =_c .MakeArray (K );};_dbgb :=[]structElement {};
for _ ,_affd :=range _ade .Elements (){_fdgb :=&structElement {};_fdgb .parseStructElement (_affd );_dbgb =append (_dbgb ,*_fdgb );};_bege ._dgfca =_dbgb ;_bege ._adda =_ecdc ;};};

// String returns a description of `k`.
func (_eafaf rulingKind )String ()string {_faae ,_acee :=_bbdd [_eafaf ];if !_acee {return _gb .Sprintf ("\u004e\u006ft\u0020\u0061\u0020r\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0025\u0064",_eafaf );};return _faae ;};func _ccfcb (_debba []*textMark ,_bdfc _ec .PdfRectangle )[]*textWord {var _dgggg []*textWord ;
var _bdfcd *textWord ;if _aggd {_eb .Log .Info ("\u006d\u0061\u006beT\u0065\u0078\u0074\u0057\u006f\u0072\u0064\u0073\u003a\u0020\u0025\u0064\u0020\u006d\u0061\u0072\u006b\u0073",len (_debba ));};_deabe :=func (){if _bdfcd !=nil {_ggfca :=_bdfcd .computeText ();
if !_bfedd (_ggfca ){_bdfcd ._degc =_ggfca ;_dgggg =append (_dgggg ,_bdfcd );if _aggd {_eb .Log .Info ("\u0061\u0064\u0064Ne\u0077\u0057\u006f\u0072\u0064\u003a\u0020\u0025\u0064\u003a\u0020\u0077\u006f\u0072\u0064\u003d\u0025\u0073",len (_dgggg )-1,_bdfcd .String ());
for _afgeb ,_dffd :=range _bdfcd ._ebgde {_gb .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_afgeb ,_dffd .String ());};};};_bdfcd =nil ;};};for _ ,_dggefc :=range _debba {if _bfe &&_bdfcd !=nil &&len (_bdfcd ._ebgde )> 0{_cfcce :=_bdfcd ._ebgde [len (_bdfcd ._ebgde )-1];
_fecd ,_gagf :=_aaaa (_dggefc ._bfbb );_afcff ,_bbca :=_aaaa (_cfcce ._bfbb );if _gagf &&!_bbca &&_cfcce .inDiacriticArea (_dggefc ){_bdfcd .addDiacritic (_fecd );continue ;};if _bbca &&!_gagf &&_dggefc .inDiacriticArea (_cfcce ){_bdfcd ._ebgde =_bdfcd ._ebgde [:len (_bdfcd ._ebgde )-1];
_bdfcd .appendMark (_dggefc ,_bdfc );_bdfcd .addDiacritic (_afcff );continue ;};};_fcab :=_bfedd (_dggefc ._bfbb );if _fcab {_deabe ();continue ;};if _bdfcd ==nil &&!_fcab {_bdfcd =_afebb ([]*textMark {_dggefc },_bdfc );continue ;};_fabe :=_bdfcd ._aagde ;
_faefg :=_fb .Abs (_fffc (_bdfc ,_dggefc )-_bdfcd ._afedc )/_fabe ;_dfdde :=_fffec (_dggefc ,_bdfcd )/_fabe ;if _dfdde >=_dgfcd ||!(-_aeba <=_dfdde &&_faefg <=_bcce ){_deabe ();_bdfcd =_afebb ([]*textMark {_dggefc },_bdfc );continue ;};_bdfcd .appendMark (_dggefc ,_bdfc );
};_deabe ();return _dgggg ;};func _aebe (_adg ,_fccc _ec .PdfRectangle )_ec .PdfRectangle {return _ec .PdfRectangle {Llx :_fb .Min (_adg .Llx ,_fccc .Llx ),Lly :_fb .Min (_adg .Lly ,_fccc .Lly ),Urx :_fb .Max (_adg .Urx ,_fccc .Urx ),Ury :_fb .Max (_adg .Ury ,_fccc .Ury )};
};

// New returns an Extractor instance for extracting content from the input PDF page.
func New (page *_ec .PdfPage )(*Extractor ,error ){return NewWithOptions (page ,nil )};

// Len returns the number of TextMarks in `ma`.
func (_cgdb *TextMarkArray )Len ()int {if _cgdb ==nil {return 0;};return len (_cgdb ._dga );};

// RenderMode specifies the text rendering mode (Tmode), which determines whether showing text shall cause
// glyph outlines to be  stroked, filled, used as a clipping boundary, or some combination of the three.
// Stroking, filling, and clipping shall have the same effects for a text object as they do for a path object
// (see 8.5.3, "Path-Painting Operators" and 8.5.4, "Clipping Path Operators").
type RenderMode int ;func (_afbe *compositeCell )updateBBox (){for _ ,_daga :=range _afbe .paraList {_afbe .PdfRectangle =_aebe (_afbe .PdfRectangle ,_daga .PdfRectangle );};};func (_bffb *textTable )put (_aeffb ,_fabb int ,_gfdfd *textPara ){_bffb ._aafgf [_ecgg (_aeffb ,_fabb )]=_gfdfd ;
};func (_ddec intSet )has (_dgcag int )bool {_ ,_bafbb :=_ddec [_dgcag ];return _bafbb };var (_fbe =_b .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");_db =_b .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072");
);func (_eea *textObject )getStrokeColor ()_gcg .Color {return _gfgcf (_eea ._gge .ColorspaceStroking ,_eea ._gge .ColorStroking );};type structElement struct{_beaga string ;_gbba []structElement ;_gccf int64 ;_fdeac _c .PdfObject ;};func (_ga *imageExtractContext )processOperand (_eg *_fcb .ContentStreamOperation ,_bga _fcb .GraphicsState ,_ab *_ec .PdfPageResources )error {if _eg .Operand =="\u0042\u0049"&&len (_eg .Params )==1{_ceb ,_gdf :=_eg .Params [0].(*_fcb .ContentStreamInlineImage );
if !_gdf {return nil ;};if _egf ,_fab :=_c .GetBoolVal (_ceb .ImageMask );_fab {if _egf &&!_ga ._bad .IncludeInlineStencilMasks {return nil ;};};return _ga .extractInlineImage (_ceb ,_bga ,_ab );}else if _eg .Operand =="\u0044\u006f"&&len (_eg .Params )==1{_cfbf ,_eab :=_c .GetName (_eg .Params [0]);
if !_eab {_eb .Log .Debug ("E\u0052\u0052\u004f\u0052\u003a\u0020\u0054\u0079\u0070\u0065");return _fbe ;};_ ,_aag :=_ab .GetXObjectByName (*_cfbf );switch _aag {case _ec .XObjectTypeImage :return _ga .extractXObjectImage (_cfbf ,_bga ,_ab );case _ec .XObjectTypeForm :return _ga .extractFormImages (_cfbf ,_bga ,_ab );
};}else if _ga ._deba &&(_eg .Operand =="\u0073\u0063\u006e"||_eg .Operand =="\u0053\u0043\u004e")&&len (_eg .Params )==1{_bcec ,_cgd :=_c .GetName (_eg .Params [0]);if !_cgd {_eb .Log .Debug ("E\u0052\u0052\u004f\u0052\u003a\u0020\u0054\u0079\u0070\u0065");
return _fbe ;};_cb ,_cgd :=_ab .GetPatternByName (*_bcec );if !_cgd {_eb .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0050\u0061\u0074\u0074\u0065\u0072n\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");return nil ;};if _cb .IsTiling (){_afc :=_cb .GetAsTilingPattern ();
_fcf ,_cce :=_afc .GetContentStream ();if _cce !=nil {return _cce ;};_cce =_ga .extractContentStreamImages (string (_fcf ),_afc .Resources );if _cce !=nil {return _cce ;};};}else if (_eg .Operand =="\u0063\u0073"||_eg .Operand =="\u0043\u0053")&&len (_eg .Params )>=1{_ga ._deba =_eg .Params [0].String ()=="\u0050a\u0074\u0074\u0065\u0072\u006e";
};return nil ;};func (_bcdgg *textPara )writeText (_ebdb _f .Writer ){if _bcdgg ._ffbc ==nil {_bcdgg .writeCellText (_ebdb );return ;};for _ceae :=0;_ceae < _bcdgg ._ffbc ._fgbf ;_ceae ++{for _ecbfg :=0;_ecbfg < _bcdgg ._ffbc ._eegaf ;_ecbfg ++{_adfc :=_bcdgg ._ffbc .get (_ecbfg ,_ceae );
if _adfc ==nil {_ebdb .Write ([]byte ("\u0009"));}else {_adfc .writeCellText (_ebdb );};_ebdb .Write ([]byte ("\u0020"));};if _ceae < _bcdgg ._ffbc ._fgbf -1{_ebdb .Write ([]byte ("\u000a"));};};};const (RenderModeStroke RenderMode =1<<iota ;RenderModeFill ;
RenderModeClip ;);func _fdadb (_feaeg ,_afbae ,_aegb ,_dcfcd *textPara )*textTable {_agfe :=&textTable {_eegaf :2,_fgbf :2,_aafgf :make (map[uint64 ]*textPara ,4)};_agfe .put (0,0,_feaeg );_agfe .put (1,0,_afbae );_agfe .put (0,1,_aegb );_agfe .put (1,1,_dcfcd );
return _agfe ;};type list struct{_addd []*textLine ;_gdbg string ;_cfab []*list ;_badf string ;};var _abec string ="\u005e\u005b\u0061\u002d\u007a\u0041\u002dZ\u005d\u0028\u005c)\u007c\u005c\u002e)\u007c\u005e[\u005c\u0064\u005d\u002b\u0028\u005c)\u007c\\.\u0029\u007c\u005e\u005c\u0028\u005b\u0061\u002d\u007a\u0041\u002d\u005a\u005d\u005c\u0029\u007c\u005e\u005c\u0028\u005b\u005c\u0064\u005d\u002b\u005c\u0029";
func (_geagb *ruling )alignsSec (_decdf *ruling )bool {const _dgbda =_ecdd +1.0;return _geagb ._gbaa -_dgbda <=_decdf ._abcbd &&_decdf ._gbaa -_dgbda <=_geagb ._abcbd ;};func _fgaeb (_eecdf ,_eee _ec .PdfRectangle )bool {return _eecdf .Lly <=_eee .Ury &&_eee .Lly <=_eecdf .Ury ;
};func _gfae (_dcfc ,_bdeac _ec .PdfRectangle )bool {return _bdeac .Llx <=_dcfc .Urx &&_dcfc .Llx <=_bdeac .Urx ;};const _afab =10;func (_cgcdb rulingList )snapToGroupsDirection ()rulingList {_cgcdb .sortStrict ();_dcaf :=make (map[*ruling ]rulingList ,len (_cgcdb ));
_dbgd :=_cgcdb [0];_dfee :=func (_gaeb *ruling ){_dbgd =_gaeb ;_dcaf [_dbgd ]=rulingList {_gaeb }};_dfee (_cgcdb [0]);for _ ,_bgbce :=range _cgcdb [1:]{if _bgbce ._ebgag < _dbgd ._ebgag -_facbf {_eb .Log .Error ("\u0073\u006e\u0061\u0070T\u006f\u0047\u0072\u006f\u0075\u0070\u0073\u0044\u0069r\u0065\u0063\u0074\u0069\u006f\u006e\u003a\u0020\u0057\u0072\u006f\u006e\u0067\u0020\u0070\u0072\u0069\u006da\u0072\u0079\u0020\u006f\u0072d\u0065\u0072\u002e\u000a\u0009\u0076\u0030\u003d\u0025\u0073\u000a\u0009\u0020\u0076\u003d\u0025\u0073",_dbgd ,_bgbce );
};if _bgbce ._ebgag > _dbgd ._ebgag +_ecdd {_dfee (_bgbce );}else {_dcaf [_dbgd ]=append (_dcaf [_dbgd ],_bgbce );};};_ddadf :=make (map[*ruling ]float64 ,len (_dcaf ));_bbddb :=make (map[*ruling ]*ruling ,len (_cgcdb ));for _bcfe ,_fadf :=range _dcaf {_ddadf [_bcfe ]=_fadf .mergePrimary ();
for _ ,_eecba :=range _fadf {_bbddb [_eecba ]=_bcfe ;};};for _ ,_fgda :=range _cgcdb {_fgda ._ebgag =_ddadf [_bbddb [_fgda ]];};_gfeeg :=make (rulingList ,0,len (_cgcdb ));for _ ,_eggf :=range _dcaf {_acec :=_eggf .splitSec ();for _ccgad ,_aeced :=range _acec {_fdaaf :=_aeced .merge ();
if len (_gfeeg )> 0{_fdcbg :=_gfeeg [len (_gfeeg )-1];if _fdcbg .alignsPrimary (_fdaaf )&&_fdcbg .alignsSec (_fdaaf ){_eb .Log .Error ("\u0073\u006e\u0061\u0070\u0054\u006fG\u0072\u006f\u0075\u0070\u0073\u0044\u0069\u0072\u0065\u0063\u0074\u0069\u006f\u006e\u003a\u0020\u0044\u0075\u0070\u006ci\u0063\u0061\u0074\u0065\u0020\u0069\u003d\u0025\u0064\u000a\u0009\u0077\u003d\u0025s\u000a\t\u0076\u003d\u0025\u0073",_ccgad ,_fdcbg ,_fdaaf );
continue ;};};_gfeeg =append (_gfeeg ,_fdaaf );};};_gfeeg .sortStrict ();return _gfeeg ;};type stateStack []*textState ;func _bdfb (_cdgff []compositeCell )[]float64 {var _fgaaf []*textLine ;_ddga :=0;for _ ,_bbgab :=range _cdgff {_ddga +=len (_bbgab .paraList );
_fgaaf =append (_fgaaf ,_bbgab .lines ()...);};_gc .Slice (_fgaaf ,func (_egfdd ,_bccdd int )bool {_gbcge ,_afagf :=_fgaaf [_egfdd ],_fgaaf [_bccdd ];_gcee ,_gedf :=_gbcge ._dfcf ,_afagf ._dfcf ;if !_eggec (_gcee -_gedf ){return _gcee < _gedf ;};return _gbcge .Llx < _afagf .Llx ;
});if _fdccc {_gb .Printf ("\u0020\u0020\u0020 r\u006f\u0077\u0042\u006f\u0072\u0064\u0065\u0072\u0073:\u0020%\u0064 \u0070a\u0072\u0061\u0073\u0020\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u000a",_ddga ,len (_fgaaf ));for _caega ,_ccbe :=range _fgaaf {_gb .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_caega ,_ccbe );
};};var _bacec []float64 ;_afbgb :=_fgaaf [0];var _fbbff [][]*textLine ;_acfcg :=[]*textLine {_afbgb };for _eecae ,_dcfcdb :=range _fgaaf [1:]{if _dcfcdb .Ury < _afbgb .Lly {_gebe :=0.5*(_dcfcdb .Ury +_afbgb .Lly );if _fdccc {_gb .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u003c\u0020\u0025\u0036.\u0032f\u0020\u0062\u006f\u0072\u0064\u0065\u0072\u003d\u0025\u0036\u002e\u0032\u0066\u000a"+"\u0009\u0020\u0071\u003d\u0025\u0073\u000a\u0009\u0020p\u003d\u0025\u0073\u000a",_eecae ,_dcfcdb .Ury ,_afbgb .Lly ,_gebe ,_afbgb ,_dcfcdb );
};_bacec =append (_bacec ,_gebe );_fbbff =append (_fbbff ,_acfcg );_acfcg =nil ;};_acfcg =append (_acfcg ,_dcfcdb );if _dcfcdb .Lly < _afbgb .Lly {_afbgb =_dcfcdb ;};};if len (_acfcg )> 0{_fbbff =append (_fbbff ,_acfcg );};if _fdccc {_gb .Printf (" \u0020\u0020\u0020\u0020\u0020\u0020 \u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064o\u0072\u0073\u003d%\u0036.\u0032\u0066\u000a",_bacec );
};if _fdccc {_eb .Log .Info ("\u0072\u006f\u0077\u003d\u0025\u0064",len (_cdgff ));for _ffecc ,_cbcec :=range _cdgff {_gb .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_ffecc ,_cbcec );};_eb .Log .Info ("\u0067r\u006f\u0075\u0070\u0073\u003d\u0025d",len (_fbbff ));
for _fdebb ,_gcfea :=range _fbbff {_gb .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0064\u000a",_fdebb ,len (_gcfea ));for _bebc ,_cgdcd :=range _gcfea {_gb .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_bebc ,_cgdcd );};};};_abefa :=true ;
for _gcceg ,_fddg :=range _fbbff {_afgdd :=true ;for _cbggf ,_efaag :=range _cdgff {if _fdccc {_gb .Printf ("\u0020\u0020\u0020\u007e\u007e\u007e\u0067\u0072\u006f\u0075\u0070\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064\u0020\u0063\u0065\u006cl\u0020\u0025\u0064\u0020\u006ff\u0020\u0025d\u0020\u0025\u0073\u000a",_gcceg ,len (_fbbff ),_cbggf ,len (_cdgff ),_efaag );
};if !_efaag .hasLines (_fddg ){if _fdccc {_gb .Printf ("\u0020\u0020\u0020\u0021\u0021\u0021\u0067\u0072\u006f\u0075\u0070\u0020\u0025d\u0020\u006f\u0066\u0020\u0025\u0064 \u0063\u0065\u006c\u006c\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064 \u004f\u0055\u0054\u000a",_gcceg ,len (_fbbff ),_cbggf ,len (_cdgff ));
};_afgdd =false ;break ;};};if !_afgdd {_abefa =false ;break ;};};if !_abefa {if _fdccc {_eb .Log .Info ("\u0072\u006f\u0077\u0020\u0063o\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u0020\u0064\u006f\u006e\u0027\u0074 \u0073\u0070\u0061\u006e\u0020\u0061\u006c\u006c\u0020\u0063\u0065\u006c\u006c\u0073\u0020\u0069\u006e\u0020\u0072\u006f\u0077\u002e\u0020\u0069\u0067\u006e\u006f\u0072\u0069\u006eg");
};_bacec =nil ;};if _fdccc &&_bacec !=nil {_gb .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u002a\u002a*\u0072\u006f\u0077\u0043\u006f\u0072\u0072i\u0064\u006f\u0072\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u000a",_bacec );};return _bacec ;
};func (_ecf *PageFonts )extractPageResourcesToFont (_bc *_ec .PdfPageResources )error {_cd ,_ef :=_c .GetDict (_bc .Font );if !_ef {return _b .New (_acg );};for _ ,_dfc :=range _cd .Keys (){var (_ag =true ;_fd []byte ;_ba string ;);_cfb ,_bbb :=_bc .GetFontByName (_dfc );
if !_bbb {return _b .New (_ff );};_bda ,_aa :=_ec .NewPdfFontFromPdfObject (_cfb );if _aa !=nil {return _aa ;};_be :=_bda .FontDescriptor ();_agg :=_bda .FontDescriptor ().FontName .String ();_bg :=_bda .Subtype ();if _fag (_ecf .Fonts ,_agg ){continue ;
};if len (_bda .ToUnicode ())==0{_ag =false ;};if _be .FontFile !=nil {if _bce ,_edc :=_c .GetStream (_be .FontFile );_edc {_fd ,_aa =_c .DecodeStream (_bce );if _aa !=nil {return _aa ;};_ba =_agg +"\u002e\u0070\u0066\u0062";};}else if _be .FontFile2 !=nil {if _eag ,_aee :=_c .GetStream (_be .FontFile2 );
_aee {_fd ,_aa =_c .DecodeStream (_eag );if _aa !=nil {return _aa ;};_ba =_agg +"\u002e\u0074\u0074\u0066";};}else if _be .FontFile3 !=nil {if _eaf ,_dfg :=_c .GetStream (_be .FontFile3 );_dfg {_fd ,_aa =_c .DecodeStream (_eaf );if _aa !=nil {return _aa ;
};_ba =_agg +"\u002e\u0063\u0066\u0066";};};if len (_ba )< 1{_eb .Log .Debug (_cfg );};_gcb :=Font {FontName :_agg ,PdfFont :_bda ,IsCID :_bda .IsCID (),IsSimple :_bda .IsSimple (),ToUnicode :_ag ,FontType :_bg ,FontData :_fd ,FontFileName :_ba ,FontDescriptor :_be };
_ecf .Fonts =append (_ecf .Fonts ,_gcb );};return nil ;};func (_bbac rectRuling )checkWidth (_degaa ,_ffge float64 )(float64 ,bool ){_daac :=_ffge -_degaa ;_begg :=_daac <=_ecdd ;return _daac ,_begg ;};func (_dfae *subpath )isQuadrilateral ()bool {if len (_dfae ._ece )< 4||len (_dfae ._ece )> 5{return false ;
};if len (_dfae ._ece )==5{_cab :=_dfae ._ece [0];_cfbd :=_dfae ._ece [4];if _cab .X !=_cfbd .X ||_cab .Y !=_cfbd .Y {return false ;};};return true ;};type compositeCell struct{_ec .PdfRectangle ;paraList ;};func (_gdae gridTile )numBorders ()int {_aaeaa :=0;
if _gdae ._dbgbe {_aaeaa ++;};if _gdae ._gafab {_aaeaa ++;};if _gdae ._bgaf {_aaeaa ++;};if _gdae ._effc {_aaeaa ++;};return _aaeaa ;};func _fafd (_gdgb float64 )bool {return _fb .Abs (_gdgb )< _ecdd };

// String returns a human readable description of `s`.
func (_cceb intSet )String ()string {var _fcbf []int ;for _gdfca :=range _cceb {if _cceb .has (_gdfca ){_fcbf =append (_fcbf ,_gdfca );};};_gc .Ints (_fcbf );return _gb .Sprintf ("\u0025\u002b\u0076",_fcbf );};func (_gbcggb paraList )findTables (_bfad []gridTiling )[]*textTable {_gbcggb .addNeighbours ();
_gc .Slice (_gbcggb ,func (_bggd ,_faad int )bool {return _dced (_gbcggb [_bggd ],_gbcggb [_faad ])< 0});var _gdfdg []*textTable ;if _cgdbd {_dfcgb :=_gbcggb .findGridTables (_bfad );_gdfdg =append (_gdfdg ,_dfcgb ...);};if _aac {_acagc :=_gbcggb .findTextTables ();
_gdfdg =append (_gdfdg ,_acagc ...);};return _gdfdg ;};func (_efcd *textObject )getFontDirect (_bac string )(*_ec .PdfFont ,error ){_cgbc ,_abg :=_efcd .getFontDict (_bac );if _abg !=nil {return nil ,_abg ;};_ddff ,_abg :=_ec .NewPdfFontFromPdfObject (_cgbc );
if _abg !=nil {_eb .Log .Debug ("\u0067\u0065\u0074\u0046\u006f\u006e\u0074\u0044\u0069\u0072\u0065\u0063\u0074\u003a\u0020\u004e\u0065\u0077Pd\u0066F\u006f\u006e\u0074\u0046\u0072\u006f\u006d\u0050\u0064\u0066\u004f\u0062j\u0065\u0063\u0074\u0020\u0066\u0061\u0069\u006c\u0065\u0064\u002e\u0020\u006e\u0061\u006d\u0065\u003d%\u0023\u0071\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bac ,_abg );
};return _ddff ,_abg ;};func _dced (_ceed ,_degf bounded )float64 {_ffbf :=_accb (_ceed ,_degf );if !_eggec (_ffbf ){return _ffbf ;};return _gcbc (_ceed ,_degf );};func _ecgg (_gcacf ,_bfeb int )uint64 {return uint64 (_gcacf )*0x1000000+uint64 (_bfeb )};
func (_dfff rulingList )toGrids ()[]rulingList {if _cgcd {_eb .Log .Info ("t\u006f\u0047\u0072\u0069\u0064\u0073\u003a\u0020\u0025\u0073",_dfff );};_feba :=_dfff .intersections ();if _cgcd {_eb .Log .Info ("\u0074\u006f\u0047r\u0069\u0064\u0073\u003a \u0076\u0065\u0063\u0073\u003d\u0025\u0064 \u0069\u006e\u0074\u0065\u0072\u0073\u0065\u0063\u0074\u0073\u003d\u0025\u0064\u0020",len (_dfff ),len (_feba ));
for _ ,_bbef :=range _fcbd (_feba ){_gb .Printf ("\u00254\u0064\u003a\u0020\u0025\u002b\u0076\n",_bbef ,_feba [_bbef ]);};};_ecffb :=make (map[int ]intSet ,len (_dfff ));for _ggfg :=range _dfff {_gbga :=_dfff .connections (_feba ,_ggfg );if len (_gbga )> 0{_ecffb [_ggfg ]=_gbga ;
};};if _cgcd {_eb .Log .Info ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u0063\u006fn\u006e\u0065\u0063\u0074s=\u0025\u0064",len (_ecffb ));for _ ,_deda :=range _fcbd (_ecffb ){_gb .Printf ("\u00254\u0064\u003a\u0020\u0025\u002b\u0076\n",_deda ,_ecffb [_deda ]);
};};_fagc :=_fdabcd (len (_dfff ),func (_acdcf ,_aafg int )bool {_cbcd ,_bcccf :=len (_ecffb [_acdcf ]),len (_ecffb [_aafg ]);if _cbcd !=_bcccf {return _cbcd > _bcccf ;};return _dfff .comp (_acdcf ,_aafg );});if _cgcd {_eb .Log .Info ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u006f\u0072d\u0065\u0072\u0069\u006eg=\u0025\u0076",_fagc );
};_eede :=[][]int {{_fagc [0]}};_ebbb :for _ ,_gfca :=range _fagc [1:]{for _dabfe ,_gcfe :=range _eede {for _ ,_bbag :=range _gcfe {if _ecffb [_bbag ].has (_gfca ){_eede [_dabfe ]=append (_gcfe ,_gfca );continue _ebbb ;};};};_eede =append (_eede ,[]int {_gfca });
};if _cgcd {_eb .Log .Info ("\u0074o\u0047r\u0069\u0064\u0073\u003a\u0020i\u0067\u0072i\u0064\u0073\u003d\u0025\u0076",_eede );};_gc .SliceStable (_eede ,func (_efcc ,_dbfda int )bool {return len (_eede [_efcc ])> len (_eede [_dbfda ])});for _ ,_cdgfd :=range _eede {_gc .Slice (_cdgfd ,func (_acda ,_ffag int )bool {return _dfff .comp (_cdgfd [_acda ],_cdgfd [_ffag ])});
};_ebcf :=make ([]rulingList ,len (_eede ));for _adee ,_afgba :=range _eede {_bgce :=make (rulingList ,len (_afgba ));for _eacf ,_dbeb :=range _afgba {_bgce [_eacf ]=_dfff [_dbeb ];};_ebcf [_adee ]=_bgce ;};if _cgcd {_eb .Log .Info ("\u0074o\u0047r\u0069\u0064\u0073\u003a\u0020g\u0072\u0069d\u0073\u003d\u0025\u002b\u0076",_ebcf );
};var _dggef []rulingList ;for _ ,_aabg :=range _ebcf {if _dgcc ,_eegag :=_aabg .isActualGrid ();_eegag {_aabg =_dgcc ;_aabg =_aabg .snapToGroups ();_dggef =append (_dggef ,_aabg );};};if _cgcd {_ecbcb ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u0061\u0063t\u0075\u0061\u006c\u0047ri\u0064\u0073",_dggef );
_eb .Log .Info ("\u0074\u006f\u0047\u0072\u0069\u0064\u0073\u003a\u0020\u0067\u0072\u0069\u0064\u0073\u003d%\u0064 \u0061\u0063\u0074\u0075\u0061\u006c\u0047\u0072\u0069\u0064\u0073\u003d\u0025\u0064",len (_ebcf ),len (_dggef ));};return _dggef ;};func _bddbf (_eade bounded )float64 {return -_eade .bbox ().Lly };
type rulingKind int ;func _efae (_fgagc _ec .PdfRectangle ,_befba []*textLine )*textPara {return &textPara {PdfRectangle :_fgagc ,_efaa :_befba };};

// String returns a human readable description of `ss`.
func (_dgea *shapesState )String ()string {return _gb .Sprintf ("\u007b\u0025\u0064\u0020su\u0062\u0070\u0061\u0074\u0068\u0073\u0020\u0066\u0072\u0065\u0073\u0068\u003d\u0025t\u007d",len (_dgea ._afbde ),_dgea ._agfa );};

// ExtractTextWithStats works like ExtractText but returns the number of characters in the output
// (`numChars`) and the number of characters that were not decoded (`numMisses`).
func (_cde *Extractor )ExtractTextWithStats ()(_bge string ,_efa int ,_afe int ,_gca error ){_bcef ,_efa ,_afe ,_gca :=_cde .ExtractPageText ();if _gca !=nil {return "",_efa ,_afe ,_gca ;};return _bcef .Text (),_efa ,_afe ,nil ;};func _gaca (_eagbf structElement )[]structElement {_dfag :=[]structElement {};
for _ ,_eacc :=range _eagbf ._gbba {for _ ,_dega :=range _eacc ._gbba {for _ ,_dbff :=range _dega ._gbba {if _dbff ._beaga =="\u004c"{_dfag =append (_dfag ,_dbff );};};};};return _dfag ;};func (_ggea *textLine )endsInHyphen ()bool {_aad :=_ggea ._ffef [len (_ggea ._ffef )-1];
_bgbba :=_aad ._degc ;_fdd ,_cac :=_ea .DecodeLastRuneInString (_bgbba );if _cac <=0||!_ge .Is (_ge .Hyphen ,_fdd ){return false ;};if _aad ._aefb &&_ggeeg (_bgbba ){return true ;};return _ggeeg (_ggea .text ());};func (_beef *shapesState )newSubPath (){_beef .clearPath ();
if _eace {_eb .Log .Info ("\u006e\u0065\u0077\u0053\u0075\u0062\u0050\u0061\u0074h\u003a\u0020\u0025\u0073",_beef );};};func _dbgbd (_geba *textLine ,_aade []*textLine ,_gddg []float64 )float64 {var _agfc float64 =-1;for _ ,_baddc :=range _aade {if _baddc ._dfcf > _geba ._dfcf {if _fb .Round (_baddc .Llx )>=_fb .Round (_geba .Llx ){_agfc =_baddc ._dfcf ;
}else {break ;};};};return _agfc ;};func (_fccde *textLine )bbox ()_ec .PdfRectangle {return _fccde .PdfRectangle };func (_adff *wordBag )text ()string {_deaa :=_adff .allWords ();_eega :=make ([]string ,len (_deaa ));for _gbgd ,_afbg :=range _deaa {_eega [_gbgd ]=_afbg ._degc ;
};return _a .Join (_eega ,"\u0020");};func (_ebgdf compositeCell )split (_edgf ,_bgecd []float64 )*textTable {_edcbd :=len (_edgf )+1;_bageb :=len (_bgecd )+1;if _fdccc {_eb .Log .Info ("\u0063\u006f\u006d\u0070\u006f\u0073\u0069t\u0065\u0043\u0065l\u006c\u002e\u0073\u0070l\u0069\u0074\u003a\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u000a\u0009\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u003d\u0025\u0073\u000a"+"\u0009\u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073=\u0025\u0036\u002e\u0032\u0066\u000a\t\u0063\u006f\u006c\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u003d%\u0036\u002e\u0032\u0066",_bageb ,_edcbd ,_ebgdf ,_edgf ,_bgecd );
_gb .Printf ("\u0020\u0020\u0020\u0020\u0025\u0064\u0020\u0070\u0061\u0072\u0061\u0073\u000a",len (_ebgdf .paraList ));for _fdgbg ,_cbce :=range _ebgdf .paraList {_gb .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_fdgbg ,_cbce .String ());
};_gb .Printf ("\u0020\u0020\u0020\u0020\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u000a",len (_ebgdf .lines ()));for _fbcd ,_fcga :=range _ebgdf .lines (){_gb .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_fbcd ,_fcga );};};_edgf =_gacga (_edgf ,_ebgdf .Ury ,_ebgdf .Lly );
_bgecd =_gacga (_bgecd ,_ebgdf .Llx ,_ebgdf .Urx );_afeb :=make (map[uint64 ]*textPara ,_bageb *_edcbd );_efecg :=textTable {_eegaf :_bageb ,_fgbf :_edcbd ,_aafgf :_afeb };_cadba :=_ebgdf .paraList ;_gc .Slice (_cadba ,func (_gcgg ,_gcgb int )bool {_dedcf ,_edfga :=_cadba [_gcgg ],_cadba [_gcgb ];
_dgfa ,_abeb :=_dedcf .Lly ,_edfga .Lly ;if _dgfa !=_abeb {return _dgfa < _abeb ;};return _dedcf .Llx < _edfga .Llx ;});_eaddb :=make (map[uint64 ]_ec .PdfRectangle ,_bageb *_edcbd );for _ffec ,_dccee :=range _edgf [1:]{_cbbb :=_edgf [_ffec ];for _fefd ,_ecag :=range _bgecd [1:]{_gbecf :=_bgecd [_fefd ];
_eaddb [_ecgg (_fefd ,_ffec )]=_ec .PdfRectangle {Llx :_gbecf ,Urx :_ecag ,Lly :_dccee ,Ury :_cbbb };};};if _fdccc {_eb .Log .Info ("\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u0043\u0065l\u006c\u002e\u0073\u0070\u006c\u0069\u0074\u003a\u0020\u0072e\u0063\u0074\u0073");
_gb .Printf ("\u0020\u0020\u0020\u0020");for _bdaa :=0;_bdaa < _bageb ;_bdaa ++{_gb .Printf ("\u0025\u0033\u0030\u0064\u002c\u0020",_bdaa );};_gb .Println ();for _gdfc :=0;_gdfc < _edcbd ;_gdfc ++{_gb .Printf ("\u0020\u0020\u0025\u0032\u0064\u003a",_gdfc );
for _faef :=0;_faef < _bageb ;_faef ++{_gb .Printf ("\u00256\u002e\u0032\u0066\u002c\u0020",_eaddb [_ecgg (_faef ,_gdfc )]);};_gb .Println ();};};_ebca :=func (_gbbf *textLine )(int ,int ){for _cedd :=0;_cedd < _edcbd ;_cedd ++{for _agebf :=0;_agebf < _bageb ;
_agebf ++{if _gdeg (_eaddb [_ecgg (_agebf ,_cedd )],_gbbf .PdfRectangle ){return _agebf ,_cedd ;};};};return -1,-1;};_ggffg :=make (map[uint64 ][]*textLine ,_bageb *_edcbd );for _ ,_cgcde :=range _cadba .lines (){_dcdbb ,_bbga :=_ebca (_cgcde );if _dcdbb < 0{continue ;
};_ggffg [_ecgg (_dcdbb ,_bbga )]=append (_ggffg [_ecgg (_dcdbb ,_bbga )],_cgcde );};for _badfa :=0;_badfa < len (_edgf )-1;_badfa ++{_bdfac :=_edgf [_badfa ];_agadc :=_edgf [_badfa +1];for _gfaf :=0;_gfaf < len (_bgecd )-1;_gfaf ++{_dccb :=_bgecd [_gfaf ];
_eddc :=_bgecd [_gfaf +1];_gffa :=_ec .PdfRectangle {Llx :_dccb ,Urx :_eddc ,Lly :_agadc ,Ury :_bdfac };_bgcd :=_ggffg [_ecgg (_gfaf ,_badfa )];if len (_bgcd )==0{continue ;};_cffdb :=_efae (_gffa ,_bgcd );_efecg .put (_gfaf ,_badfa ,_cffdb );};};return &_efecg ;
};func (_fgb *Extractor )extractPageText (_gdb string ,_cge *_ec .PdfPageResources ,_ecg _ecd .Matrix ,_cdb int )(*PageText ,int ,int ,error ){_eb .Log .Trace ("\u0065x\u0074\u0072\u0061\u0063t\u0050\u0061\u0067\u0065\u0054e\u0078t\u003a \u006c\u0065\u0076\u0065\u006c\u003d\u0025d",_cdb );
_gcaf :=&PageText {_ddb :_fgb ._bd ,_egg :_fgb ._cf ,_cgbd :_fgb ._fe };_beb :=_acea (_fgb ._bd );var _bbc stateStack ;_fage :=_fdcfg (_fgb ,_cge ,_fcb .GraphicsState {},&_beb ,&_bbc );_gdg :=shapesState {_cggb :_ecg ,_bed :_ecd .IdentityMatrix (),_dedg :_fage };
var _ee bool ;_edd :=-1;if _cdb > _dabe {_dea :=_b .New ("\u0066\u006f\u0072\u006d s\u0074\u0061\u0063\u006b\u0020\u006f\u0076\u0065\u0072\u0066\u006c\u006f\u0077");_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a \u0065\u0078\u0074\u0072\u0061\u0063\u0074\u0050\u0061\u0067\u0065\u0054\u0065\u0078\u0074\u002e\u0020\u0072\u0065\u0063u\u0072\u0073\u0069\u006f\u006e\u0020\u006c\u0065\u0076\u0065\u006c\u003d\u0025\u0064 \u0065r\u0072\u003d\u0025\u0076",_cdb ,_dea );
return _gcaf ,_beb ._acbd ,_beb ._begd ,_dea ;};_feg :=_fcb .NewContentStreamParser (_gdb );_gdd ,_aca :=_feg .Parse ();if _aca !=nil {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020e\u0078\u0074\u0072a\u0063\u0074\u0050\u0061g\u0065\u0054\u0065\u0078\u0074\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0066\u0061\u0069\u006c\u0065\u0064\u002e\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_aca );
return _gcaf ,_beb ._acbd ,_beb ._begd ,_aca ;};_gcaf ._abc =_gdd ;_bddb :=_fcb .NewContentStreamProcessor (*_gdd );_bddb .AddHandler (_fcb .HandlerConditionEnumAllOperands ,"",func (_daa *_fcb .ContentStreamOperation ,_gac _fcb .GraphicsState ,_bbbb *_ec .PdfPageResources )error {_deab :=_daa .Operand ;
if _dadg {_eb .Log .Info ("\u0026&\u0026\u0020\u006f\u0070\u003d\u0025s",_daa );};switch _deab {case "\u0071":if _eace {_eb .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_gdg ._bed );};_bbc .push (&_beb );case "\u0051":if !_bbc .empty (){_beb =*_bbc .pop ();
};_gdg ._bed =_gac .CTM ;if _eace {_eb .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_gdg ._bed );};case "\u0042\u0044\u0043":_efe ,_cfbgc :=_c .GetDict (_daa .Params [1]);if !_cfbgc {_eb .Log .Debug ("\u0045\u0052\u0052O\u0052\u003a\u0020\u0042D\u0043\u0020\u006f\u0070\u003d\u0025\u0073 \u0047\u0065\u0074\u0044\u0069\u0063\u0074\u0020\u0066\u0061\u0069\u006c\u0065\u0064",_daa );
return _aca ;};_ddc :=_efe .Get ("\u004d\u0043\u0049\u0044");if _ddc !=nil {_fbbc ,_gef :=_c .GetIntVal (_ddc );if !_gef {_eb .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0042\u0044C\u0020\u006f\u0070=\u0025\u0073\u002e\u0020\u0042\u0061\u0064\u0020\u006eum\u0065\u0072\u0069c\u0061\u006c \u006f\u0062\u006a\u0065\u0063\u0074.\u0020\u006f=\u0025\u0073",_daa ,_ddc );
};_edd =_fbbc ;}else {_edd =-1;};case "\u0045\u004d\u0043":_edd =-1;case "\u0042\u0054":if _ee {_eb .Log .Debug ("\u0042\u0054\u0020\u0063\u0061\u006c\u006c\u0065\u0064\u0020\u0077\u0068\u0069\u006c\u0065 \u0069n\u0020\u0061\u0020\u0074\u0065\u0078\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074");
_gcaf ._fgc =append (_gcaf ._fgc ,_fage ._cad ...);};_ee =true ;_geg :=_gac ;_geg .CTM =_ecg .Mult (_geg .CTM );_fage =_fdcfg (_fgb ,_bbbb ,_geg ,&_beb ,&_bbc );_gdg ._dedg =_fage ;case "\u0045\u0054":if !_ee {_eb .Log .Debug ("\u0045\u0054\u0020ca\u006c\u006c\u0065\u0064\u0020\u006f\u0075\u0074\u0073i\u0064e\u0020o\u0066 \u0061\u0020\u0074\u0065\u0078\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074");
};_ee =false ;_gcaf ._fgc =append (_gcaf ._fgc ,_fage ._cad ...);_fage .reset ();case "\u0054\u002a":_fage .nextLine ();case "\u0054\u0064":if _ebb ,_cgb :=_fage .checkOp (_daa ,2,true );!_ebb {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_cgb );
return _cgb ;};_beg ,_ccf ,_bged :=_effbc (_daa .Params );if _bged !=nil {return _bged ;};_fage .moveText (_beg ,_ccf );case "\u0054\u0044":if _cda ,_ceg :=_fage .checkOp (_daa ,2,true );!_cda {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_ceg );
return _ceg ;};_gffe ,_eac ,_eec :=_effbc (_daa .Params );if _eec !=nil {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_eec );return _eec ;};_fage .moveTextSetLeading (_gffe ,_eac );case "\u0054\u006a":if _age ,_feaf :=_fage .checkOp (_daa ,1,true );
!_age {_eb .Log .Debug ("\u0045\u0052\u0052\u004fR:\u0020\u0054\u006a\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0065\u0072\u0072\u003d%\u0076",_daa ,_feaf );return _feaf ;};_ega :=_c .TraceToDirectObject (_daa .Params [0]);_cffc ,_dad :=_c .GetStringBytes (_ega );
if !_dad {_eb .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020T\u006a\u0020o\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074S\u0074\u0072\u0069\u006e\u0067\u0042\u0079\u0074\u0065\u0073\u0020\u0066a\u0069\u006c\u0065\u0064",_daa );return _c .ErrTypeError ;
};return _fage .showText (_ega ,_cffc ,_edd );case "\u0054\u004a":if _ecc ,_dada :=_fage .checkOp (_daa ,1,true );!_ecc {_eb .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u004a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_dada );return _dada ;};_afa ,_bec :=_c .GetArray (_daa .Params [0]);
if !_bec {_eb .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0054\u004a\u0020\u006f\u0070\u003d\u0025s\u0020G\u0065t\u0041r\u0072\u0061\u0079\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065\u0064",_daa );return _aca ;};return _fage .showTextAdjusted (_afa ,_edd );
case "\u0027":if _edgd ,_ced :=_fage .checkOp (_daa ,1,true );!_edgd {_eb .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u0027\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_ced );return _ced ;};_agf :=_c .TraceToDirectObject (_daa .Params [0]);_acc ,_aff :=_c .GetStringBytes (_agf );
if !_aff {_eb .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020'\u0020\u006f\u0070\u003d%s \u0047et\u0053\u0074\u0072\u0069\u006e\u0067\u0042yt\u0065\u0073\u0020\u0066\u0061\u0069\u006ce\u0064",_daa );return _c .ErrTypeError ;};_fage .nextLine ();return _fage .showText (_agf ,_acc ,_edd );
case "\u0022":if _ccfe ,_efc :=_fage .checkOp (_daa ,3,true );!_ccfe {_eb .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u0022\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_efc );return _efc ;};_becg ,_dbde ,_egae :=_effbc (_daa .Params [:2]);if _egae !=nil {return _egae ;
};_acd :=_c .TraceToDirectObject (_daa .Params [2]);_edde ,_ccec :=_c .GetStringBytes (_acd );if !_ccec {_eb .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020\"\u0020\u006f\u0070\u003d%s \u0047et\u0053\u0074\u0072\u0069\u006e\u0067\u0042yt\u0065\u0073\u0020\u0066\u0061\u0069\u006ce\u0064",_daa );
return _c .ErrTypeError ;};_fage .setCharSpacing (_becg );_fage .setWordSpacing (_dbde );_fage .nextLine ();return _fage .showText (_acd ,_edde ,_edd );case "\u0054\u004c":_fede ,_afec :=_abd (_daa );if _afec !=nil {_eb .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u004c\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_afec );
return _afec ;};_fage .setTextLeading (_fede );case "\u0054\u0063":_gbg ,_defc :=_abd (_daa );if _defc !=nil {_eb .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0063\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_defc );return _defc ;};_fage .setCharSpacing (_gbg );
case "\u0054\u0066":if _fbbd ,_dcb :=_fage .checkOp (_daa ,2,true );!_fbbd {_eb .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0066\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_dcb );return _dcb ;};_ddf ,_eagf :=_c .GetNameVal (_daa .Params [0]);
if !_eagf {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a \u0054\u0066\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074\u004ea\u006d\u0065\u0056\u0061\u006c\u0020\u0066a\u0069\u006c\u0065\u0064",_daa );return _c .ErrTypeError ;};_agc ,_fgg :=_c .GetNumberAsFloat (_daa .Params [1]);
if !_eagf {_eb .Log .Debug ("\u0045\u0052\u0052O\u0052\u003a\u0020\u0054\u0066\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074\u0046\u006c\u006f\u0061\u0074\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065d\u002e\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_daa ,_fgg );
return _fgg ;};_fgg =_fage .setFont (_ddf ,_agc );_fage ._bfg =_bb .Is (_fgg ,_c .ErrNotSupported );if _fgg !=nil &&!_fage ._bfg {return _fgg ;};case "\u0054\u006d":if _badd ,_fbf :=_fage .checkOp (_daa ,6,true );!_badd {_eb .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u006d\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_fbf );
return _fbf ;};_fbge ,_dff :=_c .GetNumbersAsFloat (_daa .Params );if _dff !=nil {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_dff );return _dff ;};_fage .setTextMatrix (_fbge );case "\u0054\u0072":if _cbb ,_aab :=_fage .checkOp (_daa ,1,true );
!_cbb {_eb .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0072\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_aab );return _aab ;};_dee ,_bcg :=_c .GetIntVal (_daa .Params [0]);if !_bcg {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0054\u0072\u0020\u006f\u0070\u003d\u0025\u0073 \u0047e\u0074\u0049\u006e\u0074\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065\u0064",_daa );
return _c .ErrTypeError ;};_fage .setTextRenderMode (_dee );case "\u0054\u0073":if _bgc ,_bcgg :=_fage .checkOp (_daa ,1,true );!_bgc {_eb .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0073\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bcgg );return _bcgg ;
};_dadb ,_affg :=_c .GetNumberAsFloat (_daa .Params [0]);if _affg !=nil {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_affg );return _affg ;};_fage .setTextRise (_dadb );case "\u0054\u0077":if _baf ,_ca :=_fage .checkOp (_daa ,1,true );
!_baf {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_ca );return _ca ;};_fdb ,_cfc :=_c .GetNumberAsFloat (_daa .Params [0]);if _cfc !=nil {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_cfc );
return _cfc ;};_fage .setWordSpacing (_fdb );case "\u0054\u007a":if _aba ,_cgde :=_fage .checkOp (_daa ,1,true );!_aba {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_cgde );return _cgde ;};_gfd ,_bfc :=_c .GetNumberAsFloat (_daa .Params [0]);
if _bfc !=nil {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bfc );return _bfc ;};_fage .setHorizScaling (_gfd );case "\u0063\u006d":_gdg ._bed =_gac .CTM ;if _gdg ._bed .Singular (){_caf :=_ecd .IdentityMatrix ().Translate (_gdg ._bed .Translation ());
_eb .Log .Debug ("S\u0069n\u0067\u0075\u006c\u0061\u0072\u0020\u0063\u0074m\u003d\u0025\u0073\u2192%s",_gdg ._bed ,_caf );_gdg ._bed =_caf ;};if _eace {_eb .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_gdg ._bed );};case "\u006d":if len (_daa .Params )!=2{_eb .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006d\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0076\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_db );
return nil ;};_fggb ,_aga :=_c .GetNumbersAsFloat (_daa .Params );if _aga !=nil {return _aga ;};_gdg .moveTo (_fggb [0],_fggb [1]);case "\u006c":if len (_daa .Params )!=2{_eb .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006c\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0076\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_db );
return nil ;};_fbbdg ,_ggd :=_c .GetNumbersAsFloat (_daa .Params );if _ggd !=nil {return _ggd ;};_gdg .lineTo (_fbbdg [0],_fbbdg [1]);case "\u0063":if len (_daa .Params )!=6{return _db ;};_ecca ,_afg :=_c .GetNumbersAsFloat (_daa .Params );if _afg !=nil {return _afg ;
};_eb .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020b\u0065\u007a\u0069\u0065\u0072 \u0070a\u0072a\u006d\u0073\u003a\u0020\u0025\u002e\u0032f",_ecca );_gdg .cubicTo (_ecca [0],_ecca [1],_ecca [2],_ecca [3],_ecca [4],_ecca [5]);case "\u0076","\u0079":if len (_daa .Params )!=4{return _db ;
};_dgc ,_ccc :=_c .GetNumbersAsFloat (_daa .Params );if _ccc !=nil {return _ccc ;};_eb .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020b\u0065\u007a\u0069\u0065\u0072 \u0070a\u0072a\u006d\u0073\u003a\u0020\u0025\u002e\u0032f",_dgc );_gdg .quadraticTo (_dgc [0],_dgc [1],_dgc [2],_dgc [3]);
case "\u0068":_gdg .closePath ();case "\u0072\u0065":if len (_daa .Params )!=4{return _db ;};_eaff ,_gcbg :=_c .GetNumbersAsFloat (_daa .Params );if _gcbg !=nil {return _gcbg ;};_gdg .drawRectangle (_eaff [0],_eaff [1],_eaff [2],_eaff [3]);_gdg .closePath ();
case "\u0053":_gdg .stroke (&_gcaf ._ged );_gdg .clearPath ();case "\u0073":_gdg .closePath ();_gdg .stroke (&_gcaf ._ged );_gdg .clearPath ();case "\u0046":_gdg .fill (&_gcaf ._ffgd );_gdg .clearPath ();case "\u0066","\u0066\u002a":_gdg .closePath ();
_gdg .fill (&_gcaf ._ffgd );_gdg .clearPath ();case "\u0042","\u0042\u002a":_gdg .fill (&_gcaf ._ffgd );_gdg .stroke (&_gcaf ._ged );_gdg .clearPath ();case "\u0062","\u0062\u002a":_gdg .closePath ();_gdg .fill (&_gcaf ._ffgd );_gdg .stroke (&_gcaf ._ged );
_gdg .clearPath ();case "\u006e":_gdg .clearPath ();case "\u0044\u006f":if len (_daa .Params )==0{_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0058\u004fbj\u0065c\u0074\u0020\u006e\u0061\u006d\u0065\u0020\u006f\u0070\u0065\u0072\u0061n\u0064\u0020\u0066\u006f\u0072\u0020\u0044\u006f\u0020\u006f\u0070\u0065\u0072\u0061\u0074\u006f\u0072.\u0020\u0047\u006f\u0074\u0020\u0025\u002b\u0076\u002e",_daa .Params );
return _c .ErrRangeError ;};_dgfc ,_bgg :=_c .GetName (_daa .Params [0]);if !_bgg {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0044\u006f\u0020\u006f\u0070e\u0072a\u0074\u006f\u0072\u0020\u0058\u004f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0061\u006d\u0065\u0020\u006fp\u0065\u0072\u0061\u006e\u0064\u003a\u0020\u0025\u002b\u0076\u002e",_daa .Params [0]);
return _c .ErrTypeError ;};_ ,_faea :=_bbbb .GetXObjectByName (*_dgfc );if _faea !=_ec .XObjectTypeForm {break ;};_bdg ,_bgg :=_fgb ._af [_dgfc .String ()];if !_bgg {_gfdb ,_fge :=_bbbb .GetXObjectFormByName (*_dgfc );if _fge !=nil {_eb .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_fge );
return _fge ;};_dfgd ,_fge :=_gfdb .GetContentStream ();if _fge !=nil {_eb .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_fge );return _fge ;};_afd :=_gfdb .Resources ;if _afd ==nil {_afd =_bbbb ;};_efcb :=_gac .CTM ;if _gab ,_deea :=_c .GetArray (_gfdb .Matrix );
_deea {_efea ,_cae :=_gab .GetAsFloat64Slice ();if _cae !=nil {return _cae ;};if len (_efea )!=6{return _db ;};_eecd :=_ecd .NewMatrix (_efea [0],_efea [1],_efea [2],_efea [3],_efea [4],_efea [5]);_efcb =_gac .CTM .Mult (_eecd );};_agce ,_bcc ,_gdbe ,_fge :=_fgb .extractPageText (string (_dfgd ),_afd ,_ecg .Mult (_efcb ),_cdb +1);
if _fge !=nil {_eb .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_fge );return _fge ;};_bdg =textResult {*_agce ,_bcc ,_gdbe };_fgb ._af [_dgfc .String ()]=_bdg ;};_gdg ._bed =_gac .CTM ;if _eace {_eb .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_gdg ._bed );
};_gcaf ._fgc =append (_gcaf ._fgc ,_bdg ._bdf ._fgc ...);_gcaf ._ged =append (_gcaf ._ged ,_bdg ._bdf ._ged ...);_gcaf ._ffgd =append (_gcaf ._ffgd ,_bdg ._bdf ._ffgd ...);_beb ._acbd +=_bdg ._dafa ;_beb ._begd +=_bdg ._aeeb ;case "\u0072\u0067","\u0067","\u006b","\u0063\u0073","\u0073\u0063","\u0073\u0063\u006e":_fage ._gge .ColorspaceNonStroking =_gac .ColorspaceNonStroking ;
_fage ._gge .ColorNonStroking =_gac .ColorNonStroking ;case "\u0052\u0047","\u0047","\u004b","\u0043\u0053","\u0053\u0043","\u0053\u0043\u004e":_fage ._gge .ColorspaceStroking =_gac .ColorspaceStroking ;_fage ._gge .ColorStroking =_gac .ColorStroking ;
};return nil ;});_aca =_bddb .Process (_cge );return _gcaf ,_beb ._acbd ,_beb ._begd ,_aca ;};func _dafgd (_gegab []*textLine )map[float64 ][]*textLine {_gc .Slice (_gegab ,func (_aaa ,_edaa int )bool {return _gegab [_aaa ]._dfcf < _gegab [_edaa ]._dfcf });
_aadg :=map[float64 ][]*textLine {};for _ ,_fgce :=range _gegab {_fbga :=_dca (_fgce );_fbga =_fb .Round (_fbga );_aadg [_fbga ]=append (_aadg [_fbga ],_fgce );};return _aadg ;};

// String returns a string descibing `i`.
func (_ccbge gridTile )String ()string {_fcbc :=func (_afdde bool ,_bfgeb string )string {if _afdde {return _bfgeb ;};return "\u005f";};return _gb .Sprintf ("\u00256\u002e2\u0066\u0020\u0025\u0031\u0073%\u0031\u0073%\u0031\u0073\u0025\u0031\u0073",_ccbge .PdfRectangle ,_fcbc (_ccbge ._dbgbe ,"\u004c"),_fcbc (_ccbge ._gafab ,"\u0052"),_fcbc (_ccbge ._bgaf ,"\u0042"),_fcbc (_ccbge ._effc ,"\u0054"));
};

// String returns a human readable description of `path`.
func (_aece *subpath )String ()string {_dabfb :=_aece ._ece ;_caa :=len (_dabfb );if _caa <=5{return _gb .Sprintf ("\u0025d\u003a\u0020\u0025\u0036\u002e\u0032f",_caa ,_dabfb );};return _gb .Sprintf ("\u0025d\u003a\u0020\u0025\u0036.\u0032\u0066\u0020\u0025\u0036.\u0032f\u0020.\u002e\u002e\u0020\u0025\u0036\u002e\u0032f",_caa ,_dabfb [0],_dabfb [1],_dabfb [_caa -1]);
};func (_dddc *PageText )getParagraphs ()paraList {var _adcg rulingList ;if _aaef {_afda :=_ggda (_dddc ._ged );_adcg =append (_adcg ,_afda ...);};if _bbaa {_fbaf :=_ebeb (_dddc ._ffgd );_adcg =append (_adcg ,_fbaf ...);};_adcg ,_bbbe :=_adcg .toTilings ();
var _gbce paraList ;_cdgg :=len (_dddc ._fgc );for _bcdc :=0;_bcdc < 360&&_cdgg > 0;_bcdc +=90{_dgee :=make ([]*textMark ,0,len (_dddc ._fgc )-_cdgg );for _ ,_acag :=range _dddc ._fgc {if _acag ._eaaf ==_bcdc {_dgee =append (_dgee ,_acag );};};if len (_dgee )> 0{_dedc :=_ebe (_dgee ,_dddc ._ddb ,_adcg ,_bbbe ,_dddc ._gabf ._bbg );
_gbce =append (_gbce ,_dedc ...);_cdgg -=len (_dgee );};};return _gbce ;};func _ebbe (_bccd []int )[]int {_cbbefc :=make ([]int ,len (_bccd ));for _dfdab ,_bdfg :=range _bccd {_cbbefc [len (_bccd )-1-_dfdab ]=_bdfg ;};return _cbbefc ;};func (_dacc *textTable )emptyCompositeRow (_gagb int )bool {for _feab :=0;
_feab < _dacc ._eegaf ;_feab ++{if _dadaf ,_decag :=_dacc ._ecgfc [_ecgg (_feab ,_gagb )];_decag {if len (_dadaf .paraList )> 0{return false ;};};};return true ;};func (_acgf *wordBag )removeDuplicates (){if _daba {_eb .Log .Info ("r\u0065m\u006f\u0076\u0065\u0044\u0075\u0070\u006c\u0069c\u0061\u0074\u0065\u0073: \u0025\u0071",_acgf .text ());
};for _ ,_cfece :=range _acgf .depthIndexes (){if len (_acgf ._cegd [_cfece ])==0{continue ;};_efbg :=_acgf ._cegd [_cfece ][0];_agad :=_bdgg *_efbg ._aagde ;_aafb :=_efbg ._afedc ;for _ ,_aage :=range _acgf .depthBand (_aafb ,_aafb +_agad ){_cdecd :=map[*textWord ]struct{}{};
_fbgba :=_acgf ._cegd [_aage ];for _ ,_cggbg :=range _fbgba {if _ ,_bgdb :=_cdecd [_cggbg ];_bgdb {continue ;};for _ ,_gfaa :=range _fbgba {if _ ,_dcffa :=_cdecd [_gfaa ];_dcffa {continue ;};if _gfaa !=_cggbg &&_gfaa ._degc ==_cggbg ._degc &&_fb .Abs (_gfaa .Llx -_cggbg .Llx )< _agad &&_fb .Abs (_gfaa .Urx -_cggbg .Urx )< _agad &&_fb .Abs (_gfaa .Lly -_cggbg .Lly )< _agad &&_fb .Abs (_gfaa .Ury -_cggbg .Ury )< _agad {_cdecd [_gfaa ]=struct{}{};
};};};if len (_cdecd )> 0{_cggc :=0;for _ ,_ffaef :=range _fbgba {if _ ,_bfea :=_cdecd [_ffaef ];!_bfea {_fbgba [_cggc ]=_ffaef ;_cggc ++;};};_acgf ._cegd [_aage ]=_fbgba [:len (_fbgba )-len (_cdecd )];if len (_acgf ._cegd [_aage ])==0{delete (_acgf ._cegd ,_aage );
};};};};};var _fba =false ;func (_fgaf compositeCell )String ()string {_gfac :="";if len (_fgaf .paraList )> 0{_gfac =_dgbg (_fgaf .paraList .merge ().text (),50);};return _gb .Sprintf ("\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0064\u0020\u0070\u0061\u0072a\u0073\u0020\u0025\u0071",_fgaf .PdfRectangle ,len (_fgaf .paraList ),_gfac );
};

// Append appends `mark` to the mark array.
func (_cegg *TextMarkArray )Append (mark TextMark ){_cegg ._dga =append (_cegg ._dga ,mark )};

// RangeOffset returns the TextMarks in `ma` that overlap text[start:end] in the extracted text.
// These are tm: `start` <= tm.Offset + len(tm.Text) && tm.Offset < `end` where
// `start` and `end` are offsets in the extracted text.
// NOTE: TextMarks can contain multiple characters. e.g. "ffi" for the ﬃ ligature so the first and
// last elements of the returned TextMarkArray may only partially overlap text[start:end].
func (_cgf *TextMarkArray )RangeOffset (start ,end int )(*TextMarkArray ,error ){if _cgf ==nil {return nil ,_b .New ("\u006da\u003d\u003d\u006e\u0069\u006c");};if end < start {return nil ,_gb .Errorf ("\u0065\u006e\u0064\u0020\u003c\u0020\u0073\u0074\u0061\u0072\u0074\u002e\u0020\u0052\u0061n\u0067\u0065\u004f\u0066\u0066\u0073\u0065\u0074\u0020\u006e\u006f\u0074\u0020d\u0065\u0066\u0069\u006e\u0065\u0064\u002e\u0020\u0073\u0074\u0061\u0072t=\u0025\u0064\u0020\u0065\u006e\u0064\u003d\u0025\u0064\u0020",start ,end );
};_eef :=len (_cgf ._dga );if _eef ==0{return _cgf ,nil ;};if start < _cgf ._dga [0].Offset {start =_cgf ._dga [0].Offset ;};if end > _cgf ._dga [_eef -1].Offset +1{end =_cgf ._dga [_eef -1].Offset +1;};_fgbc :=_gc .Search (_eef ,func (_ccbb int )bool {return _cgf ._dga [_ccbb ].Offset +len (_cgf ._dga [_ccbb ].Text )-1>=start });
if !(0<=_fgbc &&_fgbc < _eef ){_bfcg :=_gb .Errorf ("\u004f\u0075\u0074\u0020\u006f\u0066\u0020\u0072\u0061\u006e\u0067\u0065\u002e\u0020\u0073\u0074\u0061\u0072\u0074\u003d%\u0064\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020\u006c\u0065\u006e\u003d\u0025\u0064\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025\u0076\u000a\u0009 \u006c\u0061\u0073\u0074\u003d%\u0076",start ,_fgbc ,_eef ,_cgf ._dga [0],_cgf ._dga [_eef -1]);
return nil ,_bfcg ;};_edb :=_gc .Search (_eef ,func (_bbcg int )bool {return _cgf ._dga [_bbcg ].Offset > end -1});if !(0<=_edb &&_edb < _eef ){_abdg :=_gb .Errorf ("\u004f\u0075\u0074\u0020\u006f\u0066\u0020r\u0061\u006e\u0067e\u002e\u0020\u0065n\u0064\u003d%\u0064\u0020\u0069\u0045\u006e\u0064=\u0025d \u006c\u0065\u006e\u003d\u0025\u0064\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025\u0076\u000a\u0009\u0020\u006c\u0061\u0073\u0074\u003d\u0025\u0076",end ,_edb ,_eef ,_cgf ._dga [0],_cgf ._dga [_eef -1]);
return nil ,_abdg ;};if _edb <=_fgbc {return nil ,_gb .Errorf ("\u0069\u0045\u006e\u0064\u0020\u003c=\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003a\u0020\u0073\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020\u0065\u006ed\u003d\u0025\u0064\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020i\u0045n\u0064\u003d\u0025\u0064",start ,end ,_fgbc ,_edb );
};return &TextMarkArray {_dga :_cgf ._dga [_fgbc :_edb ]},nil ;};func (_baffc *textPara )getListLines ()[]*textLine {var _ddbb []*textLine ;_eebd :=_cgec (_baffc ._efaa );for _ ,_bgad :=range _baffc ._efaa {_gagg :=_bgad ._ffef [0]._degc [0];if _deca (_gagg ){_ddbb =append (_ddbb ,_bgad );
};};_ddbb =append (_ddbb ,_eebd ...);return _ddbb ;};func (_cbaf *wordBag )pullWord (_aaec *textWord ,_fbgc int ,_cdeg map[int ]map[*textWord ]struct{}){_cbaf .PdfRectangle =_aebe (_cbaf .PdfRectangle ,_aaec .PdfRectangle );if _aaec ._aagde > _cbaf ._gee {_cbaf ._gee =_aaec ._aagde ;
};_cbaf ._cegd [_fbgc ]=append (_cbaf ._cegd [_fbgc ],_aaec );_cdeg [_fbgc ][_aaec ]=struct{}{};};func _degb (_dfeg ,_gefcf _ec .PdfRectangle )(_ec .PdfRectangle ,bool ){if !_dded (_dfeg ,_gefcf ){return _ec .PdfRectangle {},false ;};return _ec .PdfRectangle {Llx :_fb .Max (_dfeg .Llx ,_gefcf .Llx ),Urx :_fb .Min (_dfeg .Urx ,_gefcf .Urx ),Lly :_fb .Max (_dfeg .Lly ,_gefcf .Lly ),Ury :_fb .Min (_dfeg .Ury ,_gefcf .Ury )},true ;
};type imageExtractContext struct{_ead []ImageMark ;_aec int ;_deb int ;_gbd int ;_fea map[*_c .PdfObjectStream ]*cachedImage ;_bad *ImageExtractOptions ;_deba bool ;};func (_gdbgb paraList )findTextTables ()[]*textTable {var _cdee []*textTable ;for _ ,_gged :=range _gdbgb {if _gged .taken ()||_gged .Width ()==0{continue ;
};_fcdea :=_gged .isAtom ();if _fcdea ==nil {continue ;};_fcdea .growTable ();if _fcdea ._eegaf *_fcdea ._fgbf < _abgd {continue ;};_fcdea .markCells ();_fcdea .log ("\u0067\u0072\u006fw\u006e");_cdee =append (_cdee ,_fcdea );};return _cdee ;};func (_dcbbb paraList )applyTables (_gbggd []*textTable )paraList {var _eaafb paraList ;
for _ ,_dcccb :=range _gbggd {_eaafb =append (_eaafb ,_dcccb .newTablePara ());};for _ ,_eedce :=range _dcbbb {if _eedce ._acdb {continue ;};_eaafb =append (_eaafb ,_eedce );};return _eaafb ;};func _gcbgg (_ecec []structElement ,_eccd map[int ][]*textLine ,_facge _c .PdfObject )[]*list {_ddde :=[]*list {};
for _ ,_fcae :=range _ecec {_fccgf :=_fcae ._gbba ;_cffd :=int (_fcae ._gccf );_efbe :=_fcae ._beaga ;_cfbfc :=[]*textLine {};_geafb :=[]*list {};_cdfb :=_fcae ._fdeac ;_cbdd ,_baea :=(_cdfb .(*_c .PdfObjectReference ));if !_baea {_eb .Log .Debug ("\u0066\u0061\u0069l\u0065\u0064\u0020\u006f\u0074\u0020\u0063\u0061\u0073\u0074\u0020\u0074\u006f\u0020\u002a\u0063\u006f\u0072\u0065\u002e\u0050\u0064\u0066\u004f\u0062\u006a\u0065\u0063\u0074R\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");
};if _cffd !=-1&&_cbdd !=nil {if _caad ,_dbcf :=_eccd [_cffd ];_dbcf {if _dcbe ,_eecc :=_facge .(*_c .PdfIndirectObject );_eecc {_feb :=_dcbe .PdfObjectReference ;if _fc .DeepEqual (*_cbdd ,_feb ){_cfbfc =_caad ;};};};};if _fccgf !=nil {_geafb =_gcbgg (_fccgf ,_eccd ,_facge );
};_fdcd :=_cdfe (_cfbfc ,_efbe ,_geafb );_ddde =append (_ddde ,_fdcd );};return _ddde ;};func (_abcce *ruling )encloses (_feafe ,_begea float64 )bool {return _abcce ._gbaa -_fbbe <=_feafe &&_begea <=_abcce ._abcbd +_fbbe ;};func (_bcfc rulingList )findPrimSec (_agbf ,_baffb float64 )*ruling {for _ ,_aegf :=range _bcfc {if _eggec (_aegf ._ebgag -_agbf )&&_aegf ._gbaa -_fbbe <=_baffb &&_baffb <=_aegf ._abcbd +_fbbe {return _aegf ;
};};return nil ;};func (_gbgg rulingList )blocks (_fgcg ,_ggdc *ruling )bool {if _fgcg ._gbaa > _ggdc ._abcbd ||_ggdc ._gbaa > _fgcg ._abcbd {return false ;};_abbae :=_fb .Max (_fgcg ._gbaa ,_ggdc ._gbaa );_gbabe :=_fb .Min (_fgcg ._abcbd ,_ggdc ._abcbd );
if _fgcg ._ebgag > _ggdc ._ebgag {_fgcg ,_ggdc =_ggdc ,_fgcg ;};for _ ,_aeaa :=range _gbgg {if _fgcg ._ebgag <=_aeaa ._ebgag +_ecdd &&_aeaa ._ebgag <=_ggdc ._ebgag +_ecdd &&_aeaa ._gbaa <=_gbabe &&_abbae <=_aeaa ._abcbd {return true ;};};return false ;
};func (_ccccc *textObject )newTextMark (_egggb string ,_dbegda _ecd .Matrix ,_gcffb _ecd .Point ,_acff float64 ,_faag *_ec .PdfFont ,_cefb float64 ,_cgbf ,_cbccg _gcg .Color ,_dbbb _c .PdfObject ,_adfb []string ,_edfgg int ,_degg int )(textMark ,bool ){_eccc :=_dbegda .Angle ();
_caegd :=_bfgb (_eccc ,_dffc );var _dcefd float64 ;if _caegd %180!=90{_dcefd =_dbegda .ScalingFactorY ();}else {_dcefd =_dbegda .ScalingFactorX ();};_bdcbf :=_gddb (_dbegda );_gfgd :=_ec .PdfRectangle {Llx :_bdcbf .X ,Lly :_bdcbf .Y ,Urx :_gcffb .X ,Ury :_gcffb .Y };
switch _caegd %360{case 90:_gfgd .Urx -=_dcefd ;case 180:_gfgd .Ury -=_dcefd ;case 270:_gfgd .Urx +=_dcefd ;case 0:_gfgd .Ury +=_dcefd ;default:_caegd =0;_gfgd .Ury +=_dcefd ;};if _gfgd .Llx > _gfgd .Urx {_gfgd .Llx ,_gfgd .Urx =_gfgd .Urx ,_gfgd .Llx ;
};if _gfgd .Lly > _gfgd .Ury {_gfgd .Lly ,_gfgd .Ury =_gfgd .Ury ,_gfgd .Lly ;};_dgde :=true ;if _ccccc ._gdca ._bd .Width ()> 0{_ffgb ,_feda :=_degb (_gfgd ,_ccccc ._gdca ._bd );if !_feda {_dgde =false ;_eb .Log .Debug ("\u0054\u0065\u0078\u0074\u0020m\u0061\u0072\u006b\u0020\u006f\u0075\u0074\u0073\u0069\u0064\u0065\u0020\u0070a\u0067\u0065\u002e\u0020\u0062\u0062\u006f\u0078\u003d\u0025\u0067\u0020\u006d\u0065\u0064\u0069\u0061\u0042\u006f\u0078\u003d\u0025\u0067\u0020\u0074\u0065\u0078\u0074\u003d\u0025q",_gfgd ,_ccccc ._gdca ._bd ,_egggb );
};_gfgd =_ffgb ;};_cdge :=_gfgd ;_gae :=_ccccc ._gdca ._bd ;switch _caegd %360{case 90:_gae .Urx ,_gae .Ury =_gae .Ury ,_gae .Urx ;_cdge =_ec .PdfRectangle {Llx :_gae .Urx -_gfgd .Ury ,Urx :_gae .Urx -_gfgd .Lly ,Lly :_gfgd .Llx ,Ury :_gfgd .Urx };case 180:_cdge =_ec .PdfRectangle {Llx :_gae .Urx -_gfgd .Llx ,Urx :_gae .Urx -_gfgd .Urx ,Lly :_gae .Ury -_gfgd .Lly ,Ury :_gae .Ury -_gfgd .Ury };
case 270:_gae .Urx ,_gae .Ury =_gae .Ury ,_gae .Urx ;_cdge =_ec .PdfRectangle {Llx :_gfgd .Ury ,Urx :_gfgd .Lly ,Lly :_gae .Ury -_gfgd .Llx ,Ury :_gae .Ury -_gfgd .Urx };};if _cdge .Llx > _cdge .Urx {_cdge .Llx ,_cdge .Urx =_cdge .Urx ,_cdge .Llx ;};if _cdge .Lly > _cdge .Ury {_cdge .Lly ,_cdge .Ury =_cdge .Ury ,_cdge .Lly ;
};_egbe :=textMark {_bfbb :_egggb ,PdfRectangle :_cdge ,_bfdeb :_gfgd ,_cdbd :_faag ,_dgaad :_dcefd ,_abeca :_cefb ,_befb :_dbegda ,_gddfd :_gcffb ,_eaaf :_caegd ,_gfga :_cgbf ,_ggaa :_cbccg ,_bcea :_dbbb ,_deaag :_adfb ,Th :_ccccc ._becc ._aecac ,Tw :_ccccc ._becc ._fccb ,_cadc :_degg ,_beae :_edfgg };
if _aggd {_eb .Log .Info ("n\u0065\u0077\u0054\u0065\u0078\u0074M\u0061\u0072\u006b\u003a\u0020\u0073t\u0061\u0072\u0074\u003d\u0025\u002e\u0032f\u0020\u0065\u006e\u0064\u003d\u0025\u002e\u0032\u0066\u0020%\u0073",_bdcbf ,_gcffb ,_egbe .String ());};return _egbe ,_dgde ;
};func _gggb (_gcff _ecd .Point )*subpath {return &subpath {_ece :[]_ecd .Point {_gcff }}};var _fbeea =_e .MustCompile ("\u005e\u005c\u0073\u002a\u0028\u005c\u0064\u002b\u005c\u002e\u003f|\u005b\u0049\u0069\u0076\u005d\u002b\u0029\u005c\u0073\u002a\\\u0029\u003f\u0024");
func _abd (_dfgc *_fcb .ContentStreamOperation )(float64 ,error ){if len (_dfgc .Params )!=1{_cfed :=_b .New ("\u0069n\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0070\u0061r\u0061m\u0065t\u0065\u0072\u0020\u0063\u006f\u0075\u006et");_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0025\u0023\u0071\u0020\u0073\u0068\u006f\u0075\u006c\u0064\u0020h\u0061\u0076\u0065\u0020\u0025\u0064\u0020i\u006e\u0070\u0075\u0074\u0020\u0070\u0061\u0072\u0061\u006d\u0073,\u0020\u0067\u006f\u0074\u0020\u0025\u0064\u0020\u0025\u002b\u0076",_dfgc .Operand ,1,len (_dfgc .Params ),_dfgc .Params );
return 0.0,_cfed ;};return _c .GetNumberAsFloat (_dfgc .Params [0]);};func (_dcff *wordBag )depthIndexes ()[]int {if len (_dcff ._cegd )==0{return nil ;};_eded :=make ([]int ,len (_dcff ._cegd ));_cdcca :=0;for _cgea :=range _dcff ._cegd {_eded [_cdcca ]=_cgea ;
_cdcca ++;};_gc .Ints (_eded );return _eded ;};func _affag (_begc _c .PdfObject ,_dfce _gcg .Color )(_d .Image ,error ){_befbg ,_caee :=_c .GetStream (_begc );if !_caee {return nil ,nil ;};_bdaea ,_dfbd :=_ec .NewXObjectImageFromStream (_befbg );if _dfbd !=nil {return nil ,_dfbd ;
};_bcace ,_dfbd :=_bdaea .ToImage ();if _dfbd !=nil {return nil ,_dfbd ;};return _ccff (_bcace ,_dfce ),nil ;};

// PageTextOptions holds various options available in extraction process.
type PageTextOptions struct{_bba bool ;_bbg bool ;};func (_ddad compositeCell )parasBBox ()(paraList ,_ec .PdfRectangle ){return _ddad .paraList ,_ddad .PdfRectangle ;};func (_aaf *TextMarkArray )exists (_cea TextMark )bool {for _ ,_bdbd :=range _aaf .Elements (){if _fc .DeepEqual (_cea .DirectObject ,_bdbd .DirectObject )&&_fc .DeepEqual (_cea .BBox ,_bdbd .BBox )&&_bdbd .Text ==_cea .Text {return true ;
};};return false ;};func (_bgdbg rulingList )intersections ()map[int ]intSet {var _cgce ,_gbeec []int ;for _gbgf ,_edbbf :=range _bgdbg {switch _edbbf ._cggcf {case _dceeg :_cgce =append (_cgce ,_gbgf );case _dccaa :_gbeec =append (_gbeec ,_gbgf );};};
if len (_cgce )< _egaeg +1||len (_gbeec )< _egbc +1{return nil ;};if len (_cgce )+len (_gbeec )> _bbdc {_eb .Log .Debug ("\u0069\u006e\u0074\u0065\u0072\u0073e\u0063\u0074\u0069\u006f\u006e\u0073\u003a\u0020\u0054\u004f\u004f\u0020\u004d\u0041\u004e\u0059\u0020\u0072\u0075\u006ci\u006e\u0067\u0073\u0020\u0076\u0065\u0063\u0073\u003d\u0025\u0064\u0020\u003d\u0020%\u0064 \u0078\u0020\u0025\u0064",len (_bgdbg ),len (_cgce ),len (_gbeec ));
return nil ;};_fceca :=make (map[int ]intSet ,len (_cgce )+len (_gbeec ));for _ ,_bcggd :=range _cgce {for _ ,_fbgeb :=range _gbeec {if _bgdbg [_bcggd ].intersects (_bgdbg [_fbgeb ]){if _ ,_afcc :=_fceca [_bcggd ];!_afcc {_fceca [_bcggd ]=make (intSet );
};if _ ,_abagg :=_fceca [_fbgeb ];!_abagg {_fceca [_fbgeb ]=make (intSet );};_fceca [_bcggd ].add (_fbgeb );_fceca [_fbgeb ].add (_bcggd );};};};return _fceca ;};func _afebb (_dgbce []*textMark ,_adcfg _ec .PdfRectangle )*textWord {_dcbega :=_dgbce [0].PdfRectangle ;
_edac :=_dgbce [0]._dgaad ;for _ ,_dbdd :=range _dgbce [1:]{_dcbega =_aebe (_dcbega ,_dbdd .PdfRectangle );if _dbdd ._dgaad > _edac {_edac =_dbdd ._dgaad ;};};return &textWord {PdfRectangle :_dcbega ,_ebgde :_dgbce ,_afedc :_adcfg .Ury -_dcbega .Lly ,_aagde :_edac };
};func (_fcdcg *textPara )isAtom ()*textTable {_geaee :=_fcdcg ;_bacdd :=_fcdcg ._egad ;_febbg :=_fcdcg ._gcba ;if _bacdd .taken ()||_febbg .taken (){return nil ;};_ebde :=_bacdd ._gcba ;if _ebde .taken ()||_ebde !=_febbg ._egad {return nil ;};return _fdadb (_geaee ,_bacdd ,_febbg ,_ebde );
};func (_ebc *subpath )clear (){*_ebc =subpath {}};func (_edec *ruling )intersects (_aebd *ruling )bool {_facgef :=(_edec ._cggcf ==_dceeg &&_aebd ._cggcf ==_dccaa )||(_aebd ._cggcf ==_dceeg &&_edec ._cggcf ==_dccaa );_dggdf :=func (_eafc ,_ccaae *ruling )bool {return _eafc ._gbaa -_fbbe <=_ccaae ._ebgag &&_ccaae ._ebgag <=_eafc ._abcbd +_fbbe ;
};_cgcdd :=_dggdf (_edec ,_aebd );_eefc :=_dggdf (_aebd ,_edec );if _cgcd {_gb .Printf ("\u0020\u0020\u0020\u0020\u0069\u006e\u0074\u0065\u0072\u0073\u0065\u0063\u0074\u0073\u003a\u0020\u0020\u006fr\u0074\u0068\u006f\u0067\u006f\u006e\u0061l\u003d\u0025\u0074\u0020\u006f\u0031\u003d\u0025\u0074\u0020\u006f2\u003d\u0025\u0074\u0020\u2192\u0020\u0025\u0074\u000a"+"\u0020\u0020\u0020 \u0020\u0020\u0020\u0076\u003d\u0025\u0073\u000a"+" \u0020\u0020\u0020\u0020\u0020\u0077\u003d\u0025\u0073\u000a",_facgef ,_cgcdd ,_eefc ,_facgef &&_cgcdd &&_eefc ,_edec ,_aebd );
};return _facgef &&_cgcdd &&_eefc ;};func _dcbc (_ccdb _ec .PdfRectangle )*ruling {return &ruling {_cggcf :_dceeg ,_ebgag :_ccdb .Llx ,_gbaa :_ccdb .Lly ,_abcbd :_ccdb .Ury };};

// Font represents the font properties on a PDF page.
type Font struct{PdfFont *_ec .PdfFont ;

// FontName represents Font Name from font properties.
FontName string ;

// FontType represents Font Subtype entry in the font dictionary inside page resources.
// Examples : type0, Type1, MMType1, Type3, TrueType, CIDFont.
FontType string ;

// ToUnicode is true if font provides a `ToUnicode` mapping.
ToUnicode bool ;

// IsCID is true if underlying font is a composite font.
// Composite font is represented by a font dictionary whose Subtype is `Type0`
IsCID bool ;

// IsSimple is true if font is simple font.
// A simple font is limited to only 8 bit (255) character codes.
IsSimple bool ;

// FontData represents the raw data of the embedded font file.
// It can have format TrueType (TTF), PostScript Font (PFB) or Compact Font Format (CCF).
// FontData value can be indicates from `FontFile`, `FontFile2` or `FontFile3` inside Font Descriptor.
// At most, only one of `FontFile`, `FontFile2` or `FontFile3` will be FontData value.
FontData []byte ;

// FontFileName is a name representing the font. it has format:
// (Font Name) + (Font Type Extension), example: helvetica.ttf.
FontFileName string ;

// FontDescriptor represents metrics and other attributes inside font properties from PDF Structure (Font Descriptor).
FontDescriptor *_ec .PdfFontDescriptor ;};type rulingList []*ruling ;const (_acg ="\u0045\u0052R\u004f\u0052\u003a\u0020\u0043\u0061\u006e\u0027\u0074\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0020\u0066\u006f\u006e\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u002c\u0020\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0074\u0079\u0070\u0065";
_ff ="\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0043a\u006e\u0027\u0074 g\u0065\u0074\u0020\u0066\u006f\u006et\u0020\u0070\u0072\u006f\u0070\u0065\u0072\u0074\u0069\u0065\u0073\u002c\u0020\u0066\u006fn\u0074\u0020\u006e\u006f\u0074\u0020\u0066\u006fu\u006e\u0064";
_cfg ="\u0045\u0052\u0052O\u0052\u003a\u0020\u0043\u0061\u006e\u0027\u0074\u0020\u0067\u0065\u0074\u0020\u0066\u006f\u006e\u0074\u0020\u0073\u0074\u0072\u0065\u0061\u006d\u002c\u0020\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0074\u0079\u0070\u0065";);
func (_begae paraList )xNeighbours (_ebdfe float64 )map[*textPara ][]int {_eacea :=make ([]event ,2*len (_begae ));if _ebdfe ==0{for _ffcd ,_ebag :=range _begae {_eacea [2*_ffcd ]=event {_ebag .Llx ,true ,_ffcd };_eacea [2*_ffcd +1]=event {_ebag .Urx ,false ,_ffcd };
};}else {for _dgbdd ,_gfda :=range _begae {_eacea [2*_dgbdd ]=event {_gfda .Llx -_ebdfe *_gfda .fontsize (),true ,_dgbdd };_eacea [2*_dgbdd +1]=event {_gfda .Urx +_ebdfe *_gfda .fontsize (),false ,_dgbdd };};};return _begae .eventNeighbours (_eacea );};
func _bceda (_dccbc ,_ccgg _ecd .Point )bool {return _dccbc .X ==_ccgg .X &&_dccbc .Y ==_ccgg .Y };

// ApplyArea processes the page text only within the specified area `bbox`.
// Each time ApplyArea is called, it updates the result set in `pt`.
// Can be called multiple times in a row with different bounding boxes.
func (_faa *PageText )ApplyArea (bbox _ec .PdfRectangle ){_cgge :=make ([]*textMark ,0,len (_faa ._fgc ));for _ ,_cdde :=range _faa ._fgc {if _dded (_cdde .bbox (),bbox ){_cgge =append (_cgge ,_cdde );};};var _abag paraList ;_dfbb :=len (_cgge );for _bggb :=0;
_bggb < 360&&_dfbb > 0;_bggb +=90{_facg :=make ([]*textMark ,0,len (_cgge )-_dfbb );for _ ,_dfdg :=range _cgge {if _dfdg ._eaaf ==_bggb {_facg =append (_facg ,_dfdg );};};if len (_facg )> 0{_afaa :=_ebe (_facg ,_faa ._ddb ,nil ,nil ,_faa ._gabf ._bbg );
_abag =append (_abag ,_afaa ...);_dfbb -=len (_facg );};};_cdec :=new (_fa .Buffer );_abag .writeText (_cdec );_faa ._gegf =_cdec .String ();_faa ._eagg =_abag .toTextMarks ();_faa ._dbce =_abag .tables ();};

// ToTextMark returns the public view of `tm`.
func (_fgbb *textMark )ToTextMark ()TextMark {return TextMark {Text :_fgbb ._bfbb ,Original :_fgbb ._bdfa ,BBox :_fgbb ._bfdeb ,Font :_fgbb ._cdbd ,FontSize :_fgbb ._dgaad ,FillColor :_fgbb ._gfga ,StrokeColor :_fgbb ._ggaa ,Orientation :_fgbb ._eaaf ,DirectObject :_fgbb ._bcea ,ObjString :_fgbb ._deaag ,Tw :_fgbb .Tw ,Th :_fgbb .Th ,Tc :_fgbb ._abeca ,Index :_fgbb ._beae };
};func (_cfe *imageExtractContext )extractXObjectImage (_bee *_c .PdfObjectName ,_aagb _fcb .GraphicsState ,_fbb *_ec .PdfPageResources )error {_edg ,_ :=_fbb .GetXObjectByName (*_bee );if _edg ==nil {return nil ;};_cfee ,_acgd :=_cfe ._fea [_edg ];if !_acgd {_dd ,_ffc :=_fbb .GetXObjectImageByName (*_bee );
if _ffc !=nil {return _ffc ;};if _dd ==nil {return nil ;};_gf ,_ffc :=_dd .ToImage ();if _ffc !=nil {return _ffc ;};var _ccb _d .Image ;if _dd .SMask !=nil {_ccb ,_ffc =_affag (_dd .SMask ,_gcg .Opaque );if _ffc !=nil {_eb .Log .Debug ("W\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0067\u0065\u0074\u0020\u0073\u006f\u0066\u0074\u0020\u0069\u006da\u0067e\u0020\u006d\u0061\u0073k\u002e\u0020O\u0075\u0074\u0070\u0075\u0074\u0020\u006d\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063\u0074\u002e");
};};if _ccb !=nil {_cfbfd ,_cca :=_gf .ToGoImage ();if _cca !=nil {return _cca ;};_cfbfd =_efcca (_cfbfd ,_ccb );switch _dd .ColorSpace .String (){case "\u0044\u0065\u0076\u0069\u0063\u0065\u0047\u0072\u0061\u0079","\u0049n\u0064\u0065\u0078\u0065\u0064":_gf ,_cca =_ec .ImageHandling .NewGrayImageFromGoImage (_cfbfd );
if _cca !=nil {return _cca ;};default:_gf ,_cca =_ec .ImageHandling .NewImageFromGoImage (_cfbfd );if _cca !=nil {return _cca ;};};};_cfee =&cachedImage {_ffa :_gf ,_eda :_dd .ColorSpace };_cfe ._fea [_edg ]=_cfee ;};_fcba :=_cfee ._ffa ;_gbe :=_cfee ._eda ;
_cdc ,_fde :=_gbe .ImageToRGB (*_fcba );if _fde !=nil {return _fde ;};_eb .Log .Debug ("@\u0044\u006f\u0020\u0043\u0054\u004d\u003a\u0020\u0025\u0073",_aagb .CTM .String ());_cbd :=ImageMark {Image :&_cdc ,Width :_aagb .CTM .ScalingFactorX (),Height :_aagb .CTM .ScalingFactorY (),Angle :_aagb .CTM .Angle ()};
_cbd .X ,_cbd .Y =_aagb .CTM .Translation ();_cfe ._ead =append (_cfe ._ead ,_cbd );_cfe ._deb ++;return nil ;};func (_gddf *shapesState )lineTo (_fcff ,_bbdf float64 ){if _eace {_eb .Log .Info ("\u006c\u0069\u006eeT\u006f\u0028\u0025\u002e\u0032\u0066\u002c\u0025\u002e\u0032\u0066\u0020\u0070\u003d\u0025\u002e\u0032\u0066",_fcff ,_bbdf ,_gddf .devicePoint (_fcff ,_bbdf ));
};_gddf .addPoint (_fcff ,_bbdf );};func (_fbdbg *structTreeRoot )buildList (_gbbd map[int ][]*textLine ,_cgedf _c .PdfObject )[]*list {if _fbdbg ==nil {_eb .Log .Debug ("\u0062\u0075\u0069\u006c\u0064\u004c\u0069\u0073\u0074\u003a\u0020t\u0072\u0065\u0065\u0052\u006f\u006f\u0074\u0020\u0069\u0073 \u006e\u0069\u006c");
return nil ;};var _ggfb *structElement ;_ffee :=[]structElement {};if len (_fbdbg ._dgfca )==1{_egce :=_fbdbg ._dgfca [0]._beaga ;if _egce =="\u0044\u006f\u0063\u0075\u006d\u0065\u006e\u0074"||_egce =="\u0053\u0065\u0063\u0074"||_egce =="\u0050\u0061\u0072\u0074"||_egce =="\u0044\u0069\u0076"||_egce =="\u0041\u0072\u0074"{_ggfb =&_fbdbg ._dgfca [0];
};}else {_ggfb =&structElement {_gbba :_fbdbg ._dgfca ,_beaga :_fbdbg ._adda };};if _ggfb ==nil {_eb .Log .Debug ("\u0062\u0075\u0069\u006cd\u004c\u0069\u0073\u0074\u003a\u0020\u0074\u006f\u0070\u0045l\u0065m\u0065\u006e\u0074\u0020\u0069\u0073\u0020n\u0069\u006c");
return nil ;};for _ ,_abcb :=range _ggfb ._gbba {if _abcb ._beaga =="\u004c"{_ffee =append (_ffee ,_abcb );}else if _abcb ._beaga =="\u0054\u0061\u0062l\u0065"{_dbegd :=_gaca (_abcb );_ffee =append (_ffee ,_dbegd ...);};};_ggde :=_gcbgg (_ffee ,_gbbd ,_cgedf );
var _ageb []*list ;for _ ,_caeg :=range _ggde {_dbbc :=_bade (_caeg );_ageb =append (_ageb ,_dbbc ...);};return _ageb ;};

// TextMark represents extracted text on a page with information regarding both textual content,
// formatting (font and size) and positioning.
// It is the smallest unit of text on a PDF page, typically a single character.
//
// getBBox() in test_text.go shows how to compute bounding boxes of substrings of extracted text.
// The following code extracts the text on PDF page `page` into `text` then finds the bounding box
// `bbox` of substring `term` in `text`.
//
//	ex, _ := New(page)
//	// handle errors
//	pageText, _, _, err := ex.ExtractPageText()
//	// handle errors
//	text := pageText.Text()
//	textMarks := pageText.Marks()
//
//		start := strings.Index(text, term)
//	 end := start + len(term)
//	 spanMarks, err := textMarks.RangeOffset(start, end)
//	 // handle errors
//	 bbox, ok := spanMarks.BBox()
//	 // handle errors
type TextMark struct{

// Text is the extracted text.
Text string ;

// Original is the text in the PDF. It has not been decoded like `Text`.
Original string ;

// BBox is the bounding box of the text.
BBox _ec .PdfRectangle ;

// Font is the font the text was drawn with.
Font *_ec .PdfFont ;

// FontSize is the font size the text was drawn with.
FontSize float64 ;

// Offset is the offset of the start of TextMark.Text in the extracted text. If you do this
//   text, textMarks := pageText.Text(), pageText.Marks()
//   marks := textMarks.Elements()
// then marks[i].Offset is the offset of marks[i].Text in text.
Offset int ;

// Meta is set true for spaces and line breaks that we insert in the extracted text. We insert
// spaces (line breaks) when we see characters that are over a threshold horizontal (vertical)
//  distance  apart. See wordJoiner (lineJoiner) in PageText.computeViews().
Meta bool ;

// FillColor is the fill color of the text.
// The color is nil for spaces and line breaks (i.e. the Meta field is true).
FillColor _gcg .Color ;

// StrokeColor is the stroke color of the text.
// The color is nil for spaces and line breaks (i.e. the Meta field is true).
StrokeColor _gcg .Color ;

// Orientation is the text orientation
Orientation int ;

// DirectObject is the underlying PdfObject (Text Object) that represents the visible texts. This is introduced to get
// a simple access to the TextObject in case editing or replacment of some text is needed. E.g during redaction.
DirectObject _c .PdfObject ;

// ObjString is a decoded string operand of a text-showing operator. It has the same value as `Text` attribute except
// when many glyphs are represented with the same Text Object that contains multiple length string operand in which case
// ObjString spans more than one character string that falls in different TextMark objects.
ObjString []string ;Tw float64 ;Th float64 ;Tc float64 ;Index int ;_ebfc bool ;_fdbe *TextTable ;};func (_deff *wordBag )arrangeText ()*textPara {_deff .sort ();if _ddfe {_deff .removeDuplicates ();};var _acgaed []*textLine ;for _ ,_fefg :=range _deff .depthIndexes (){for !_deff .empty (_fefg ){_abca :=_deff .firstReadingIndex (_fefg );
_dccae :=_deff .firstWord (_abca );_ddeg :=_fcdc (_deff ,_abca );_adba :=_dccae ._aagde ;_dacag :=_dccae ._afedc -_cbae *_adba ;_ddba :=_dccae ._afedc +_cbae *_adba ;_dggf :=_becd *_adba ;_aaea :=_afdc *_adba ;_dacf :for {var _cbfdc *textWord ;_edfc :=0;
for _ ,_bccc :=range _deff .depthBand (_dacag ,_ddba ){_ecfb :=_deff .highestWord (_bccc ,_dacag ,_ddba );if _ecfb ==nil {continue ;};_eadde :=_fffec (_ecfb ,_ddeg ._ffef [len (_ddeg ._ffef )-1]);if _eadde < -_aaea {break _dacf ;};if _eadde > _dggf {continue ;
};if _cbfdc !=nil &&_accb (_ecfb ,_cbfdc )>=0{continue ;};_cbfdc =_ecfb ;_edfc =_bccc ;};if _cbfdc ==nil {break ;};_ddeg .pullWord (_deff ,_cbfdc ,_edfc );};_ddeg .markWordBoundaries ();_acgaed =append (_acgaed ,_ddeg );};};if len (_acgaed )==0{return nil ;
};_gc .Slice (_acgaed ,func (_fagfg ,_cgca int )bool {return _fdcb (_acgaed [_fagfg ],_acgaed [_cgca ])< 0});_eabg :=_efae (_deff .PdfRectangle ,_acgaed );if _cddg {_eb .Log .Info ("\u0061\u0072\u0072an\u0067\u0065\u0054\u0065\u0078\u0074\u0020\u0021\u0021\u0021\u0020\u0070\u0061\u0072\u0061\u003d\u0025\u0073",_eabg .String ());
if _cgbb {for _cdca ,_egbd :=range _eabg ._efaa {_gb .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_cdca ,_egbd .String ());if _beefb {for _adbad ,_egda :=range _egbd ._ffef {_gb .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_adbad ,_egda .String ());
for _cdeba ,_dcce :=range _egda ._ebgde {_gb .Printf ("\u00251\u0032\u0064\u003a\u0020\u0025\u0073\n",_cdeba ,_dcce .String ());};};};};};};return _eabg ;};func (_aeae paraList )addNeighbours (){_dccf :=func (_aaca []int ,_caagb *textPara )([]*textPara ,[]*textPara ){_gacd :=make ([]*textPara ,0,len (_aaca )-1);
_ddgfc :=make ([]*textPara ,0,len (_aaca )-1);for _ ,_eadfc :=range _aaca {_aecb :=_aeae [_eadfc ];if _aecb .Urx <=_caagb .Llx {_gacd =append (_gacd ,_aecb );}else if _aecb .Llx >=_caagb .Urx {_ddgfc =append (_ddgfc ,_aecb );};};return _gacd ,_ddgfc ;};
_gbcbc :=func (_cfde []int ,_fggg *textPara )([]*textPara ,[]*textPara ){_efed :=make ([]*textPara ,0,len (_cfde )-1);_fgea :=make ([]*textPara ,0,len (_cfde )-1);for _ ,_dccg :=range _cfde {_gbfaa :=_aeae [_dccg ];if _gbfaa .Ury <=_fggg .Lly {_fgea =append (_fgea ,_gbfaa );
}else if _gbfaa .Lly >=_fggg .Ury {_efed =append (_efed ,_gbfaa );};};return _efed ,_fgea ;};_afded :=_aeae .yNeighbours (_bccac );for _ ,_cccec :=range _aeae {_cfdd :=_afded [_cccec ];if len (_cfdd )==0{continue ;};_gaegcb ,_afebg :=_dccf (_cfdd ,_cccec );
if len (_gaegcb )==0&&len (_afebg )==0{continue ;};if len (_gaegcb )> 0{_bbcdd :=_gaegcb [0];for _ ,_cgdad :=range _gaegcb [1:]{if _cgdad .Urx >=_bbcdd .Urx {_bbcdd =_cgdad ;};};for _ ,_ggfa :=range _gaegcb {if _ggfa !=_bbcdd &&_ggfa .Urx > _bbcdd .Llx {_bbcdd =nil ;
break ;};};if _bbcdd !=nil &&_fgaeb (_cccec .PdfRectangle ,_bbcdd .PdfRectangle ){_cccec ._deef =_bbcdd ;};};if len (_afebg )> 0{_cggcb :=_afebg [0];for _ ,_ddgb :=range _afebg [1:]{if _ddgb .Llx <=_cggcb .Llx {_cggcb =_ddgb ;};};for _ ,_afdab :=range _afebg {if _afdab !=_cggcb &&_afdab .Llx < _cggcb .Urx {_cggcb =nil ;
break ;};};if _cggcb !=nil &&_fgaeb (_cccec .PdfRectangle ,_cggcb .PdfRectangle ){_cccec ._egad =_cggcb ;};};};_afded =_aeae .xNeighbours (_cddc );for _ ,_bfagf :=range _aeae {_geef :=_afded [_bfagf ];if len (_geef )==0{continue ;};_agbeg ,_fcbbc :=_gbcbc (_geef ,_bfagf );
if len (_agbeg )==0&&len (_fcbbc )==0{continue ;};if len (_fcbbc )> 0{_ddgd :=_fcbbc [0];for _ ,_edgdd :=range _fcbbc [1:]{if _edgdd .Ury >=_ddgd .Ury {_ddgd =_edgdd ;};};for _ ,_gdbc :=range _fcbbc {if _gdbc !=_ddgd &&_gdbc .Ury > _ddgd .Lly {_ddgd =nil ;
break ;};};if _ddgd !=nil &&_gfae (_bfagf .PdfRectangle ,_ddgd .PdfRectangle ){_bfagf ._gcba =_ddgd ;};};if len (_agbeg )> 0{_deee :=_agbeg [0];for _ ,_dgeece :=range _agbeg [1:]{if _dgeece .Lly <=_deee .Lly {_deee =_dgeece ;};};for _ ,_ecbe :=range _agbeg {if _ecbe !=_deee &&_ecbe .Lly < _deee .Ury {_deee =nil ;
break ;};};if _deee !=nil &&_gfae (_bfagf .PdfRectangle ,_deee .PdfRectangle ){_bfagf ._feae =_deee ;};};};for _ ,_gade :=range _aeae {if _gade ._deef !=nil &&_gade ._deef ._egad !=_gade {_gade ._deef =nil ;};if _gade ._feae !=nil &&_gade ._feae ._gcba !=_gade {_gade ._feae =nil ;
};if _gade ._egad !=nil &&_gade ._egad ._deef !=_gade {_gade ._egad =nil ;};if _gade ._gcba !=nil &&_gade ._gcba ._feae !=_gade {_gade ._gcba =nil ;};};};func (_begdg *textWord )absorb (_beee *textWord ){_begdg .PdfRectangle =_aebe (_begdg .PdfRectangle ,_beee .PdfRectangle );
_begdg ._ebgde =append (_begdg ._ebgde ,_beee ._ebgde ...);};

// ExtractPageText returns the text contents of `e` (an Extractor for a page) as a PageText.
// TODO(peterwilliams97): The stats complicate this function signature and aren't very useful.
//
//	Replace with a function like Extract() (*PageText, error)
func (_cdd *Extractor )ExtractPageText ()(*PageText ,int ,int ,error ){_bgd ,_gdc ,_bcb ,_dgd :=_cdd .extractPageText (_cdd ._dab ,_cdd ._dg ,_ecd .IdentityMatrix (),0);if _dgd !=nil &&_dgd !=_ec .ErrColorOutOfRange {return nil ,0,0,_dgd ;};if _cdd ._de !=nil {_bgd ._gabf ._bbg =_cdd ._de .UseSimplerExtractionProcess ;
};_bgd .computeViews ();_dgd =_gbgga (_bgd );if _dgd !=nil {return nil ,0,0,_dgd ;};if _cdd ._de !=nil {if _cdd ._de .ApplyCropBox &&_cdd ._ac !=nil {_bgd .ApplyArea (*_cdd ._ac );};_bgd ._gabf ._bba =_cdd ._de .DisableDocumentTags ;};return _bgd ,_gdc ,_bcb ,nil ;
};func _gbfg (_dfgb _ec .PdfRectangle )*ruling {return &ruling {_cggcf :_dccaa ,_ebgag :_dfgb .Ury ,_gbaa :_dfgb .Llx ,_abcbd :_dfgb .Urx };};func (_ceab paraList )writeText (_fdee _f .Writer ){for _cddga ,_acca :=range _ceab {if _acca ._bcdg {continue ;
};_acca .writeText (_fdee );if _cddga !=len (_ceab )-1{if _abff (_acca ,_ceab [_cddga +1]){_fdee .Write ([]byte ("\u0020"));}else {_fdee .Write ([]byte ("\u000a"));_fdee .Write ([]byte ("\u000a"));};};};_fdee .Write ([]byte ("\u000a"));_fdee .Write ([]byte ("\u000a"));
};func _faec (_bbdfb []TextMark ,_fffg *int ,_adbg string )[]TextMark {_fcbaf :=_bgdg ;_fcbaf .Text =_adbg ;return _edbg (_bbdfb ,_fffg ,_fcbaf );};func _ggaab (_gace []*textWord ,_bcgad *textWord )[]*textWord {for _edbbd ,_efbf :=range _gace {if _efbf ==_bcgad {return _cgdee (_gace ,_edbbd );
};};_eb .Log .Error ("\u0072\u0065\u006d\u006f\u0076e\u0057\u006f\u0072\u0064\u003a\u0020\u0077\u006f\u0072\u0064\u0073\u0020\u0064o\u0065\u0073\u006e\u0027\u0074\u0020\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0020\u0077\u006f\u0072\u0064\u003d\u0025\u0073",_bcgad );
return nil ;};func (_badc rulingList )asTiling ()gridTiling {if _afba {_eb .Log .Info ("r\u0075\u006ci\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0076\u0065\u0063s\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u002b\u002b\u002b\u0020\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d",len (_badc ));
};for _bbce ,_ddac :=range _badc [1:]{_daagb :=_badc [_bbce ];if _daagb .alignsPrimary (_ddac )&&_daagb .alignsSec (_ddac ){_eb .Log .Error ("a\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0044\u0075\u0070\u006c\u0069\u0063\u0061\u0074\u0065 \u0072\u0075\u006c\u0069\u006e\u0067\u0073\u002e\u000a\u0009v=\u0025\u0073\u000a\t\u0077=\u0025\u0073",_ddac ,_daagb );
};};_badc .sortStrict ();_badc .log ("\u0073n\u0061\u0070\u0070\u0065\u0064");_ffcb ,_bgfcb :=_badc .vertsHorzs ();_fafc :=_ffcb .primaries ();_cbfb :=_bgfcb .primaries ();_aeedb :=len (_fafc )-1;_cbba :=len (_cbfb )-1;if _aeedb ==0||_cbba ==0{return gridTiling {};
};_bbeac :=_ec .PdfRectangle {Llx :_fafc [0],Urx :_fafc [_aeedb ],Lly :_cbfb [0],Ury :_cbfb [_cbba ]};if _afba {_eb .Log .Info ("\u0072\u0075l\u0069\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0076\u0065\u0072\u0074s=\u0025\u0064",len (_ffcb ));
for _eaafe ,_eegfd :=range _ffcb {_gb .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_eaafe ,_eegfd );};_eb .Log .Info ("\u0072\u0075l\u0069\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0068\u006f\u0072\u007as=\u0025\u0064",len (_bgfcb ));
for _gbfc ,_fbbf :=range _bgfcb {_gb .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_gbfc ,_fbbf );};_eb .Log .Info ("\u0072\u0075\u006c\u0069\u006eg\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067:\u0020\u0020\u0077\u0078\u0068\u003d\u0025\u0064\u0078\u0025\u0064\u000a\u0009\u006c\u006c\u0078\u003d\u0025\u002e\u0032\u0066\u000a\u0009\u006c\u006c\u0079\u003d\u0025\u002e\u0032f",_aeedb ,_cbba ,_fafc ,_cbfb );
};_fddb :=make ([]gridTile ,_aeedb *_cbba );for _gcea :=_cbba -1;_gcea >=0;_gcea --{_gggdg :=_cbfb [_gcea ];_gafad :=_cbfb [_gcea +1];for _cacg :=0;_cacg < _aeedb ;_cacg ++{_febb :=_fafc [_cacg ];_ggdf :=_fafc [_cacg +1];_adfga :=_ffcb .findPrimSec (_febb ,_gggdg );
_ebge :=_ffcb .findPrimSec (_ggdf ,_gggdg );_ccedc :=_bgfcb .findPrimSec (_gggdg ,_febb );_dedd :=_bgfcb .findPrimSec (_gafad ,_febb );_cgbcd :=_ec .PdfRectangle {Llx :_febb ,Urx :_ggdf ,Lly :_gggdg ,Ury :_gafad };_cdagf :=_ggad (_cgbcd ,_adfga ,_ebge ,_ccedc ,_dedd );
_fddb [_gcea *_aeedb +_cacg ]=_cdagf ;if _afba {_gb .Printf ("\u0020\u0020\u0078\u003d\u0025\u0032\u0064\u0020\u0079\u003d\u0025\u0032\u0064\u003a\u0020%\u0073 \u0025\u0036\u002e\u0032\u0066\u0020\u0078\u0020\u0025\u0036\u002e\u0032\u0066\u000a",_cacg ,_gcea ,_cdagf .String (),_cdagf .Width (),_cdagf .Height ());
};};};if _afba {_eb .Log .Info ("r\u0075\u006c\u0069\u006e\u0067\u004c\u0069\u0073\u0074.\u0061\u0073\u0054\u0069\u006c\u0069\u006eg:\u0020\u0063\u006f\u0061l\u0065\u0073\u0063\u0065\u0020\u0068\u006f\u0072\u0069zo\u006e\u0074a\u006c\u002e\u0020\u0025\u0036\u002e\u0032\u0066",_bbeac );
};_efeg :=make ([]map[float64 ]gridTile ,_cbba );for _cefbg :=_cbba -1;_cefbg >=0;_cefbg --{if _afba {_gb .Printf ("\u0020\u0020\u0079\u003d\u0025\u0032\u0064\u000a",_cefbg );};_efeg [_cefbg ]=make (map[float64 ]gridTile ,_aeedb );for _cbcg :=0;_cbcg < _aeedb ;
_cbcg ++{_cdbdd :=_fddb [_cefbg *_aeedb +_cbcg ];if _afba {_gb .Printf ("\u0020\u0020\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_cbcg ,_cdbdd );};if !_cdbdd ._dbgbe {continue ;};_bbcdb :=_cbcg ;for _bbgad :=_cbcg +1;!_cdbdd ._gafab &&_bbgad < _aeedb ;
_bbgad ++{_efee :=_fddb [_cefbg *_aeedb +_bbgad ];_cdbdd .Urx =_efee .Urx ;_cdbdd ._effc =_cdbdd ._effc ||_efee ._effc ;_cdbdd ._bgaf =_cdbdd ._bgaf ||_efee ._bgaf ;_cdbdd ._gafab =_efee ._gafab ;if _afba {_gb .Printf ("\u0020 \u0020%\u0034\u0064\u003a\u0020\u0025s\u0020\u2192 \u0025\u0073\u000a",_bbgad ,_efee ,_cdbdd );
};_bbcdb =_bbgad ;};if _afba {_gb .Printf (" \u0020 \u0025\u0032\u0064\u0020\u002d\u0020\u0025\u0032d\u0020\u2192\u0020\u0025s\n",_cbcg ,_bbcdb ,_cdbdd );};_cbcg =_bbcdb ;_efeg [_cefbg ][_cdbdd .Llx ]=_cdbdd ;};};_gcfd :=make (map[float64 ]map[float64 ]gridTile ,_cbba );
_cfcc :=make (map[float64 ]map[float64 ]struct{},_cbba );for _cdggd :=_cbba -1;_cdggd >=0;_cdggd --{_fgcec :=_fddb [_cdggd *_aeedb ].Lly ;_gcfd [_fgcec ]=make (map[float64 ]gridTile ,_aeedb );_cfcc [_fgcec ]=make (map[float64 ]struct{},_aeedb );};if _afba {_eb .Log .Info ("\u0072u\u006c\u0069n\u0067\u004c\u0069s\u0074\u002e\u0061\u0073\u0054\u0069\u006ci\u006e\u0067\u003a\u0020\u0063\u006fa\u006c\u0065\u0073\u0063\u0065\u0020\u0076\u0065\u0072\u0074\u0069c\u0061\u006c\u002e\u0020\u0025\u0036\u002e\u0032\u0066",_bbeac );
};for _dbda :=_cbba -1;_dbda >=0;_dbda --{_eegc :=_fddb [_dbda *_aeedb ].Lly ;_ebdf :=_efeg [_dbda ];if _afba {_gb .Printf ("\u0020\u0020\u0079\u003d\u0025\u0032\u0064\u000a",_dbda );};for _ ,_bbba :=range _bebadb (_ebdf ){if _ ,_eccg :=_cfcc [_eegc ][_bbba ];
_eccg {continue ;};_aace :=_ebdf [_bbba ];if _afba {_gb .Printf (" \u0020\u0020\u0020\u0020\u0076\u0030\u003d\u0025\u0073\u000a",_aace .String ());};for _befgc :=_dbda -1;_befgc >=0;_befgc --{if _aace ._bgaf {break ;};_bdegg :=_efeg [_befgc ];_afde ,_daacf :=_bdegg [_bbba ];
if !_daacf {break ;};if _afde .Urx !=_aace .Urx {break ;};_aace ._bgaf =_afde ._bgaf ;_aace .Lly =_afde .Lly ;if _afba {_gb .Printf ("\u0020\u0020\u0020\u0020  \u0020\u0020\u0076\u003d\u0025\u0073\u0020\u0076\u0030\u003d\u0025\u0073\u000a",_afde .String (),_aace .String ());
};_cfcc [_afde .Lly ][_afde .Llx ]=struct{}{};};if _dbda ==0{_aace ._bgaf =true ;};if _aace .complete (){_gcfd [_eegc ][_bbba ]=_aace ;};};};_bdedf :=gridTiling {PdfRectangle :_bbeac ,_bfdebc :_cbea (_gcfd ),_geafa :_adeb (_gcfd ),_agcg :_gcfd };_bdedf .log ("\u0043r\u0065\u0061\u0074\u0065\u0064");
return _bdedf ;};func (_bccb *textTable )putComposite (_baca ,_gbfb int ,_bbgd paraList ,_gegba _ec .PdfRectangle ){if len (_bbgd )==0{_eb .Log .Error ("\u0074\u0065xt\u0054\u0061\u0062l\u0065\u0029\u0020\u0070utC\u006fmp\u006f\u0073\u0069\u0074\u0065\u003a\u0020em\u0070\u0074\u0079\u0020\u0070\u0061\u0072a\u0073");
return ;};_eegd :=compositeCell {PdfRectangle :_gegba ,paraList :_bbgd };if _fdccc {_gb .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0070\u0075\u0074\u0043\u006f\u006d\u0070o\u0073i\u0074\u0065\u0028\u0025\u0064\u002c\u0025\u0064\u0029\u003c\u002d\u0025\u0073\u000a",_baca ,_gbfb ,_eegd .String ());
};_eegd .updateBBox ();_bccb ._ecgfc [_ecgg (_baca ,_gbfb )]=_eegd ;};func (_gce *wordBag )removeWord (_ggee *textWord ,_bdbf int ){_fdge :=_gce ._cegd [_bdbf ];_fdge =_ggaab (_fdge ,_ggee );if len (_fdge )==0{delete (_gce ._cegd ,_bdbf );}else {_gce ._cegd [_bdbf ]=_fdge ;
};};type textResult struct{_bdf PageText ;_dafa int ;_aeeb int ;};func (_bggbf *shapesState )stroke (_becb *[]pathSection ){_daec :=pathSection {_bbbg :_bggbf ._afbde ,Color :_bggbf ._dedg .getStrokeColor ()};*_becb =append (*_becb ,_daec );if _cgcd {_gb .Printf ("\u0020 \u0020\u0020S\u0054\u0052\u004fK\u0045\u003a\u0020\u0025\u0064\u0020\u0073t\u0072\u006f\u006b\u0065\u0073\u0020s\u0073\u003d\u0025\u0073\u0020\u0063\u006f\u006c\u006f\u0072\u003d%\u002b\u0076\u0020\u0025\u0036\u002e\u0032\u0066\u000a",len (*_becb ),_bggbf ,_bggbf ._dedg .getStrokeColor (),_daec .bbox ());
if _aegc {for _abfb ,_bcfb :=range _bggbf ._afbde {_gb .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_abfb ,_bcfb );if _abfb ==10{break ;};};};};};func _ggeeg (_fdebc string )bool {if _ea .RuneCountInString (_fdebc )< _feag {return false ;
};_bced ,_ddfg :=_ea .DecodeLastRuneInString (_fdebc );if _ddfg <=0||!_ge .Is (_ge .Hyphen ,_bced ){return false ;};_bced ,_ddfg =_ea .DecodeLastRuneInString (_fdebc [:len (_fdebc )-_ddfg ]);return _ddfg > 0&&!_ge .IsSpace (_bced );};func (_baaa *textTable )growTable (){_aeea :=func (_cccb paraList ){_baaa ._fgbf ++;
for _dbdc :=0;_dbdc < _baaa ._eegaf ;_dbdc ++{_feea :=_cccb [_dbdc ];_baaa .put (_dbdc ,_baaa ._fgbf -1,_feea );};};_abced :=func (_dfec paraList ){_baaa ._eegaf ++;for _aafbe :=0;_aafbe < _baaa ._fgbf ;_aafbe ++{_gbad :=_dfec [_aafbe ];_baaa .put (_baaa ._eegaf -1,_aafbe ,_gbad );
};};if _egfd {_baaa .log ("\u0067r\u006f\u0077\u0054\u0061\u0062\u006ce");};for _ccgab :=0;;_ccgab ++{_cdgc :=false ;_gbfgb :=_baaa .getDown ();_dbac :=_baaa .getRight ();if _egfd {_gb .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_ccgab ,_baaa );
_gb .Printf ("\u0020\u0020 \u0020\u0020\u0020 \u0020\u0064\u006f\u0077\u006e\u003d\u0025\u0073\u000a",_gbfgb );_gb .Printf ("\u0020\u0020 \u0020\u0020\u0020 \u0072\u0069\u0067\u0068\u0074\u003d\u0025\u0073\u000a",_dbac );};if _gbfgb !=nil &&_dbac !=nil {_gefd :=_gbfgb [len (_gbfgb )-1];
if !_gefd .taken ()&&_gefd ==_dbac [len (_dbac )-1]{_aeea (_gbfgb );if _dbac =_baaa .getRight ();_dbac !=nil {_abced (_dbac );_baaa .put (_baaa ._eegaf -1,_baaa ._fgbf -1,_gefd );};_cdgc =true ;};};if !_cdgc &&_gbfgb !=nil {_aeea (_gbfgb );_cdgc =true ;
};if !_cdgc &&_dbac !=nil {_abced (_dbac );_cdgc =true ;};if !_cdgc {break ;};};};func (_ecdfa rulingList )log (_agfca string ){if !_cgcd {return ;};_eb .Log .Info ("\u0023\u0023\u0023\u0020\u0025\u0031\u0030\u0073\u003a\u0020\u0076\u0065c\u0073\u003d\u0025\u0073",_agfca ,_ecdfa .String ());
for _acfde ,_ccae :=range _ecdfa {_gb .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_acfde ,_ccae .String ());};};func (_fcde *shapesState )lastpointEstablished ()(_ecd .Point ,bool ){if _fcde ._agfa {return _fcde ._dfab ,false ;};_fda :=len (_fcde ._afbde );
if _fda > 0&&_fcde ._afbde [_fda -1]._eddd {return _fcde ._afbde [_fda -1].last (),false ;};return _ecd .Point {},true ;};func _fgag (_dcee func (*wordBag ,*textWord ,float64 )bool ,_egac float64 )func (*wordBag ,*textWord )bool {return func (_gfdf *wordBag ,_dag *textWord )bool {return _dcee (_gfdf ,_dag ,_egac )};
};

// ImageMark represents an image drawn on a page and its position in device coordinates.
// All coordinates are in device coordinates.
type ImageMark struct{Image *_ec .Image ;

// Dimensions of the image as displayed in the PDF.
Width float64 ;Height float64 ;

// Position of the image in PDF coordinates (lower left corner).
X float64 ;Y float64 ;

// Angle in degrees, if rotated.
Angle float64 ;};func (_bded rectRuling )asRuling ()(*ruling ,bool ){_cgba :=ruling {_cggcf :_bded ._ddfeg ,Color :_bded .Color ,_dcfce :_cedfc };switch _bded ._ddfeg {case _dceeg :_cgba ._ebgag =0.5*(_bded .Llx +_bded .Urx );_cgba ._gbaa =_bded .Lly ;
_cgba ._abcbd =_bded .Ury ;_afdf ,_gcacb :=_bded .checkWidth (_bded .Llx ,_bded .Urx );if !_gcacb {if _cbed {_eb .Log .Error ("\u0072\u0065\u0063\u0074\u0052\u0075l\u0069\u006e\u0067\u002e\u0061\u0073\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0072\u0075\u006c\u0069\u006e\u0067V\u0065\u0072\u0074\u0020\u0021\u0063\u0068\u0065\u0063\u006b\u0057\u0069\u0064\u0074h\u0020v\u003d\u0025\u002b\u0076",_bded );
};return nil ,false ;};_cgba ._dece =_afdf ;case _dccaa :_cgba ._ebgag =0.5*(_bded .Lly +_bded .Ury );_cgba ._gbaa =_bded .Llx ;_cgba ._abcbd =_bded .Urx ;_fbdd ,_edbba :=_bded .checkWidth (_bded .Lly ,_bded .Ury );if !_edbba {if _cbed {_eb .Log .Error ("\u0072\u0065\u0063\u0074\u0052\u0075l\u0069\u006e\u0067\u002e\u0061\u0073\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0072\u0075\u006c\u0069\u006e\u0067H\u006f\u0072\u007a\u0020\u0021\u0063\u0068\u0065\u0063\u006b\u0057\u0069\u0064\u0074h\u0020v\u003d\u0025\u002b\u0076",_bded );
};return nil ,false ;};_cgba ._dece =_fbdd ;default:_eb .Log .Error ("\u0062\u0061\u0064\u0020pr\u0069\u006d\u0061\u0072\u0079\u0020\u006b\u0069\u006e\u0064\u003d\u0025\u0064",_bded ._ddfeg );return nil ,false ;};return &_cgba ,true ;};func (_ede *TextMarkArray )getTextMarkAtOffset (_ddca int )*TextMark {for _ ,_fbdb :=range _ede ._dga {if _fbdb .Offset ==_ddca {return &_fbdb ;
};};return nil ;};func (_eagd *textLine )toTextMarks (_abdga *int )[]TextMark {var _dcdd []TextMark ;for _ ,_adfg :=range _eagd ._ffef {if _adfg ._aefb {_dcdd =_faec (_dcdd ,_abdga ,"\u0020");};_cccc :=_adfg .toTextMarks (_abdga );_dcdd =append (_dcdd ,_cccc ...);
};return _dcdd ;};

// Extractor stores and offers functionality for extracting content from PDF pages.
type Extractor struct{_dab string ;_dg *_ec .PdfPageResources ;_bd _ec .PdfRectangle ;_ac *_ec .PdfRectangle ;_cg map[string ]fontEntry ;_af map[string ]textResult ;_fcd int64 ;_gbf int ;_de *Options ;_cf *_c .PdfObject ;_fe _c .PdfObject ;};

// TextTable represents a table.
// Cells are ordered top-to-bottom, left-to-right.
// Cells[y] is the (0-offset) y'th row in the table.
// Cells[y][x] is the (0-offset) x'th column in the table.
type TextTable struct{_ec .PdfRectangle ;W ,H int ;Cells [][]TableCell ;};const (_ggag =true ;_ddfe =true ;_bfe =true ;_bedb =false ;_fagb =false ;_ccgd =6;_eagc =3.0;_gdcg =200;_cgdbd =true ;_aac =true ;_aaef =true ;_bbaa =true ;_aacc =false ;);func (_accad paraList )inTile (_faeaf gridTile )paraList {var _aacb paraList ;
for _ ,_fcbb :=range _accad {if _faeaf .contains (_fcbb .PdfRectangle ){_aacb =append (_aacb ,_fcbb );};};if _fdccc {_gb .Printf ("\u0020 \u0020\u0069\u006e\u0054i\u006c\u0065\u003a\u0020\u0020%\u0073 \u0069n\u0073\u0069\u0064\u0065\u003d\u0025\u0064\n",_faeaf ,len (_aacb ));
for _bbfba ,_afbbd :=range _aacb {_gb .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_bbfba ,_afbbd );};_gb .Println ("");};return _aacb ;};type ruling struct{_cggcf rulingKind ;_dcfce markKind ;_gcg .Color ;_ebgag float64 ;_gbaa float64 ;
_abcbd float64 ;_dece float64 ;};func (_fdcad *wordBag )sort (){for _ ,_gcef :=range _fdcad ._cegd {_gc .Slice (_gcef ,func (_gbea ,_gbbga int )bool {return _accb (_gcef [_gbea ],_gcef [_gbbga ])< 0});};};func _bade (_cgfe *list )[]*list {var _dfabb []*list ;
for _ ,_caec :=range _cgfe ._cfab {switch _caec ._gdbg {case "\u004c\u0049":_gfba :=_edbd (_caec );_edfb :=_bade (_caec );_eage :=_cdfe (_gfba ,"\u0062\u0075\u006c\u006c\u0065\u0074",_edfb );_ddee :=_dgda (_gfba ,"");_eage ._badf =_ddee ;_dfabb =append (_dfabb ,_eage );
case "\u004c\u0042\u006fd\u0079":return _bade (_caec );case "\u004c":_gffd :=_bade (_caec );_dfabb =append (_dfabb ,_gffd ...);return _dfabb ;};};return _dfabb ;};

// Text returns the text content of the `bulletLists`.
func (_cdgd *lists )Text ()string {_eadc :=&_a .Builder {};for _ ,_aeeg :=range *_cdgd {_bbabc :=_aeeg .Text ();_eadc .WriteString (_bbabc );};return _eadc .String ();};

// Text gets the extracted text contained in `l`.
func (_beac *list )Text ()string {_dfea :=&_a .Builder {};_acgaf :="";_deaaf (_beac ,_dfea ,&_acgaf );return _dfea .String ();};func (_gcbf paraList )tables ()[]TextTable {var _ccbg []TextTable ;if _fdccc {_eb .Log .Info ("\u0070\u0061\u0072\u0061\u0073\u002e\u0074\u0061\u0062\u006c\u0065\u0073\u003a");
};for _ ,_dbab :=range _gcbf {_bbcd :=_dbab ._ffbc ;if _bbcd !=nil &&_bbcd .isExportable (){_ccbg =append (_ccbg ,_bbcd .toTextTable ());};};return _ccbg ;};

// GetContentStreamOps returns the contentStreamOps field of `pt`.
func (_fcag *PageText )GetContentStreamOps ()*_fcb .ContentStreamOperations {return _fcag ._abc };func (_gdbf rulingList )tidied (_fgbcc string )rulingList {_aaecg :=_gdbf .removeDuplicates ();_aaecg .log ("\u0075n\u0069\u0071\u0075\u0065\u0073");_fffcc :=_aaecg .snapToGroups ();
if _fffcc ==nil {return nil ;};_fffcc .sort ();if _cgcd {_eb .Log .Info ("\u0074\u0069\u0064i\u0065\u0064\u003a\u0020\u0025\u0071\u0020\u0076\u0065\u0063\u0073\u003d\u0025\u0064\u0020\u0075\u006e\u0069\u0071\u0075\u0065\u0073\u003d\u0025\u0064\u0020\u0063\u006f\u0061l\u0065\u0073\u0063\u0065\u0064\u003d\u0025\u0064",_fgbcc ,len (_gdbf ),len (_aaecg ),len (_fffcc ));
};_fffcc .log ("\u0063o\u0061\u006c\u0065\u0073\u0063\u0065d");return _fffcc ;};

// NewWithOptions an Extractor instance for extracting content from the input PDF page with options.
func NewWithOptions (page *_ec .PdfPage ,options *Options )(*Extractor ,error ){const _eba ="\u0065x\u0074\u0072\u0061\u0063\u0074\u006f\u0072\u002e\u004e\u0065\u0077W\u0069\u0074\u0068\u004f\u0070\u0074\u0069\u006f\u006e\u0073";_ed ,_fbg :=page .GetAllContentStreams ();
if _fbg !=nil {return nil ,_fbg ;};_ce ,_df :=page .GetStructTreeRoot ();if !_df {_eb .Log .Info ("T\u0068\u0065\u0020\u0070\u0064\u0066\u0020\u0064\u006f\u0063\u0075\u006d\u0065\u006e\u0074\u0020\u0069\u0073\u0020\u006e\u006f\u0074\u0020\u0074\u0061\u0067g\u0065d\u002e\u0020\u0053\u0074r\u0075\u0063t\u0054\u0072\u0065\u0065\u0052\u006f\u006f\u0074\u0020\u0064\u006f\u0065\u0073\u006e\u0027\u0074\u0020\u0065\u0078\u0069\u0073\u0074\u002e");
};_cc :=page .GetContainingPdfObject ();_cff ,_fbg :=page .GetMediaBox ();if _fbg !=nil {return nil ,_gb .Errorf ("\u0065\u0078\u0074r\u0061\u0063\u0074\u006fr\u0020\u0072\u0065\u0071\u0075\u0069\u0072e\u0073\u0020\u006d\u0065\u0064\u0069\u0061\u0042\u006f\u0078\u002e\u0020\u0025\u0076",_fbg );
};_ggf :=&Extractor {_dab :_ed ,_dg :page .Resources ,_bd :*_cff ,_ac :page .CropBox ,_cg :map[string ]fontEntry {},_af :map[string ]textResult {},_de :options ,_cf :_ce ,_fe :_cc };if _ggf ._bd .Llx > _ggf ._bd .Urx {_eb .Log .Info ("\u004d\u0065\u0064\u0069\u0061\u0042o\u0078\u0020\u0068\u0061\u0073\u0020\u0058\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073\u0020r\u0065\u0076\u0065\u0072\u0073\u0065\u0064\u002e\u0020\u0025\u002e\u0032\u0066\u0020F\u0069x\u0069\u006e\u0067\u002e",_ggf ._bd );
_ggf ._bd .Llx ,_ggf ._bd .Urx =_ggf ._bd .Urx ,_ggf ._bd .Llx ;};if _ggf ._bd .Lly > _ggf ._bd .Ury {_eb .Log .Info ("\u004d\u0065\u0064\u0069\u0061\u0042o\u0078\u0020\u0068\u0061\u0073\u0020\u0059\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073\u0020r\u0065\u0076\u0065\u0072\u0073\u0065\u0064\u002e\u0020\u0025\u002e\u0032\u0066\u0020F\u0069x\u0069\u006e\u0067\u002e",_ggf ._bd );
_ggf ._bd .Lly ,_ggf ._bd .Ury =_ggf ._bd .Ury ,_ggf ._bd .Lly ;};_eae .TrackUse (_eba );return _ggf ,nil ;};func _edbg (_ggeaf []TextMark ,_ebbc *int ,_afecd TextMark )[]TextMark {_afecd .Offset =*_ebbc ;_ggeaf =append (_ggeaf ,_afecd );*_ebbc +=len (_afecd .Text );
return _ggeaf ;};func (_dfdabc *textPara )bbox ()_ec .PdfRectangle {return _dfdabc .PdfRectangle };func (_bbab *shapesState )devicePoint (_dffe ,_agdaa float64 )_ecd .Point {_feee :=_bbab ._cggb .Mult (_bbab ._bed );_dffe ,_agdaa =_feee .Transform (_dffe ,_agdaa );
return _ecd .NewPoint (_dffe ,_agdaa );};func (_edfe *wordBag )maxDepth ()float64 {return _edfe ._gfef -_edfe .Lly };type fontEntry struct{_ccbad *_ec .PdfFont ;_ebba int64 ;};type lineRuling struct{_acdg rulingKind ;_ggeg markKind ;_gcg .Color ;_gdfd ,_ccceb _ecd .Point ;
};func _bgcdg (_gfgbc _ec .PdfRectangle )*ruling {return &ruling {_cggcf :_dceeg ,_ebgag :_gfgbc .Urx ,_gbaa :_gfgbc .Lly ,_abcbd :_gfgbc .Ury };};func (_fcfg *textObject )checkOp (_bdc *_fcb .ContentStreamOperation ,_daag int ,_fcac bool )(_cdbc bool ,_gbb error ){if _fcfg ==nil {var _dbca []_c .PdfObject ;
if _daag > 0{_dbca =_bdc .Params ;if len (_dbca )> _daag {_dbca =_dbca [:_daag ];};};_eb .Log .Debug ("\u0025\u0023q \u006f\u0070\u0065r\u0061\u006e\u0064\u0020out\u0073id\u0065\u0020\u0074\u0065\u0078\u0074\u002e p\u0061\u0072\u0061\u006d\u0073\u003d\u0025+\u0076",_bdc .Operand ,_dbca );
};if _daag >=0{if len (_bdc .Params )!=_daag {if _fcac {_gbb =_b .New ("\u0069n\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0070\u0061r\u0061m\u0065t\u0065\u0072\u0020\u0063\u006f\u0075\u006et");};_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0025\u0023\u0071\u0020\u0073\u0068\u006f\u0075\u006c\u0064\u0020h\u0061\u0076\u0065\u0020\u0025\u0064\u0020i\u006e\u0070\u0075\u0074\u0020\u0070\u0061\u0072\u0061\u006d\u0073,\u0020\u0067\u006f\u0074\u0020\u0025\u0064\u0020\u0025\u002b\u0076",_bdc .Operand ,_daag ,len (_bdc .Params ),_bdc .Params );
return false ,_gbb ;};};return true ,nil ;};

// Elements returns the TextMarks in `ma`.
func (_gafa *TextMarkArray )Elements ()[]TextMark {return _gafa ._dga };

// PageFonts represents extracted fonts on a PDF page.
type PageFonts struct{Fonts []Font ;};

// TableCell is a cell in a TextTable.
type TableCell struct{_ec .PdfRectangle ;

// Text is the extracted text.
Text string ;

// Marks returns the TextMarks corresponding to the text in Text.
Marks TextMarkArray ;};func (_fgad paraList )log (_bgcg string ){if !_dfcg {return ;};_eb .Log .Info ("%\u0038\u0073\u003a\u0020\u0025\u0064 \u0070\u0061\u0072\u0061\u0073\u0020=\u003d\u003d\u003d\u003d\u003d\u003d\u002d-\u002d\u002d\u002d\u002d\u002d\u003d\u003d\u003d\u003d\u003d=\u003d",_bgcg ,len (_fgad ));
for _fdabc ,_daaec :=range _fgad {if _daaec ==nil {continue ;};_begf :=_daaec .text ();_dddf :="\u0020\u0020";if _daaec ._ffbc !=nil {_dddf =_gb .Sprintf ("\u005b%\u0064\u0078\u0025\u0064\u005d",_daaec ._ffbc ._eegaf ,_daaec ._ffbc ._fgbf );};_gb .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0025s\u0020\u0025\u0071\u000a",_fdabc ,_daaec .PdfRectangle ,_dddf ,_dgbg (_begf ,50));
};};func _bfedd (_cace string )bool {for _ ,_daged :=range _cace {if !_ge .IsSpace (_daged ){return false ;};};return true ;};func _gddb (_ege _ecd .Matrix )_ecd .Point {_cdbb ,_bafe :=_ege .Translation ();return _ecd .Point {X :_cdbb ,Y :_bafe };};func _cdba (_fdgg ,_dgdea _ecd .Point )bool {_effb :=_fb .Abs (_fdgg .X -_dgdea .X );
_dfca :=_fb .Abs (_fdgg .Y -_dgdea .Y );return _geab (_effb ,_dfca );};func _cbea (_adece map[float64 ]map[float64 ]gridTile )[]float64 {_abbf :=make ([]float64 ,0,len (_adece ));_feafc :=make (map[float64 ]struct{},len (_adece ));for _ ,_edeb :=range _adece {for _dgcg :=range _edeb {if _ ,_cdfeb :=_feafc [_dgcg ];
_cdfeb {continue ;};_abbf =append (_abbf ,_dgcg );_feafc [_dgcg ]=struct{}{};};};_gc .Float64s (_abbf );return _abbf ;};func _eedc (_dabab *paraList )map[int ][]*textLine {_cddd :=map[int ][]*textLine {};for _ ,_fcea :=range *_dabab {for _ ,_dcdf :=range _fcea ._efaa {if !_agbe (_dcdf ){_eb .Log .Debug ("g\u0072\u006f\u0075p\u004c\u0069\u006e\u0065\u0073\u003a\u0020\u0054\u0068\u0065\u0020\u0074\u0065\u0078\u0074\u0020\u006c\u0069\u006e\u0065\u0020\u0063\u006f\u006e\u0074a\u0069\u006e\u0073 \u006d\u006f\u0072\u0065\u0020\u0074\u0068\u0061\u006e\u0020\u006f\u006e\u0065 \u006d\u0063\u0069\u0064 \u006e\u0075\u006d\u0062e\u0072\u002e\u0020\u0049\u0074\u0020\u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0062\u0065\u0020\u0073p\u006c\u0069\u0074\u002e");
continue ;};_cag :=_dcdf ._ffef [0]._ebgde [0]._cadc ;_cddd [_cag ]=append (_cddd [_cag ],_dcdf );};if _fcea ._ffbc !=nil {_gcfc :=_fcea ._ffbc ._aafgf ;for _ ,_dcdca :=range _gcfc {for _ ,_cfbb :=range _dcdca ._efaa {if !_agbe (_cfbb ){_eb .Log .Debug ("g\u0072\u006f\u0075p\u004c\u0069\u006e\u0065\u0073\u003a\u0020\u0054\u0068\u0065\u0020\u0074\u0065\u0078\u0074\u0020\u006c\u0069\u006e\u0065\u0020\u0063\u006f\u006e\u0074a\u0069\u006e\u0073 \u006d\u006f\u0072\u0065\u0020\u0074\u0068\u0061\u006e\u0020\u006f\u006e\u0065 \u006d\u0063\u0069\u0064 \u006e\u0075\u006d\u0062e\u0072\u002e\u0020\u0049\u0074\u0020\u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0062\u0065\u0020\u0073p\u006c\u0069\u0074\u002e");
continue ;};_fbag :=_cfbb ._ffef [0]._ebgde [0]._cadc ;_cddd [_fbag ]=append (_cddd [_fbag ],_cfbb );};};};};return _cddd ;};func _dded (_ebac ,_ffeg _ec .PdfRectangle )bool {return _gfae (_ebac ,_ffeg )&&_fgaeb (_ebac ,_ffeg )};func _accb (_gcga ,_gffbd bounded )float64 {return _gcga .bbox ().Llx -_gffbd .bbox ().Llx };
func (_ggbg *textTable )reduce ()*textTable {_cbaed :=make ([]int ,0,_ggbg ._fgbf );_aedfc :=make ([]int ,0,_ggbg ._eegaf );for _cgbe :=0;_cgbe < _ggbg ._fgbf ;_cgbe ++{if !_ggbg .emptyCompositeRow (_cgbe ){_cbaed =append (_cbaed ,_cgbe );};};for _ecfe :=0;
_ecfe < _ggbg ._eegaf ;_ecfe ++{if !_ggbg .emptyCompositeColumn (_ecfe ){_aedfc =append (_aedfc ,_ecfe );};};if len (_cbaed )==_ggbg ._fgbf &&len (_aedfc )==_ggbg ._eegaf {return _ggbg ;};_caea :=textTable {_bdab :_ggbg ._bdab ,_eegaf :len (_aedfc ),_fgbf :len (_cbaed ),_aafgf :make (map[uint64 ]*textPara ,len (_aedfc )*len (_cbaed ))};
if _fdccc {_eb .Log .Info ("\u0072\u0065\u0064\u0075ce\u003a\u0020\u0025\u0064\u0078\u0025\u0064\u0020\u002d\u003e\u0020\u0025\u0064\u0078%\u0064",_ggbg ._eegaf ,_ggbg ._fgbf ,len (_aedfc ),len (_cbaed ));_eb .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0043\u006f\u006c\u0073\u003a\u0020\u0025\u002b\u0076",_aedfc );
_eb .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0052\u006f\u0077\u0073\u003a\u0020\u0025\u002b\u0076",_cbaed );};for _dcdbf ,_egfb :=range _cbaed {for _daaf ,_cgfc :=range _aedfc {_aaad ,_cfaag :=_ggbg .getComposite (_cgfc ,_egfb );if _aaad ==nil {continue ;
};if _fdccc {_gb .Printf ("\u0020 \u0025\u0032\u0064\u002c \u0025\u0032\u0064\u0020\u0028%\u0032d\u002c \u0025\u0032\u0064\u0029\u0020\u0025\u0071\n",_daaf ,_dcdbf ,_cgfc ,_egfb ,_dgbg (_aaad .merge ().text (),50));};_caea .putComposite (_daaf ,_dcdbf ,_aaad ,_cfaag );
};};return &_caea ;};func (_abb *shapesState )closePath (){if _abb ._agfa {_abb ._afbde =append (_abb ._afbde ,_gggb (_abb ._dfab ));_abb ._agfa =false ;}else if len (_abb ._afbde )==0{if _eace {_eb .Log .Debug ("\u0063\u006c\u006f\u0073eP\u0061\u0074\u0068\u0020\u0077\u0069\u0074\u0068\u0020\u006e\u006f\u0020\u0070\u0061t\u0068");
};_abb ._agfa =false ;return ;};_abb ._afbde [len (_abb ._afbde )-1].close ();if _eace {_eb .Log .Info ("\u0063\u006c\u006f\u0073\u0065\u0050\u0061\u0074\u0068\u003a\u0020\u0025\u0073",_abb );};};func (_bdae *textLine )appendWord (_gcag *textWord ){_bdae ._ffef =append (_bdae ._ffef ,_gcag );
_bdae .PdfRectangle =_aebe (_bdae .PdfRectangle ,_gcag .PdfRectangle );if _gcag ._aagde > _bdae ._gaag {_bdae ._gaag =_gcag ._aagde ;};if _gcag ._afedc > _bdae ._dfcf {_bdae ._dfcf =_gcag ._afedc ;};};func _gfgcf (_bdcbe _ec .PdfColorspace ,_ccfa _ec .PdfColor )_gcg .Color {if _bdcbe ==nil ||_ccfa ==nil {return _gcg .Black ;
};_dcg ,_geda :=_bdcbe .ColorToRGB (_ccfa );if _geda !=nil {_eb .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006fu\u006c\u0064\u0020no\u0074\u0020\u0063\u006f\u006e\u0076e\u0072\u0074\u0020\u0063\u006f\u006c\u006f\u0072\u0020\u0025\u0076\u0020\u0028\u0025\u0076)\u0020\u0074\u006f\u0020\u0052\u0047\u0042\u003a \u0025\u0073",_ccfa ,_bdcbe ,_geda );
return _gcg .Black ;};_adecb ,_adgag :=_dcg .(*_ec .PdfColorDeviceRGB );if !_adgag {_eb .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0065\u0064 \u0063\u006f\u006c\u006f\u0072\u0020\u0069\u0073\u0020\u006e\u006f\u0074\u0020i\u006e\u0020\u0074\u0068\u0065\u0020\u0052\u0047\u0042\u0020\u0063\u006flo\u0072\u0073\u0070\u0061\u0063\u0065\u003a\u0020\u0025\u0076",_dcg );
return _gcg .Black ;};return _gcg .NRGBA {R :uint8 (_adecb .R ()*255),G :uint8 (_adecb .G ()*255),B :uint8 (_adecb .B ()*255),A :uint8 (255)};};type textObject struct{_gdca *Extractor ;_abf *_ec .PdfPageResources ;_gge _fcb .GraphicsState ;_becc *textState ;
_bfd *stateStack ;_cbbe _ecd .Matrix ;_ecdb _ecd .Matrix ;_cad []*textMark ;_bfg bool ;};func _aggdg (_gdbed map[int ][]float64 )string {_baeb :=_dcded (_gdbed );_ggcbe :=make ([]string ,len (_gdbed ));for _dbbca ,_gecgb :=range _baeb {_ggcbe [_dbbca ]=_gb .Sprintf ("\u0025\u0064\u003a\u0020\u0025\u002e\u0032\u0066",_gecgb ,_gdbed [_gecgb ]);
};return _gb .Sprintf ("\u007b\u0025\u0073\u007d",_a .Join (_ggcbe ,"\u002c\u0020"));};func (_cfebe paraList )findGridTables (_cegf []gridTiling )[]*textTable {if _fdccc {_eb .Log .Info ("\u0066i\u006e\u0064\u0047\u0072\u0069\u0064\u0054\u0061\u0062\u006c\u0065s\u003a\u0020\u0025\u0064\u0020\u0070\u0061\u0072\u0061\u0073",len (_cfebe ));
for _adeeed ,_fdbd :=range _cfebe {_gb .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_adeeed ,_fdbd );};};var _gaegc []*textTable ;for _bdaab ,_cfgc :=range _cegf {_fdeea ,_cabe :=_cfebe .findTableGrid (_cfgc );if _fdeea !=nil {_fdeea .log (_gb .Sprintf ("\u0066\u0069\u006e\u0064Ta\u0062\u006c\u0065\u0057\u0069\u0074\u0068\u0047\u0072\u0069\u0064\u0073\u003a\u0020%\u0064",_bdaab ));
_gaegc =append (_gaegc ,_fdeea );_fdeea .markCells ();};for _fdbdd :=range _cabe {_fdbdd ._acdb =true ;};};if _fdccc {_eb .Log .Info ("\u0066i\u006e\u0064\u0047\u0072i\u0064\u0054\u0061\u0062\u006ce\u0073:\u0020%\u0064\u0020\u0074\u0061\u0062\u006c\u0065s",len (_gaegc ));
};return _gaegc ;};func (_eaea *textTable )computeBbox ()_ec .PdfRectangle {var _bdabc _ec .PdfRectangle ;_fcda :=false ;for _fggfa :=0;_fggfa < _eaea ._fgbf ;_fggfa ++{for _edcd :=0;_edcd < _eaea ._eegaf ;_edcd ++{_egde :=_eaea .get (_edcd ,_fggfa );if _egde ==nil {continue ;
};if !_fcda {_bdabc =_egde .PdfRectangle ;_fcda =true ;}else {_bdabc =_aebe (_bdabc ,_egde .PdfRectangle );};};};return _bdabc ;};func (_abee *textPara )fontsize ()float64 {return _abee ._efaa [0]._gaag };func (_gbfa paraList )topoOrder ()[]int {if _dfcg {_eb .Log .Info ("\u0074\u006f\u0070\u006f\u004f\u0072\u0064\u0065\u0072\u003a");
};_begee :=len (_gbfa );_gaga :=make ([]bool ,_begee );_bfac :=make ([]int ,0,_begee );_cffdg :=_gbfa .llyOrdering ();var _befg func (_bfge int );_befg =func (_dgge int ){_gaga [_dgge ]=true ;for _gaeg :=0;_gaeg < _begee ;_gaeg ++{if !_gaga [_gaeg ]{if _gbfa .readBefore (_cffdg ,_dgge ,_gaeg ){_befg (_gaeg );
};};};_bfac =append (_bfac ,_dgge );};for _fggfg :=0;_fggfg < _begee ;_fggfg ++{if !_gaga [_fggfg ]{_befg (_fggfg );};};return _ebbe (_bfac );};type wordBag struct{_ec .PdfRectangle ;_gee float64 ;_ccbf ,_edab rulingList ;_gfef float64 ;_cegd map[int ][]*textWord ;
};type pathSection struct{_bbbg []*subpath ;_gcg .Color ;};func (_dgfce *textTable )toTextTable ()TextTable {if _fdccc {_eb .Log .Info ("t\u006fT\u0065\u0078\u0074\u0054\u0061\u0062\u006c\u0065:\u0020\u0025\u0064\u0020x \u0025\u0064",_dgfce ._eegaf ,_dgfce ._fgbf );
};_gdea :=make ([][]TableCell ,_dgfce ._fgbf );for _ggba :=0;_ggba < _dgfce ._fgbf ;_ggba ++{_gdea [_ggba ]=make ([]TableCell ,_dgfce ._eegaf );for _gedec :=0;_gedec < _dgfce ._eegaf ;_gedec ++{_fgdb :=_dgfce .get (_gedec ,_ggba );if _fgdb ==nil {continue ;
};if _fdccc {_gb .Printf ("\u0025\u0034\u0064 \u0025\u0032\u0064\u003a\u0020\u0025\u0073\u000a",_gedec ,_ggba ,_fgdb );};_gdea [_ggba ][_gedec ].Text =_fgdb .text ();_cdgb :=0;_gdea [_ggba ][_gedec ].Marks ._dga =_fgdb .toTextMarks (&_cdgb );};};_eecg :=TextTable {W :_dgfce ._eegaf ,H :_dgfce ._fgbf ,Cells :_gdea };
_eecg .PdfRectangle =_dgfce .bbox ();return _eecg ;};func (_ebaa *shapesState )moveTo (_aeb ,_ccaa float64 ){_ebaa ._agfa =true ;_ebaa ._dfab =_ebaa .devicePoint (_aeb ,_ccaa );if _eace {_eb .Log .Info ("\u006d\u006fv\u0065\u0054\u006f\u003a\u0020\u0025\u002e\u0032\u0066\u002c\u0025\u002e\u0032\u0066\u0020\u0064\u0065\u0076\u0069\u0063\u0065\u003d%.\u0032\u0066",_aeb ,_ccaa ,_ebaa ._dfab );
};};func _ggad (_bdedfb _ec .PdfRectangle ,_fcgg ,_befff ,_aaga ,_bdec *ruling )gridTile {_eegcg :=_bdedfb .Llx ;_ddce :=_bdedfb .Urx ;_eabf :=_bdedfb .Lly ;_ffgdf :=_bdedfb .Ury ;return gridTile {PdfRectangle :_bdedfb ,_dbgbe :_fcgg !=nil &&_fcgg .encloses (_eabf ,_ffgdf ),_gafab :_befff !=nil &&_befff .encloses (_eabf ,_ffgdf ),_bgaf :_aaga !=nil &&_aaga .encloses (_eegcg ,_ddce ),_effc :_bdec !=nil &&_bdec .encloses (_eegcg ,_ddce )};
};func (_egb *textObject )setTextRenderMode (_cbdc int ){if _egb ==nil {return ;};_egb ._becc ._gfcd =RenderMode (_cbdc );};func (_daae *stateStack )pop ()*textState {if _daae .empty (){return nil ;};_ebf :=*(*_daae )[len (*_daae )-1];*_daae =(*_daae )[:len (*_daae )-1];
return &_ebf ;};func (_afb *textObject )setTextLeading (_fbce float64 ){if _afb ==nil {return ;};_afb ._becc ._gegd =_fbce ;};func _deca (_gebde byte )bool {for _ ,_acgae :=range _efb {if []byte (_acgae )[0]==_gebde {return true ;};};return false ;};func _gcbc (_gefc ,_gega bounded )float64 {return _bddbf (_gefc )-_bddbf (_gega )};
func _ecbc (_dcba ,_ada _ecd .Point )rulingKind {_ddab :=_fb .Abs (_dcba .X -_ada .X );_dabbe :=_fb .Abs (_dcba .Y -_ada .Y );return _aebcc (_ddab ,_dabbe ,_fagba );};func (_ebbd *wordBag )minDepth ()float64 {return _ebbd ._gfef -(_ebbd .Ury -_ebbd ._gee )};
func _ggda (_bdbdc []pathSection )rulingList {_fgee (_bdbdc );if _cgcd {_eb .Log .Info ("\u006d\u0061k\u0065\u0053\u0074\u0072\u006f\u006b\u0065\u0052\u0075\u006c\u0069\u006e\u0067\u0073\u003a\u0020\u0025\u0064\u0020\u0073\u0074\u0072ok\u0065\u0073",len (_bdbdc ));
};var _gafg rulingList ;for _ ,_gdaba :=range _bdbdc {for _ ,_bcdd :=range _gdaba ._bbbg {if len (_bcdd ._ece )< 2{continue ;};_eedf :=_bcdd ._ece [0];for _ ,_bcac :=range _bcdd ._ece [1:]{if _aefg ,_cedb :=_ffce (_eedf ,_bcac ,_gdaba .Color );_cedb {_gafg =append (_gafg ,_aefg );
};_eedf =_bcac ;};};};if _cgcd {_eb .Log .Info ("m\u0061\u006b\u0065\u0053tr\u006fk\u0065\u0052\u0075\u006c\u0069n\u0067\u0073\u003a\u0020\u0025\u0073",_gafg );};return _gafg ;};func (_geafc rulingList )secMinMax ()(float64 ,float64 ){_aceab ,_bedfc :=_geafc [0]._gbaa ,_geafc [0]._abcbd ;
for _ ,_dagdd :=range _geafc [1:]{if _dagdd ._gbaa < _aceab {_aceab =_dagdd ._gbaa ;};if _dagdd ._abcbd > _bedfc {_bedfc =_dagdd ._abcbd ;};};return _aceab ,_bedfc ;};func (_aabge *textTable )isExportable ()bool {if _aabge ._bdab {return true ;};_fgcef :=func (_bcfd int )bool {_gabc :=_aabge .get (0,_bcfd );
if _gabc ==nil {return false ;};_aaebe :=_gabc .text ();_gfdfc :=_ea .RuneCountInString (_aaebe );_cadg :=_fbeea .MatchString (_aaebe );return _gfdfc <=1||_cadg ;};for _fffb :=0;_fffb < _aabge ._fgbf ;_fffb ++{if !_fgcef (_fffb ){return true ;};};return false ;
};func (_gbefb *textTable )logComposite (_ffbd string ){if !_fdccc {return ;};_eb .Log .Info ("\u007e~\u007eP\u0061\u0072\u0061\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0073",_gbefb ._eegaf ,_gbefb ._fgbf ,_ffbd );_gb .Printf ("\u0025\u0035\u0073 \u007c","");
for _adae :=0;_adae < _gbefb ._eegaf ;_adae ++{_gb .Printf ("\u0025\u0033\u0064 \u007c",_adae );};_gb .Println ("");_gb .Printf ("\u0025\u0035\u0073 \u002b","");for _ffbfa :=0;_ffbfa < _gbefb ._eegaf ;_ffbfa ++{_gb .Printf ("\u0025\u0033\u0073 \u002b","\u002d\u002d\u002d");
};_gb .Println ("");for _aaeda :=0;_aaeda < _gbefb ._fgbf ;_aaeda ++{_gb .Printf ("\u0025\u0035\u0064 \u007c",_aaeda );for _ddacc :=0;_ddacc < _gbefb ._eegaf ;_ddacc ++{_bbfb ,_ :=_gbefb ._ecgfc [_ecgg (_ddacc ,_aaeda )].parasBBox ();_gb .Printf ("\u0025\u0033\u0064 \u007c",len (_bbfb ));
};_gb .Println ("");};_eb .Log .Info ("\u007e~\u007eT\u0065\u0078\u0074\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0073",_gbefb ._eegaf ,_gbefb ._fgbf ,_ffbd );_gb .Printf ("\u0025\u0035\u0073 \u007c","");for _cafg :=0;_cafg < _gbefb ._eegaf ;_cafg ++{_gb .Printf ("\u0025\u0031\u0032\u0064\u0020\u007c",_cafg );
};_gb .Println ("");_gb .Printf ("\u0025\u0035\u0073 \u002b","");for _ebea :=0;_ebea < _gbefb ._eegaf ;_ebea ++{_gb .Print ("\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d-\u002d\u002d\u002d\u002b");};_gb .Println ("");for _eacfe :=0;_eacfe < _gbefb ._fgbf ;
_eacfe ++{_gb .Printf ("\u0025\u0035\u0064 \u007c",_eacfe );for _fagad :=0;_fagad < _gbefb ._eegaf ;_fagad ++{_fddgf ,_ :=_gbefb ._ecgfc [_ecgg (_fagad ,_eacfe )].parasBBox ();_cacf :="";_egfbf :=_fddgf .merge ();if _egfbf !=nil {_cacf =_egfbf .text ();
};_cacf =_gb .Sprintf ("\u0025\u0071",_dgbg (_cacf ,12));_cacf =_cacf [1:len (_cacf )-1];_gb .Printf ("\u0025\u0031\u0032\u0073\u0020\u007c",_cacf );};_gb .Println ("");};};func (_egca *textObject )showText (_ccg _c .PdfObject ,_ffae []byte ,_efg int )error {return _egca .renderText (_ccg ,_ffae ,_efg );
};func _fdcfg (_gacb *Extractor ,_gfg *_ec .PdfPageResources ,_acaf _fcb .GraphicsState ,_dfe *textState ,_fce *stateStack )*textObject {return &textObject {_gdca :_gacb ,_abf :_gfg ,_gge :_acaf ,_bfd :_fce ,_becc :_dfe ,_cbbe :_ecd .IdentityMatrix (),_ecdb :_ecd .IdentityMatrix ()};
};

// ImageExtractOptions contains options for controlling image extraction from
// PDF pages.
type ImageExtractOptions struct{IncludeInlineStencilMasks bool ;};func _fdabcd (_fgafc int ,_fgfd func (int ,int )bool )[]int {_bgadd :=make ([]int ,_fgafc );for _accg :=range _bgadd {_bgadd [_accg ]=_accg ;};_gc .Slice (_bgadd ,func (_gcgfa ,_cffbb int )bool {return _fgfd (_bgadd [_gcgfa ],_bgadd [_cffbb ])});
return _bgadd ;};func (_gage *textPara )taken ()bool {return _gage ==nil ||_gage ._acdb };func (_dacb *textTable )newTablePara ()*textPara {_abgc :=_dacb .computeBbox ();_ccdf :=&textPara {PdfRectangle :_abgc ,_aebc :_abgc ,_ffbc :_dacb };if _fdccc {_eb .Log .Info ("\u006e\u0065w\u0054\u0061\u0062l\u0065\u0050\u0061\u0072\u0061\u003a\u0020\u0025\u0073",_ccdf );
};return _ccdf ;};func _abff (_dfbe ,_adcfb *textPara )bool {if _dfbe ._bcdg ||_adcfb ._bcdg {return true ;};return _eggec (_dfbe .depth ()-_adcfb .depth ());};func _gddc (_ccag []TextMark ,_faeee *int )[]TextMark {_geff :=_ccag [len (_ccag )-1];_aebac :=[]rune (_geff .Text );
if len (_aebac )==1{_ccag =_ccag [:len (_ccag )-1];_egdf :=_ccag [len (_ccag )-1];*_faeee =_egdf .Offset +len (_egdf .Text );}else {_deabc :=_ecgf (_geff .Text );*_faeee +=len (_deabc )-len (_geff .Text );_geff .Text =_deabc ;};return _ccag ;};

// ToText returns the page text as a single string.
// Deprecated: This function is deprecated and will be removed in a future major version. Please use
// Text() instead.
func (_fffee PageText )ToText ()string {return _fffee .Text ()};func (_gcffbg *textTable )subdivide ()*textTable {_gcffbg .logComposite ("\u0073u\u0062\u0064\u0069\u0076\u0069\u0064e");_dggg :=_gcffbg .compositeRowCorridors ();_gadd :=_gcffbg .compositeColCorridors ();
if _fdccc {_eb .Log .Info ("\u0073u\u0062\u0064i\u0076\u0069\u0064\u0065:\u000a\u0009\u0072o\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s=\u0025\u0073\u000a\t\u0063\u006fl\u0043\u006f\u0072\u0072\u0069\u0064o\u0072\u0073=\u0025\u0073",_aggdg (_dggg ),_aggdg (_gadd ));
};if len (_dggg )==0||len (_gadd )==0{return _gcffbg ;};_cdad (_dggg );_cdad (_gadd );if _fdccc {_eb .Log .Info ("\u0073\u0075\u0062\u0064\u0069\u0076\u0069\u0064\u0065\u0020\u0066\u0069\u0078\u0065\u0064\u003a\u000a\u0009r\u006f\u0077\u0043\u006f\u0072\u0072\u0069d\u006f\u0072\u0073\u003d\u0025\u0073\u000a\u0009\u0063\u006f\u006cC\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u003d\u0025\u0073",_aggdg (_dggg ),_aggdg (_gadd ));
};_eaec ,_bagcf :=_fdba (_gcffbg ._fgbf ,_dggg );_cgdce ,_eagae :=_fdba (_gcffbg ._eegaf ,_gadd );_gadbb :=make (map[uint64 ]*textPara ,_eagae *_bagcf );_face :=&textTable {PdfRectangle :_gcffbg .PdfRectangle ,_bdab :_gcffbg ._bdab ,_fgbf :_bagcf ,_eegaf :_eagae ,_aafgf :_gadbb };
if _fdccc {_eb .Log .Info ("\u0073\u0075b\u0064\u0069\u0076\u0069\u0064\u0065\u003a\u0020\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u0020\u003d\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u0020\u0063\u0065\u006c\u006c\u0073\u003d\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u000a"+"\u0009\u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s\u003d\u0025\u0073\u000a"+"\u0009\u0063\u006f\u006c\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s\u003d\u0025\u0073\u000a"+"\u0009\u0079\u004f\u0066\u0066\u0073\u0065\u0074\u0073=\u0025\u002b\u0076\u000a"+"\u0009\u0078\u004f\u0066\u0066\u0073\u0065\u0074\u0073\u003d\u0025\u002b\u0076",_gcffbg ._eegaf ,_gcffbg ._fgbf ,_eagae ,_bagcf ,_aggdg (_dggg ),_aggdg (_gadd ),_eaec ,_cgdce );
};for _ebfb :=0;_ebfb < _gcffbg ._fgbf ;_ebfb ++{_gfcg :=_eaec [_ebfb ];for _bbdg :=0;_bbdg < _gcffbg ._eegaf ;_bbdg ++{_ggdgd :=_cgdce [_bbdg ];if _fdccc {_gb .Printf ("\u0025\u0036\u0064\u002c %\u0032\u0064\u003a\u0020\u0078\u0030\u003d\u0025\u0064\u0020\u0079\u0030\u003d\u0025d\u000a",_bbdg ,_ebfb ,_ggdgd ,_gfcg );
};_cbcgf ,_bfgec :=_gcffbg ._ecgfc [_ecgg (_bbdg ,_ebfb )];if !_bfgec {continue ;};_adga :=_cbcgf .split (_dggg [_ebfb ],_gadd [_bbdg ]);for _dgace :=0;_dgace < _adga ._fgbf ;_dgace ++{for _dgabg :=0;_dgabg < _adga ._eegaf ;_dgabg ++{_cfccd :=_adga .get (_dgabg ,_dgace );
_face .put (_ggdgd +_dgabg ,_gfcg +_dgace ,_cfccd );if _fdccc {_gb .Printf ("\u0025\u0038\u0064\u002c\u0020\u0025\u0032\u0064\u003a\u0020\u0025\u0073\u000a",_ggdgd +_dgabg ,_gfcg +_dgace ,_cfccd );};};};};};return _face ;};const _ccfc =1.0/1000.0;func (_bgfe *ruling )gridIntersecting (_dgcca *ruling )bool {return _acge (_bgfe ._gbaa ,_dgcca ._gbaa )&&_acge (_bgfe ._abcbd ,_dgcca ._abcbd );
};func (_cfca *shapesState )cubicTo (_eggd ,_dfda ,_bfa ,_dce ,_bdde ,_bedg float64 ){if _eace {_eb .Log .Info ("\u0063\u0075\u0062\u0069\u0063\u0054\u006f\u003a");};_cfca .addPoint (_bdde ,_bedg );};func (_affgd paraList )merge ()*textPara {_eb .Log .Trace ("\u006d\u0065\u0072\u0067\u0065:\u0020\u0070\u0061\u0072\u0061\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_affgd ));
if len (_affgd )==0{return nil ;};_affgd .sortReadingOrder ();_gffeg :=_affgd [0].PdfRectangle ;_dagc :=_affgd [0]._efaa ;for _ ,_adgc :=range _affgd [1:]{_gffeg =_aebe (_gffeg ,_adgc .PdfRectangle );_dagc =append (_dagc ,_adgc ._efaa ...);};return _efae (_gffeg ,_dagc );
};

// String returns a description of `b`.
func (_cged *wordBag )String ()string {var _ccgf []string ;for _ ,_cadb :=range _cged .depthIndexes (){_dda :=_cged ._cegd [_cadb ];for _ ,_aae :=range _dda {_ccgf =append (_ccgf ,_aae ._degc );};};return _gb .Sprintf ("\u0025.\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065=\u0025\u002e\u0032\u0066\u0020\u0025\u0064\u0020\u0025\u0071",_cged .PdfRectangle ,_cged ._gee ,len (_ccgf ),_ccgf );
};func _deaaf (_dgbe *list ,_ccgc *_a .Builder ,_cecb *string ){_babae :=_gcagd (_dgbe ,_cecb );_ccgc .WriteString (_babae );for _ ,_dbcg :=range _dgbe ._cfab {_bgdf :=*_cecb +"\u0020\u0020\u0020";_deaaf (_dbcg ,_ccgc ,&_bgdf );};};

// String returns a description of `p`.
func (_agbg *textPara )String ()string {if _agbg ._bcdg {return _gb .Sprintf ("\u0025\u0036\u002e\u0032\u0066\u0020\u005b\u0045\u004d\u0050\u0054\u0059\u005d",_agbg .PdfRectangle );};_fgdcc :="";if _agbg ._ffbc !=nil {_fgdcc =_gb .Sprintf ("\u005b\u0025\u0064\u0078\u0025\u0064\u005d\u0020",_agbg ._ffbc ._eegaf ,_agbg ._ffbc ._fgbf );
};return _gb .Sprintf ("\u0025\u0036\u002e\u0032f \u0025\u0073\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u0020\u0025\u0071",_agbg .PdfRectangle ,_fgdcc ,len (_agbg ._efaa ),_dgbg (_agbg .text (),50));};func (_gga *wordBag )absorb (_ebaab *wordBag ){_bafbe :=_ebaab .makeRemovals ();
for _feac ,_faff :=range _ebaab ._cegd {for _ ,_badb :=range _faff {_gga .pullWord (_badb ,_feac ,_bafbe );};};_ebaab .applyRemovals (_bafbe );};func _ebeb (_aaeb []pathSection )rulingList {_fgee (_aaeb );if _cgcd {_eb .Log .Info ("\u006da\u006b\u0065\u0046\u0069l\u006c\u0052\u0075\u006c\u0069n\u0067s\u003a \u0025\u0064\u0020\u0066\u0069\u006c\u006cs",len (_aaeb ));
};var _ggfd rulingList ;for _ ,_ffff :=range _aaeb {for _ ,_babbd :=range _ffff ._bbbg {if !_babbd .isQuadrilateral (){if _cgcd {_eb .Log .Error ("!\u0069s\u0051\u0075\u0061\u0064\u0072\u0069\u006c\u0061t\u0065\u0072\u0061\u006c: \u0025\u0073",_babbd );
};continue ;};if _agbea ,_geffa :=_babbd .makeRectRuling (_ffff .Color );_geffa {_ggfd =append (_ggfd ,_agbea );}else {if _cbed {_eb .Log .Error ("\u0021\u006d\u0061\u006beR\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0025\u0073",_babbd );
};};};};if _cgcd {_eb .Log .Info ("\u006d\u0061\u006b\u0065Fi\u006c\u006c\u0052\u0075\u006c\u0069\u006e\u0067\u0073\u003a\u0020\u0025\u0073",_ggfd .String ());};return _ggfd ;};type event struct{_baec float64 ;_ccef bool ;_cegab int ;};func _aebb (_fbbcf *textWord ,_ccaag float64 ,_bega ,_gaab rulingList )*wordBag {_cdcc :=_dac (_fbbcf ._afedc );
_fbdbe :=[]*textWord {_fbbcf };_afbb :=wordBag {_cegd :map[int ][]*textWord {_cdcc :_fbdbe },PdfRectangle :_fbbcf .PdfRectangle ,_gee :_fbbcf ._aagde ,_gfef :_ccaag ,_ccbf :_bega ,_edab :_gaab };return &_afbb ;};var _cbf *_e .Regexp =_e .MustCompile (_ecbf +"\u007c"+_abec );
type textLine struct{_ec .PdfRectangle ;_dfcf float64 ;_ffef []*textWord ;_gaag float64 ;};func (_gcgda *subpath )makeRectRuling (_eeac _gcg .Color )(*ruling ,bool ){if _cbed {_eb .Log .Info ("\u006d\u0061\u006beR\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0070\u0061\u0074\u0068\u003d\u0025\u0076",_gcgda );
};_bgdge :=_gcgda ._ece [:4];_geag :=make (map[int ]rulingKind ,len (_bgdge ));for _afce ,_eeee :=range _bgdge {_dace :=_gcgda ._ece [(_afce +1)%4];_geag [_afce ]=_ecbc (_eeee ,_dace );if _cbed {_gb .Printf ("\u0025\u0034\u0064: \u0025\u0073\u0020\u003d\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u002d\u0020\u0025\u0036\u002e\u0032\u0066",_afce ,_geag [_afce ],_eeee ,_dace );
};};if _cbed {_gb .Printf ("\u0020\u0020\u0020\u006b\u0069\u006e\u0064\u0073\u003d\u0025\u002b\u0076\u000a",_geag );};var _fggfd ,_dgag []int ;for _cfegc ,_fbgf :=range _geag {switch _fbgf {case _dccaa :_dgag =append (_dgag ,_cfegc );case _dceeg :_fggfd =append (_fggfd ,_cfegc );
};};if _cbed {_gb .Printf ("\u0020\u0020 \u0068\u006f\u0072z\u0073\u003d\u0025\u0064\u0020\u0025\u002b\u0076\u000a",len (_dgag ),_dgag );_gb .Printf ("\u0020\u0020 \u0076\u0065\u0072t\u0073\u003d\u0025\u0064\u0020\u0025\u002b\u0076\u000a",len (_fggfd ),_fggfd );
};_ggga :=(len (_dgag )==2&&len (_fggfd )==2)||(len (_dgag )==2&&len (_fggfd )==0&&_adaa (_bgdge [_dgag [0]],_bgdge [_dgag [1]]))||(len (_fggfd )==2&&len (_dgag )==0&&_cdba (_bgdge [_fggfd [0]],_bgdge [_fggfd [1]]));if _cbed {_gb .Printf (" \u0020\u0020\u0068\u006f\u0072\u007as\u003d\u0025\u0064\u0020\u0076\u0065\u0072\u0074\u0073=\u0025\u0064\u0020o\u006b=\u0025\u0074\u000a",len (_dgag ),len (_fggfd ),_ggga );
};if !_ggga {if _cbed {_eb .Log .Error ("\u0021!\u006d\u0061\u006b\u0065R\u0065\u0063\u0074\u0052\u0075l\u0069n\u0067:\u0020\u0070\u0061\u0074\u0068\u003d\u0025v",_gcgda );_gb .Printf (" \u0020\u0020\u0068\u006f\u0072\u007as\u003d\u0025\u0064\u0020\u0076\u0065\u0072\u0074\u0073=\u0025\u0064\u0020o\u006b=\u0025\u0074\u000a",len (_dgag ),len (_fggfd ),_ggga );
};return &ruling {},false ;};if len (_fggfd )==0{for _affde ,_ggfe :=range _geag {if _ggfe !=_dccaa {_fggfd =append (_fggfd ,_affde );};};};if len (_dgag )==0{for _bbbc ,_ecff :=range _geag {if _ecff !=_dceeg {_dgag =append (_dgag ,_bbbc );};};};if _cbed {_eb .Log .Info ("\u006da\u006b\u0065R\u0065\u0063\u0074\u0052u\u006c\u0069\u006eg\u003a\u0020\u0068\u006f\u0072\u007a\u0073\u003d\u0025d \u0076\u0065\u0072t\u0073\u003d%\u0064\u0020\u0070\u006f\u0069\u006et\u0073\u003d%\u0064\u000a"+"\u0009\u0020\u0068o\u0072\u007a\u0073\u003d\u0025\u002b\u0076\u000a"+"\u0009\u0020\u0076e\u0072\u0074\u0073\u003d\u0025\u002b\u0076\u000a"+"\t\u0070\u006f\u0069\u006e\u0074\u0073\u003d\u0025\u002b\u0076",len (_dgag ),len (_fggfd ),len (_bgdge ),_dgag ,_fggfd ,_bgdge );
};var _gggd ,_agac ,_ecbfa ,_effa _ecd .Point ;if _bgdge [_dgag [0]].Y > _bgdge [_dgag [1]].Y {_ecbfa ,_effa =_bgdge [_dgag [0]],_bgdge [_dgag [1]];}else {_ecbfa ,_effa =_bgdge [_dgag [1]],_bgdge [_dgag [0]];};if _bgdge [_fggfd [0]].X > _bgdge [_fggfd [1]].X {_gggd ,_agac =_bgdge [_fggfd [0]],_bgdge [_fggfd [1]];
}else {_gggd ,_agac =_bgdge [_fggfd [1]],_bgdge [_fggfd [0]];};_gcgc :=_ec .PdfRectangle {Llx :_gggd .X ,Urx :_agac .X ,Lly :_effa .Y ,Ury :_ecbfa .Y };if _gcgc .Llx > _gcgc .Urx {_gcgc .Llx ,_gcgc .Urx =_gcgc .Urx ,_gcgc .Llx ;};if _gcgc .Lly > _gcgc .Ury {_gcgc .Lly ,_gcgc .Ury =_gcgc .Ury ,_gcgc .Lly ;
};_abcc :=rectRuling {PdfRectangle :_gcgc ,_ddfeg :_bdggb (_gcgc ),Color :_eeac };if _abcc ._ddfeg ==_fcgc {if _cbed {_eb .Log .Error ("\u006da\u006b\u0065\u0052\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006eg\u003a\u0020\u006b\u0069\u006e\u0064\u003d\u006e\u0069\u006c");
};return nil ,false ;};_ggge ,_gebb :=_abcc .asRuling ();if !_gebb {if _cbed {_eb .Log .Error ("\u006da\u006b\u0065\u0052\u0065c\u0074\u0052\u0075\u006c\u0069n\u0067:\u0020!\u0069\u0073\u0052\u0075\u006c\u0069\u006eg");};return nil ,false ;};if _cgcd {_gb .Printf ("\u0020\u0020\u0020\u0072\u003d\u0025\u0073\u000a",_ggge .String ());
};return _ggge ,true ;};func (_afgc lineRuling )yMean ()float64 {return 0.5*(_afgc ._gdfd .Y +_afgc ._ccceb .Y )};type gridTile struct{_ec .PdfRectangle ;_effc ,_dbgbe ,_bgaf ,_gafab bool ;};func (_bcbd rulingList )bbox ()_ec .PdfRectangle {var _bfed _ec .PdfRectangle ;
if len (_bcbd )==0{_eb .Log .Error ("r\u0075\u006c\u0069\u006e\u0067\u004ci\u0073\u0074\u002e\u0062\u0062\u006f\u0078\u003a\u0020n\u006f\u0020\u0072u\u006ci\u006e\u0067\u0073");return _ec .PdfRectangle {};};if _bcbd [0]._cggcf ==_dccaa {_bfed .Llx ,_bfed .Urx =_bcbd .secMinMax ();
_bfed .Lly ,_bfed .Ury =_bcbd .primMinMax ();}else {_bfed .Llx ,_bfed .Urx =_bcbd .primMinMax ();_bfed .Lly ,_bfed .Ury =_bcbd .secMinMax ();};return _bfed ;};func (_decb rulingList )removeDuplicates ()rulingList {if len (_decb )==0{return nil ;};_decb .sort ();
_edbbaf :=rulingList {_decb [0]};for _ ,_fedf :=range _decb [1:]{if _fedf .equals (_edbbaf [len (_edbbaf )-1]){continue ;};_edbbaf =append (_edbbaf ,_fedf );};return _edbbaf ;};func (_dbbcg *textTable )get (_dedde ,_gfdg int )*textPara {return _dbbcg ._aafgf [_ecgg (_dedde ,_gfdg )]};
func (_cdaab paraList )sortReadingOrder (){_eb .Log .Trace ("\u0073\u006fr\u0074\u0052\u0065\u0061\u0064i\u006e\u0067\u004f\u0072\u0064e\u0072\u003a\u0020\u0070\u0061\u0072\u0061\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_cdaab ));
if len (_cdaab )<=1{return ;};_cdaab .computeEBBoxes ();_gc .Slice (_cdaab ,func (_dgcdf ,_ebbg int )bool {return _fdcb (_cdaab [_dgcdf ],_cdaab [_ebbg ])<=0});};func (_gaabbg gridTiling )log (_cfaa string ){if !_afba {return ;};_eb .Log .Info ("\u0074i\u006ci\u006e\u0067\u003a\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0071",len (_gaabbg ._bfdebc ),len (_gaabbg ._geafa ),_cfaa );
_gb .Printf ("\u0020\u0020\u0020l\u006c\u0078\u003d\u0025\u002e\u0032\u0066\u000a",_gaabbg ._bfdebc );_gb .Printf ("\u0020\u0020\u0020l\u006c\u0079\u003d\u0025\u002e\u0032\u0066\u000a",_gaabbg ._geafa );for _gdgbf ,_abebf :=range _gaabbg ._geafa {_edded ,_febd :=_gaabbg ._agcg [_abebf ];
if !_febd {continue ;};_gb .Printf ("%\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u000a",_gdgbf ,_abebf );for _abcd ,_gedc :=range _gaabbg ._bfdebc {_fdcg ,_dfdgg :=_edded [_gedc ];if !_dfdgg {continue ;};_gb .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_abcd ,_fdcg .String ());
};};};func _adeb (_eeca map[float64 ]map[float64 ]gridTile )[]float64 {_aaee :=make ([]float64 ,0,len (_eeca ));for _cfda :=range _eeca {_aaee =append (_aaee ,_cfda );};_gc .Float64s (_aaee );_cbcf :=len (_aaee );for _adgg :=0;_adgg < _cbcf /2;_adgg ++{_aaee [_adgg ],_aaee [_cbcf -1-_adgg ]=_aaee [_cbcf -1-_adgg ],_aaee [_adgg ];
};return _aaee ;};

// ExtractText processes and extracts all text data in content streams and returns as a string.
// It takes into account character encodings in the PDF file, which are decoded by
// CharcodeBytesToUnicode.
// Characters that can't be decoded are replaced with MissingCodeRune ('\ufffd' = �).
func (_acb *Extractor )ExtractText ()(string ,error ){_ccba ,_ ,_ ,_egc :=_acb .ExtractTextWithStats ();return _ccba ,_egc ;};func (_bdggg rulingList )primaries ()[]float64 {_fdbee :=make (map[float64 ]struct{},len (_bdggg ));for _ ,_beadb :=range _bdggg {_fdbee [_beadb ._ebgag ]=struct{}{};
};_bdda :=make ([]float64 ,len (_fdbee ));_aecaf :=0;for _cbggd :=range _fdbee {_bdda [_aecaf ]=_cbggd ;_aecaf ++;};_gc .Float64s (_bdda );return _bdda ;};func (_fbda *textTable )getRight ()paraList {_fefed :=make (paraList ,_fbda ._fgbf );for _dacac :=0;
_dacac < _fbda ._fgbf ;_dacac ++{_fcacf :=_fbda .get (_fbda ._eegaf -1,_dacac )._egad ;if _fcacf .taken (){return nil ;};_fefed [_dacac ]=_fcacf ;};for _gbgc :=0;_gbgc < _fbda ._fgbf -1;_gbgc ++{if _fefed [_gbgc ]._gcba !=_fefed [_gbgc +1]{return nil ;
};};return _fefed ;};func _ffce (_bbgaf ,_bagbc _ecd .Point ,_eege _gcg .Color )(*ruling ,bool ){_afgb :=lineRuling {_gdfd :_bbgaf ,_ccceb :_bagbc ,_acdg :_caef (_bbgaf ,_bagbc ),Color :_eege };if _afgb ._acdg ==_fcgc {return nil ,false ;};return _afgb .asRuling ();
};func (_efec *stateStack )size ()int {return len (*_efec )};func _eggec (_dbceb float64 )bool {return _fb .Abs (_dbceb )< _facbf };func _gdafg (_abgb *wordBag ,_bbde float64 ,_beffg ,_afcb rulingList )[]*wordBag {var _abef []*wordBag ;for _ ,_dba :=range _abgb .depthIndexes (){_bedf :=false ;
for !_abgb .empty (_dba ){_edfea :=_abgb .firstReadingIndex (_dba );_cdgef :=_abgb .firstWord (_edfea );_efcda :=_aebb (_cdgef ,_bbde ,_beffg ,_afcb );_abgb .removeWord (_cdgef ,_edfea );if _ccecc {_eb .Log .Info ("\u0066\u0069\u0072\u0073\u0074\u0057\u006f\u0072\u0064\u0020\u005e\u005e^\u005e\u0020\u0025\u0073",_cdgef .String ());
};for _gege :=true ;_gege ;_gege =_bedf {_bedf =false ;_dgbfb :=_bdce *_efcda ._gee ;_babcb :=_gdfgc *_efcda ._gee ;_cbda :=_fccd *_efcda ._gee ;if _ccecc {_eb .Log .Info ("\u0070a\u0072a\u0057\u006f\u0072\u0064\u0073\u0020\u0064\u0065\u0070\u0074\u0068 \u0025\u002e\u0032\u0066 \u002d\u0020\u0025\u002e\u0032f\u0020\u006d\u0061\u0078\u0049\u006e\u0074\u0072\u0061\u0044\u0065\u0070\u0074\u0068\u0047\u0061\u0070\u003d\u0025\u002e\u0032\u0066\u0020\u006d\u0061\u0078\u0049\u006e\u0074\u0072\u0061R\u0065\u0061\u0064\u0069\u006e\u0067\u0047\u0061p\u003d\u0025\u002e\u0032\u0066",_efcda .minDepth (),_efcda .maxDepth (),_cbda ,_babcb );
};if _abgb .scanBand ("\u0076\u0065\u0072\u0074\u0069\u0063\u0061\u006c",_efcda ,_fgag (_befe ,0),_efcda .minDepth ()-_cbda ,_efcda .maxDepth ()+_cbda ,_fcgd ,false ,false )> 0{_bedf =true ;};if _abgb .scanBand ("\u0068\u006f\u0072\u0069\u007a\u006f\u006e\u0074\u0061\u006c",_efcda ,_fgag (_befe ,_babcb ),_efcda .minDepth (),_efcda .maxDepth (),_fagef ,false ,false )> 0{_bedf =true ;
};if _bedf {continue ;};_gbca :=_abgb .scanBand ("",_efcda ,_fgag (_eggg ,_dgbfb ),_efcda .minDepth (),_efcda .maxDepth (),_geae ,true ,false );if _gbca > 0{_cdda :=(_efcda .maxDepth ()-_efcda .minDepth ())/_efcda ._gee ;if (_gbca > 1&&float64 (_gbca )> 0.3*_cdda )||_gbca <=10{if _abgb .scanBand ("\u006f\u0074\u0068e\u0072",_efcda ,_fgag (_eggg ,_dgbfb ),_efcda .minDepth (),_efcda .maxDepth (),_geae ,false ,true )> 0{_bedf =true ;
};};};};_abef =append (_abef ,_efcda );};};return _abef ;};func _fag (_fed []Font ,_def string )bool {for _ ,_adf :=range _fed {if _adf .FontName ==_def {return true ;};};return false ;};func _fffec (_agec ,_acga bounded )float64 {return _agec .bbox ().Llx -_acga .bbox ().Urx };
func (_dbfd *stateStack )empty ()bool {return len (*_dbfd )==0};func (_cfdf *textLine )text ()string {var _dcdc []string ;for _ ,_agdd :=range _cfdf ._ffef {if _agdd ._aefb {_dcdc =append (_dcdc ,"\u0020");};_dcdc =append (_dcdc ,_agdd ._degc );};return _a .Join (_dcdc ,"");
};func (_eadgb rulingList )isActualGrid ()(rulingList ,bool ){_eabc ,_acacg :=_eadgb .augmentGrid ();if !(len (_eabc )>=_egaeg +1&&len (_acacg )>=_egbc +1){if _cgcd {_eb .Log .Info ("\u0069s\u0041\u0063t\u0075\u0061\u006c\u0047r\u0069\u0064\u003a \u004e\u006f\u0074\u0020\u0061\u006c\u0069\u0067\u006eed\u002e\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u003c\u0020\u0025d\u0020\u0078 \u0025\u0064",len (_eabc ),len (_acacg ),_egaeg +1,_egbc +1);
};return nil ,false ;};if _cgcd {_eb .Log .Info ("\u0069\u0073\u0041\u0063\u0074\u0075a\u006c\u0047\u0072\u0069\u0064\u003a\u0020\u0025\u0073\u0020\u003a\u0020\u0025t\u0020\u0026\u0020\u0025\u0074\u0020\u2192 \u0025\u0074",_eadgb ,len (_eabc )>=2,len (_acacg )>=2,len (_eabc )>=2&&len (_acacg )>=2);
for _edcc ,_eddce :=range _eadgb {_gb .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0076\u000a",_edcc ,_eddce );};};if _aacc {_afed ,_dbee :=_eabc [0],_eabc [len (_eabc )-1];_ddbbg ,_fefe :=_acacg [0],_acacg [len (_acacg )-1];if !(_fafd (_afed ._ebgag -_ddbbg ._gbaa )&&_fafd (_dbee ._ebgag -_ddbbg ._abcbd )&&_fafd (_ddbbg ._ebgag -_afed ._abcbd )&&_fafd (_fefe ._ebgag -_afed ._gbaa )){if _cgcd {_eb .Log .Info ("\u0069\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069d\u003a\u0020\u0020N\u006f\u0074 \u0061\u006c\u0069\u0067\u006e\u0065d\u002e\n\t\u0076\u0030\u003d\u0025\u0073\u000a\u0009\u0076\u0031\u003d\u0025\u0073\u000a\u0009\u0068\u0030\u003d\u0025\u0073\u000a\u0009\u0068\u0031\u003d\u0025\u0073",_afed ,_dbee ,_ddbbg ,_fefe );
};return nil ,false ;};}else {if !_eabc .aligned (){if _gdcb {_eb .Log .Info ("i\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069\u0064\u003a\u0020N\u006f\u0074\u0020\u0061\u006c\u0069\u0067n\u0065\u0064\u0020\u0076\u0065\u0072\u0074\u0073\u002e\u0020%\u0064",len (_eabc ));
};return nil ,false ;};if !_acacg .aligned (){if _cgcd {_eb .Log .Info ("i\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069\u0064\u003a\u0020N\u006f\u0074\u0020\u0061\u006c\u0069\u0067n\u0065\u0064\u0020\u0068\u006f\u0072\u007a\u0073\u002e\u0020%\u0064",len (_acacg ));
};return nil ,false ;};};_gcbe :=append (_eabc ,_acacg ...);return _gcbe ,true ;};func _edda (_eagbg _ec .PdfRectangle )*ruling {return &ruling {_cggcf :_dccaa ,_ebgag :_eagbg .Lly ,_gbaa :_eagbg .Llx ,_abcbd :_eagbg .Urx };};

// String returns a string describing `ma`.
func (_bgdcf TextMarkArray )String ()string {_gea :=len (_bgdcf ._dga );if _gea ==0{return "\u0045\u004d\u0050T\u0059";};_acde :=_bgdcf ._dga [0];_bgde :=_bgdcf ._dga [_gea -1];return _gb .Sprintf ("\u007b\u0054\u0045\u0058\u0054\u004d\u0041\u0052K\u0041\u0052\u0052AY\u003a\u0020\u0025\u0064\u0020\u0065l\u0065\u006d\u0065\u006e\u0074\u0073\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025s\u000a\u0009\u0020\u006c\u0061\u0073\u0074\u003d%\u0073\u007d",_gea ,_acde ,_bgde );
};func (_gffb *textObject )setCharSpacing (_bcgf float64 ){if _gffb ==nil {return ;};_gffb ._becc ._feed =_bcgf ;if _bfca {_eb .Log .Info ("\u0073\u0065t\u0043\u0068\u0061\u0072\u0053\u0070\u0061\u0063\u0069\u006e\u0067\u003a\u0020\u0025\u002e\u0032\u0066\u0020\u0073\u0074\u0061\u0074e=\u0025\u0073",_bcgf ,_gffb ._becc .String ());
};};func (_dfeae paraList )computeEBBoxes (){if _babb {_eb .Log .Info ("\u0063o\u006dp\u0075\u0074\u0065\u0045\u0042\u0042\u006f\u0078\u0065\u0073\u003a");};for _ ,_fege :=range _dfeae {_fege ._aebc =_fege .PdfRectangle ;};_ecde :=_dfeae .yNeighbours (0);
for _ebce ,_bdgge :=range _dfeae {_fbeb :=_bdgge ._aebc ;_cdgf ,_ebfca :=-1.0e9,+1.0e9;for _ ,_aebg :=range _ecde [_bdgge ]{_dgdc :=_dfeae [_aebg ]._aebc ;if _dgdc .Urx < _fbeb .Llx {_cdgf =_fb .Max (_cdgf ,_dgdc .Urx );}else if _fbeb .Urx < _dgdc .Llx {_ebfca =_fb .Min (_ebfca ,_dgdc .Llx );
};};for _edea ,_edcf :=range _dfeae {_eafa :=_edcf ._aebc ;if _ebce ==_edea ||_eafa .Ury > _fbeb .Lly {continue ;};if _cdgf <=_eafa .Llx &&_eafa .Llx < _fbeb .Llx {_fbeb .Llx =_eafa .Llx ;}else if _eafa .Urx <=_ebfca &&_fbeb .Urx < _eafa .Urx {_fbeb .Urx =_eafa .Urx ;
};};if _babb {_gb .Printf ("\u0025\u0034\u0064\u003a %\u0036\u002e\u0032\u0066\u2192\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0071\u000a",_ebce ,_bdgge ._aebc ,_fbeb ,_dgbg (_bdgge .text (),50));};_bdgge ._aebc =_fbeb ;};if _bedb {for _ ,_acggf :=range _dfeae {_acggf .PdfRectangle =_acggf ._aebc ;
};};};func (_bbecb *textTable )emptyCompositeColumn (_adaad int )bool {for _ceeg :=0;_ceeg < _bbecb ._fgbf ;_ceeg ++{if _deegd ,_ggae :=_bbecb ._ecgfc [_ecgg (_adaad ,_ceeg )];_ggae {if len (_deegd .paraList )> 0{return false ;};};};return true ;};func (_fee *imageExtractContext )extractContentStreamImages (_dfd string ,_ffe *_ec .PdfPageResources )error {_bf :=_fcb .NewContentStreamParser (_dfd );
_gd ,_dbf :=_bf .Parse ();if _dbf !=nil {return _dbf ;};if _fee ._fea ==nil {_fee ._fea =map[*_c .PdfObjectStream ]*cachedImage {};};if _fee ._bad ==nil {_fee ._bad =&ImageExtractOptions {};};_eadf :=_fcb .NewContentStreamProcessor (*_gd );_eadf .AddHandler (_fcb .HandlerConditionEnumAllOperands ,"",_fee .processOperand );
return _eadf .Process (_ffe );};func _fffc (_bdea _ec .PdfRectangle ,_cgdc bounded )float64 {return _bdea .Ury -_cgdc .bbox ().Lly };func (_cgaa *textLine )markWordBoundaries (){_fbafb :=_gaba *_cgaa ._gaag ;for _adde ,_ccad :=range _cgaa ._ffef [1:]{if _fffec (_ccad ,_cgaa ._ffef [_adde ])>=_fbafb {_ccad ._aefb =true ;
};};};func _fdba (_aabfb int ,_acbc map[int ][]float64 )([]int ,int ){_dgbc :=make ([]int ,_aabfb );_daabe :=0;for _cgdbg :=0;_cgdbg < _aabfb ;_cgdbg ++{_dgbc [_cgdbg ]=_daabe ;_daabe +=len (_acbc [_cgdbg ])+1;};return _dgbc ,_daabe ;};func _fgee (_abecab []pathSection ){if _ecfg < 0.0{return ;
};if _cgcd {_eb .Log .Info ("\u0067\u0072\u0061\u006e\u0075\u006c\u0061\u0072\u0069\u007a\u0065\u003a\u0020\u0025\u0064 \u0073u\u0062\u0070\u0061\u0074\u0068\u0020\u0073\u0065\u0063\u0074\u0069\u006f\u006e\u0073",len (_abecab ));};for _ffccf ,_ceafb :=range _abecab {for _ebae ,_fcagf :=range _ceafb ._bbbg {for _dfgcg ,_dcefa :=range _fcagf ._ece {_fcagf ._ece [_dfgcg ]=_ecd .Point {X :_bedca (_dcefa .X ),Y :_bedca (_dcefa .Y )};
if _cgcd {_abedc :=_fcagf ._ece [_dfgcg ];if !_bceda (_dcefa ,_abedc ){_dgga :=_ecd .Point {X :_abedc .X -_dcefa .X ,Y :_abedc .Y -_dcefa .Y };_gb .Printf ("\u0025\u0034d \u002d\u0020\u00254\u0064\u0020\u002d\u0020%4d\u003a %\u002e\u0032\u0066\u0020\u2192\u0020\u0025.2\u0066\u0020\u0028\u0025\u0067\u0029\u000a",_ffccf ,_ebae ,_dfgcg ,_dcefa ,_abedc ,_dgga );
};};};};};};func (_fbd *textObject )nextLine (){_fbd .moveLP (0,-_fbd ._becc ._gegd )};var (_ffdbc =map[rune ]string {0x0060:"\u0300",0x02CB:"\u0300",0x0027:"\u0301",0x00B4:"\u0301",0x02B9:"\u0301",0x02CA:"\u0301",0x005E:"\u0302",0x02C6:"\u0302",0x007E:"\u0303",0x02DC:"\u0303",0x00AF:"\u0304",0x02C9:"\u0304",0x02D8:"\u0306",0x02D9:"\u0307",0x00A8:"\u0308",0x00B0:"\u030a",0x02DA:"\u030a",0x02BA:"\u030b",0x02DD:"\u030b",0x02C7:"\u030c",0x02C8:"\u030d",0x0022:"\u030e",0x02BB:"\u0312",0x02BC:"\u0313",0x0486:"\u0313",0x055A:"\u0313",0x02BD:"\u0314",0x0485:"\u0314",0x0559:"\u0314",0x02D4:"\u031d",0x02D5:"\u031e",0x02D6:"\u031f",0x02D7:"\u0320",0x02B2:"\u0321",0x00B8:"\u0327",0x02CC:"\u0329",0x02B7:"\u032b",0x02CD:"\u0331",0x005F:"\u0332",0x204E:"\u0359"};
);func _gccfa (_ffaaf []*textLine ,_bca ,_gfbb float64 )[]*textLine {var _edae []*textLine ;for _ ,_bdffa :=range _ffaaf {if _bca ==-1{if _bdffa ._dfcf > _gfbb {_edae =append (_edae ,_bdffa );};}else {if _bdffa ._dfcf > _gfbb &&_bdffa ._dfcf < _bca {_edae =append (_edae ,_bdffa );
};};};return _edae ;};func (_gfcaa paraList )findTableGrid (_edagd gridTiling )(*textTable ,map[*textPara ]struct{}){_bdbb :=len (_edagd ._bfdebc );_babcc :=len (_edagd ._geafa );_fecgb :=textTable {_bdab :true ,_eegaf :_bdbb ,_fgbf :_babcc ,_aafgf :make (map[uint64 ]*textPara ,_bdbb *_babcc ),_ecgfc :make (map[uint64 ]compositeCell ,_bdbb *_babcc )};
_fecgb .PdfRectangle =_edagd .PdfRectangle ;_ccedg :=make (map[*textPara ]struct{});_bcdf :=int ((1.0-_cebb )*float64 (_bdbb *_babcc ));_ebfa :=0;if _afba {_eb .Log .Info ("\u0066\u0069\u006e\u0064Ta\u0062\u006c\u0065\u0047\u0072\u0069\u0064\u003a\u0020\u0025\u0064\u0020\u0078\u0020%\u0064",_bdbb ,_babcc );
};for _fbbfg ,_fccbd :=range _edagd ._geafa {_defd ,_gaea :=_edagd ._agcg [_fccbd ];if !_gaea {continue ;};for _cegc ,_ageg :=range _edagd ._bfdebc {_dagddg ,_gebf :=_defd [_ageg ];if !_gebf {continue ;};_cgbbd :=_gfcaa .inTile (_dagddg );if len (_cgbbd )==0{_ebfa ++;
if _ebfa > _bcdf {if _afba {_eb .Log .Info ("\u0021\u006e\u0075m\u0045\u006d\u0070\u0074\u0079\u003d\u0025\u0064",_ebfa );};return nil ,nil ;};}else {_fecgb .putComposite (_cegc ,_fbbfg ,_cgbbd ,_dagddg .PdfRectangle );for _ ,_egga :=range _cgbbd {_ccedg [_egga ]=struct{}{};
};};};};_bgeca :=0;for _bbbbd :=0;_bbbbd < _bdbb ;_bbbbd ++{_gdeed :=_fecgb .get (_bbbbd ,0);if _gdeed ==nil ||!_gdeed ._bcdg {_bgeca ++;};};if _bgeca ==0{if _afba {_eb .Log .Info ("\u0021\u006e\u0075m\u0048\u0065\u0061\u0064\u0065\u0072\u003d\u0030");
};return nil ,nil ;};_bddeb :=_fecgb .reduceTiling (_edagd ,_gfb );_bddeb =_bddeb .subdivide ();return _bddeb ,_ccedg ;};

// BBox returns the smallest axis-aligned rectangle that encloses all the TextMarks in `ma`.
func (_fdeb *TextMarkArray )BBox ()(_ec .PdfRectangle ,bool ){var _dfcd _ec .PdfRectangle ;_cdga :=false ;for _ ,_gafc :=range _fdeb ._dga {if _gafc .Meta ||_bfedd (_gafc .Text ){continue ;};if _cdga {_dfcd =_aebe (_dfcd ,_gafc .BBox );}else {_dfcd =_gafc .BBox ;
_cdga =true ;};};return _dfcd ,_cdga ;};func (_fg *imageExtractContext )extractInlineImage (_fdc *_fcb .ContentStreamInlineImage ,_bab _fcb .GraphicsState ,_fbc *_ec .PdfPageResources )error {_gad ,_cba :=_fdc .ToImage (_fbc );if _cba !=nil {return _cba ;
};_bag ,_cba :=_fdc .GetColorSpace (_fbc );if _cba !=nil {return _cba ;};if _bag ==nil {_bag =_ec .NewPdfColorspaceDeviceGray ();};_feaa ,_cba :=_bag .ImageToRGB (*_gad );if _cba !=nil {return _cba ;};_bcd :=ImageMark {Image :&_feaa ,Width :_bab .CTM .ScalingFactorX (),Height :_bab .CTM .ScalingFactorY (),Angle :_bab .CTM .Angle ()};
_bcd .X ,_bcd .Y =_bab .CTM .Translation ();_fg ._ead =append (_fg ._ead ,_bcd );_fg ._aec ++;return nil ;};func (_acecc *textWord )toTextMarks (_adgd *int )[]TextMark {var _bddbb []TextMark ;for _ ,_aaefd :=range _acecc ._ebgde {_bddbb =_edbg (_bddbb ,_adgd ,_aaefd .ToTextMark ());
};return _bddbb ;};func (_bagb pathSection )bbox ()_ec .PdfRectangle {_gcf :=_bagb ._bbbg [0]._ece [0];_dbg :=_ec .PdfRectangle {Llx :_gcf .X ,Urx :_gcf .X ,Lly :_gcf .Y ,Ury :_gcf .Y };_gaac :=func (_bfgc _ecd .Point ){if _bfgc .X < _dbg .Llx {_dbg .Llx =_bfgc .X ;
}else if _bfgc .X > _dbg .Urx {_dbg .Urx =_bfgc .X ;};if _bfgc .Y < _dbg .Lly {_dbg .Lly =_bfgc .Y ;}else if _bfgc .Y > _dbg .Ury {_dbg .Ury =_bfgc .Y ;};};for _ ,_fcfb :=range _bagb ._bbbg [0]._ece [1:]{_gaac (_fcfb );};for _ ,_cdcf :=range _bagb ._bbbg [1:]{for _ ,_cbe :=range _cdcf ._ece {_gaac (_cbe );
};};return _dbg ;};func (_dagd rulingList )connections (_adcb map[int ]intSet ,_bedc int )intSet {_fdfa :=make (intSet );_gbeaa :=make (intSet );var _fbec func (int );_fbec =func (_edabd int ){if !_gbeaa .has (_edabd ){_gbeaa .add (_edabd );for _abgbg :=range _dagd {if _adcb [_abgbg ].has (_edabd ){_fdfa .add (_abgbg );
};};for _feggc :=range _dagd {if _fdfa .has (_feggc ){_fbec (_feggc );};};};};_fbec (_bedc );return _fdfa ;};const (_eaga markKind =iota ;_fegbcd ;_cedfc ;_ffab ;);func (_efeed *textWord )addDiacritic (_cdcfd string ){_beccf :=_efeed ._ebgde [len (_efeed ._ebgde )-1];
_beccf ._bfbb +=_cdcfd ;_beccf ._bfbb =_da .NFKC .String (_beccf ._bfbb );};func (_fbfa *textWord )computeText ()string {_gdbca :=make ([]string ,len (_fbfa ._ebgde ));for _ebbaf ,_baddce :=range _fbfa ._ebgde {_gdbca [_ebbaf ]=_baddce ._bfbb ;};return _a .Join (_gdbca ,"");
};func (_addae paraList )llyOrdering ()[]int {_fgbbd :=make ([]int ,len (_addae ));for _fcdce :=range _addae {_fgbbd [_fcdce ]=_fcdce ;};_gc .SliceStable (_fgbbd ,func (_aafdc ,_fagec int )bool {_dfdea ,_edabf :=_fgbbd [_aafdc ],_fgbbd [_fagec ];return _addae [_dfdea ].Lly < _addae [_edabf ].Lly ;
});return _fgbbd ;};func _ecbcb (_acdba string ,_bdggf []rulingList ){_eb .Log .Info ("\u0024\u0024 \u0025\u0064\u0020g\u0072\u0069\u0064\u0073\u0020\u002d\u0020\u0025\u0073",len (_bdggf ),_acdba );for _eceaf ,_gaade :=range _bdggf {_gb .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_eceaf ,_gaade .String ());
};};

// String returns a description of `l`.
func (_cgdca *textLine )String ()string {return _gb .Sprintf ("\u0025\u002e2\u0066\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\"%\u0073\u0022",_cgdca ._dfcf ,_cgdca .PdfRectangle ,_cgdca ._gaag ,_cgdca .text ());
};func (_adgf paraList )yNeighbours (_ceaec float64 )map[*textPara ][]int {_aafdb :=make ([]event ,2*len (_adgf ));if _ceaec ==0{for _befga ,_cbggb :=range _adgf {_aafdb [2*_befga ]=event {_cbggb .Lly ,true ,_befga };_aafdb [2*_befga +1]=event {_cbggb .Ury ,false ,_befga };
};}else {for _gfag ,_cdfbe :=range _adgf {_aafdb [2*_gfag ]=event {_cdfbe .Lly -_ceaec *_cdfbe .fontsize (),true ,_gfag };_aafdb [2*_gfag +1]=event {_cdfbe .Ury +_ceaec *_cdfbe .fontsize (),false ,_gfag };};};return _adgf .eventNeighbours (_aafdb );};func _cdfe (_afad []*textLine ,_abdgc string ,_egfc []*list )*list {return &list {_addd :_afad ,_gdbg :_abdgc ,_cfab :_egfc };
};

// ExtractPageImages returns the image contents of the page extractor, including data
// and position, size information for each image.
// A set of options to control page image extraction can be passed in. The options
// parameter can be nil for the default options. By default, inline stencil masks
// are not extracted.
func (_fca *Extractor )ExtractPageImages (options *ImageExtractOptions )(*PageImages ,error ){_ffb :=&imageExtractContext {_bad :options };_cee :=_ffb .extractContentStreamImages (_fca ._dab ,_fca ._dg );if _cee !=nil {return nil ,_cee ;};return &PageImages {Images :_ffb ._ead },nil ;
};func (_dcca *structElement )parseStructElement (_cbgd _c .PdfObject ){_ggc ,_aada :=_c .GetDict (_cbgd );if !_aada {_eb .Log .Debug ("\u0070\u0061\u0072\u0073\u0065\u0053\u0074\u0072u\u0063\u0074\u0045le\u006d\u0065\u006e\u0074\u003a\u0020d\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079\u0020\u006f\u0062\u006a\u0065\u0063t\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u002e");
return ;};_fbgee :=_ggc .Get ("\u0053");_ddffb :=_ggc .Get ("\u0050\u0067");_deaf :="";if _fbgee !=nil {_deaf =_fbgee .String ();};_fegbc :=_ggc .Get ("\u004b");_dcca ._beaga =_deaf ;_dcca ._fdeac =_ddffb ;switch _fegg :=_fegbc .(type ){case *_c .PdfObjectInteger :_dcca ._beaga =_deaf ;
_dcca ._gccf =int64 (*_fegg );_dcca ._fdeac =_ddffb ;case *_c .PdfObjectReference :_bgae :=*_c .MakeArray (_fegg );var _afgec int64 =-1;_dcca ._gccf =_afgec ;if _bgae .Len ()==1{_egfa :=_bgae .Elements ()[0];_gbae ,_dadf :=_egfa .(*_c .PdfObjectInteger );
if _dadf {_afgec =int64 (*_gbae );_dcca ._gccf =_afgec ;_dcca ._beaga =_deaf ;_dcca ._fdeac =_ddffb ;return ;};};_cbgg :=[]structElement {};for _ ,_adddg :=range _bgae .Elements (){_edgg ,_gegg :=_adddg .(*_c .PdfObjectInteger );if _gegg {_afgec =int64 (*_edgg );
_dcca ._gccf =_afgec ;_dcca ._beaga =_deaf ;}else {_abce :=&structElement {};_abce .parseStructElement (_adddg );_cbgg =append (_cbgg ,*_abce );};_afgec =-1;};_dcca ._gbba =_cbgg ;case *_c .PdfObjectArray :_adffb :=_fegbc .(*_c .PdfObjectArray );var _bdeg int64 =-1;
_dcca ._gccf =_bdeg ;if _adffb .Len ()==1{_ddfb :=_adffb .Elements ()[0];_eeae ,_fdaf :=_ddfb .(*_c .PdfObjectInteger );if _fdaf {_bdeg =int64 (*_eeae );_dcca ._gccf =_bdeg ;_dcca ._beaga =_deaf ;_dcca ._fdeac =_ddffb ;return ;};};_efad :=[]structElement {};
for _ ,_ddcd :=range _adffb .Elements (){_adfe ,_edag :=_ddcd .(*_c .PdfObjectInteger );if _edag {_bdeg =int64 (*_adfe );_dcca ._gccf =_bdeg ;_dcca ._beaga =_deaf ;_dcca ._fdeac =_ddffb ;}else {_aagd :=&structElement {};_aagd .parseStructElement (_ddcd );
_efad =append (_efad ,*_aagd );};_bdeg =-1;};_dcca ._gbba =_efad ;};};func _abba (_fdad ,_gfgb float64 )string {_bbea :=!_eggec (_fdad -_gfgb );if _bbea {return "\u000a";};return "\u0020";};func (_gaabb *wordBag )scanBand (_add string ,_gfge *wordBag ,_cdce func (_ccgeb *wordBag ,_dgfb *textWord )bool ,_bbaba ,_gcd ,_cfec float64 ,_bgcff ,_adbdg bool )int {_abaf :=_gfge ._gee ;
var _daed map[int ]map[*textWord ]struct{};if !_bgcff {_daed =_gaabb .makeRemovals ();};_fdf :=_cbae *_abaf ;_cgfa :=0;for _ ,_afgf :=range _gaabb .depthBand (_bbaba -_fdf ,_gcd +_fdf ){if len (_gaabb ._cegd [_afgf ])==0{continue ;};for _ ,_dbfc :=range _gaabb ._cegd [_afgf ]{if !(_bbaba -_fdf <=_dbfc ._afedc &&_dbfc ._afedc <=_gcd +_fdf ){continue ;
};if !_cdce (_gfge ,_dbfc ){continue ;};_fgdc :=2.0*_fb .Abs (_dbfc ._aagde -_gfge ._gee )/(_dbfc ._aagde +_gfge ._gee );_gcc :=_fb .Max (_dbfc ._aagde /_gfge ._gee ,_gfge ._gee /_dbfc ._aagde );_bbcc :=_fb .Min (_fgdc ,_gcc );if _cfec > 0&&_bbcc > _cfec {continue ;
};if _gfge .blocked (_dbfc ){continue ;};if !_bgcff {_gfge .pullWord (_dbfc ,_afgf ,_daed );};_cgfa ++;if !_adbdg {if _dbfc ._afedc < _bbaba {_bbaba =_dbfc ._afedc ;};if _dbfc ._afedc > _gcd {_gcd =_dbfc ._afedc ;};};if _bgcff {break ;};};};if !_bgcff {_gaabb .applyRemovals (_daed );
};return _cgfa ;};func (_aafa *textMark )bbox ()_ec .PdfRectangle {return _aafa .PdfRectangle };

// ExtractFonts returns all font information from the page extractor, including
// font name, font type, the raw data of the embedded font file (if embedded), font descriptor and more.
//
// The argument `previousPageFonts` is used when trying to build a complete font catalog for multiple pages or the entire document.
// The entries from `previousPageFonts` are added to the returned result unless already included in the page, i.e. no duplicate entries.
//
// NOTE: If previousPageFonts is nil, all fonts from the page will be returned. Use it when building up a full list of fonts for a document or page range.
func (_fcg *Extractor )ExtractFonts (previousPageFonts *PageFonts )(*PageFonts ,error ){_dbd :=PageFonts {};_gba :=_dbd .extractPageResourcesToFont (_fcg ._dg );if _gba !=nil {return nil ,_gba ;};if previousPageFonts !=nil {for _ ,_bdd :=range previousPageFonts .Fonts {if !_fag (_dbd .Fonts ,_bdd .FontName ){_dbd .Fonts =append (_dbd .Fonts ,_bdd );
};};};return &PageFonts {Fonts :_dbd .Fonts },nil ;};type structTreeRoot struct{_dgfca []structElement ;_adda string ;};func (_agee *textTable )getDown ()paraList {_fdbb :=make (paraList ,_agee ._eegaf );for _cgead :=0;_cgead < _agee ._eegaf ;_cgead ++{_ecgfb :=_agee .get (_cgead ,_agee ._fgbf -1)._gcba ;
if _ecgfb .taken (){return nil ;};_fdbb [_cgead ]=_ecgfb ;};for _gadc :=0;_gadc < _agee ._eegaf -1;_gadc ++{if _fdbb [_gadc ]._egad !=_fdbb [_gadc +1]{return nil ;};};return _fdbb ;};func (_cgef *textTable )compositeColCorridors ()map[int ][]float64 {_adcbd :=make (map[int ][]float64 ,_cgef ._eegaf );
if _fdccc {_eb .Log .Info ("\u0063\u006f\u006d\u0070o\u0073\u0069\u0074\u0065\u0043\u006f\u006c\u0043\u006f\u0072r\u0069d\u006f\u0072\u0073\u003a\u0020\u0077\u003d%\u0064\u0020",_cgef ._eegaf );};for _cgaae :=0;_cgaae < _cgef ._eegaf ;_cgaae ++{_adcbd [_cgaae ]=nil ;
};return _adcbd ;};func (_edggf paraList )eventNeighbours (_ccdg []event )map[*textPara ][]int {_gc .Slice (_ccdg ,func (_bbbd ,_gagbd int )bool {_bcddb ,_ecbdc :=_ccdg [_bbbd ],_ccdg [_gagbd ];_aadbf ,_gfbbc :=_bcddb ._baec ,_ecbdc ._baec ;if _aadbf !=_gfbbc {return _aadbf < _gfbbc ;
};if _bcddb ._ccef !=_ecbdc ._ccef {return _bcddb ._ccef ;};return _bbbd < _gagbd ;});_gaabe :=make (map[int ]intSet );_agecf :=make (intSet );for _ ,_adbc :=range _ccdg {if _adbc ._ccef {_gaabe [_adbc ._cegab ]=make (intSet );for _aadaf :=range _agecf {if _aadaf !=_adbc ._cegab {_gaabe [_adbc ._cegab ].add (_aadaf );
_gaabe [_aadaf ].add (_adbc ._cegab );};};_agecf .add (_adbc ._cegab );}else {_agecf .del (_adbc ._cegab );};};_efgee :=map[*textPara ][]int {};for _ddbcg ,_bddea :=range _gaabe {_bbae :=_edggf [_ddbcg ];if len (_bddea )==0{_efgee [_bbae ]=nil ;continue ;
};_ggagd :=make ([]int ,len (_bddea ));_gceed :=0;for _fbbg :=range _bddea {_ggagd [_gceed ]=_fbbg ;_gceed ++;};_efgee [_bbae ]=_ggagd ;};return _efgee ;};func _efcca (_gegbe ,_caaa _d .Image )_d .Image {_gcab ,_aggc :=_caaa .Bounds ().Size (),_gegbe .Bounds ().Size ();
_acbb ,_bagef :=_gcab .X ,_gcab .Y ;if _aggc .X > _acbb {_acbb =_aggc .X ;};if _aggc .Y > _bagef {_bagef =_aggc .Y ;};_ggcf :=_d .Rect (0,0,_acbb ,_bagef );if _gcab .X !=_acbb ||_gcab .Y !=_bagef {_dbbdb :=_d .NewRGBA (_ggcf );_ad .BiLinear .Scale (_dbbdb ,_ggcf ,_gegbe ,_caaa .Bounds (),_ad .Over ,nil );
_caaa =_dbbdb ;};if _aggc .X !=_acbb ||_aggc .Y !=_bagef {_eefcc :=_d .NewRGBA (_ggcf );_ad .BiLinear .Scale (_eefcc ,_ggcf ,_gegbe ,_gegbe .Bounds (),_ad .Over ,nil );_gegbe =_eefcc ;};_geed :=_d .NewRGBA (_ggcf );_ad .DrawMask (_geed ,_ggcf ,_gegbe ,_d .Point {},_caaa ,_d .Point {},_ad .Over );
return _geed ;};func (_eegb paraList )llyRange (_fecb []int ,_ddedd ,_dfagd float64 )[]int {_gfee :=len (_eegb );if _dfagd < _eegb [_fecb [0]].Lly ||_ddedd > _eegb [_fecb [_gfee -1]].Lly {return nil ;};_bacbg :=_gc .Search (_gfee ,func (_bbad int )bool {return _eegb [_fecb [_bbad ]].Lly >=_ddedd });
_dcda :=_gc .Search (_gfee ,func (_fagaa int )bool {return _eegb [_fecb [_fagaa ]].Lly > _dfagd });return _fecb [_bacbg :_dcda ];};

// NewFromContents creates a new extractor from contents and page resources.
func NewFromContents (contents string ,resources *_ec .PdfPageResources )(*Extractor ,error ){const _dge ="\u0065x\u0074\u0072\u0061\u0063t\u006f\u0072\u002e\u004e\u0065w\u0046r\u006fm\u0043\u006f\u006e\u0074\u0065\u006e\u0074s";_ae :=&Extractor {_dab :contents ,_dg :resources ,_cg :map[string ]fontEntry {},_af :map[string ]textResult {}};
_eae .TrackUse (_dge );return _ae ,nil ;};func _abbc (_dgeed []rulingList )(rulingList ,rulingList ){var _adfbf rulingList ;for _ ,_caag :=range _dgeed {_adfbf =append (_adfbf ,_caag ...);};return _adfbf .vertsHorzs ();};const (_fcgc rulingKind =iota ;
_dccaa ;_dceeg ;);func (_faf *textObject )getFont (_edf string )(*_ec .PdfFont ,error ){if _faf ._gdca ._cg !=nil {_acf ,_gfdbc :=_faf .getFontDict (_edf );if _gfdbc !=nil {_eb .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0067\u0065\u0074\u0046\u006f\u006e\u0074:\u0020n\u0061m\u0065=\u0025\u0073\u002c\u0020\u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0073",_edf ,_gfdbc .Error ());
return nil ,_gfdbc ;};_faf ._gdca ._fcd ++;_gcbb ,_bdef :=_faf ._gdca ._cg [_acf .String ()];if _bdef {_gcbb ._ebba =_faf ._gdca ._fcd ;return _gcbb ._ccbad ,nil ;};};_ccce ,_ccga :=_faf .getFontDict (_edf );if _ccga !=nil {return nil ,_ccga ;};_adce ,_ccga :=_faf .getFontDirect (_edf );
if _ccga !=nil {return nil ,_ccga ;};if _faf ._gdca ._cg !=nil {_bea :=fontEntry {_adce ,_faf ._gdca ._fcd };if len (_faf ._gdca ._cg )>=_afab {var _bdff []string ;for _adbd :=range _faf ._gdca ._cg {_bdff =append (_bdff ,_adbd );};_gc .Slice (_bdff ,func (_gec ,_dafg int )bool {return _faf ._gdca ._cg [_bdff [_gec ]]._ebba < _faf ._gdca ._cg [_bdff [_dafg ]]._ebba ;
});delete (_faf ._gdca ._cg ,_bdff [0]);};_faf ._gdca ._cg [_ccce .String ()]=_bea ;};return _adce ,nil ;};func (_bcbf paraList )extractTables (_ddbc []gridTiling )paraList {if _fdccc {_eb .Log .Debug ("\u0065\u0078\u0074r\u0061\u0063\u0074\u0054\u0061\u0062\u006c\u0065\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_bcbf ));
};if len (_bcbf )< _abgd {return _bcbf ;};_eacd :=_bcbf .findTables (_ddbc );if _fdccc {_eb .Log .Info ("c\u006f\u006d\u0062\u0069\u006e\u0065d\u0020\u0074\u0061\u0062\u006c\u0065s\u0020\u0025\u0064\u0020\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d",len (_eacd ));
for _efac ,_dfbed :=range _eacd {_dfbed .log (_gb .Sprintf ("c\u006f\u006d\u0062\u0069\u006e\u0065\u0064\u0020\u0025\u0064",_efac ));};};return _bcbf .applyTables (_eacd );};func (_cdag *textObject )moveText (_adb ,_gaa float64 ){_cdag .moveLP (_adb ,_gaa )};
func (_eafe intSet )add (_dfabe int ){_eafe [_dfabe ]=struct{}{}};func _dca (_bcda *textLine )float64 {return _bcda ._ffef [0].Llx };func (_edccb rulingList )aligned ()bool {if len (_edccb )< 2{return false ;};_addb :=make (map[*ruling ]int );_addb [_edccb [0]]=0;
for _ ,_gdce :=range _edccb [1:]{_ggcb :=false ;for _geeab :=range _addb {if _gdce .gridIntersecting (_geeab ){_addb [_geeab ]++;_ggcb =true ;break ;};};if !_ggcb {_addb [_gdce ]=0;};};_bfgd :=0;for _ ,_aabf :=range _addb {if _aabf ==0{_bfgd ++;};};_dcac :=float64 (_bfgd )/float64 (len (_edccb ));
_egge :=_dcac <=1.0-_edcg ;if _cgcd {_eb .Log .Info ("\u0061\u006c\u0069\u0067\u006e\u0065\u0064\u003d\u0025\u0074\u0020\u0075\u006em\u0061\u0074\u0063\u0068\u0065\u0064=\u0025\u002e\u0032\u0066\u003d\u0025\u0064\u002f\u0025\u0064\u0020\u0076\u0065c\u0073\u003d\u0025\u0073",_egge ,_dcac ,_bfgd ,len (_edccb ),_edccb .String ());
};return _egge ;};

// Marks returns the TextMark collection for a page. It represents all the text on the page.
func (_ggg PageText )Marks ()*TextMarkArray {return &TextMarkArray {_dga :_ggg ._eagg }};func _fcdc (_faga *wordBag ,_dgab int )*textLine {_eabb :=_faga .firstWord (_dgab );_eccaf :=textLine {PdfRectangle :_eabb .PdfRectangle ,_gaag :_eabb ._aagde ,_dfcf :_eabb ._afedc };
_eccaf .pullWord (_faga ,_eabb ,_dgab );return &_eccaf ;};

// PageText represents the layout of text on a device page.
type PageText struct{_fgc []*textMark ;_gegf string ;_eagg []TextMark ;_dbce []TextTable ;_ddb _ec .PdfRectangle ;_ged []pathSection ;_ffgd []pathSection ;_egg *_c .PdfObject ;_cgbd _c .PdfObject ;_abc *_fcb .ContentStreamOperations ;_gabf PageTextOptions ;
};func (_fece rulingList )sort (){_gc .Slice (_fece ,_fece .comp )};type textTable struct{_ec .PdfRectangle ;_eegaf ,_fgbf int ;_bdab bool ;_aafgf map[uint64 ]*textPara ;_ecgfc map[uint64 ]compositeCell ;};func (_ebg *textObject )getCurrentFont ()*_ec .PdfFont {_fef :=_ebg ._becc ._bef ;
if _fef ==nil {_eb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u004e\u006f\u0020\u0066\u006f\u006e\u0074\u0020\u0064\u0065\u0066\u0069\u006e\u0065\u0064\u002e\u0020U\u0073\u0069\u006e\u0067\u0020d\u0065\u0066a\u0075\u006c\u0074\u002e");return _ec .DefaultFont ();
};return _fef ;};

// Tables returns the tables extracted from the page.
func (_dec PageText )Tables ()[]TextTable {if _fdccc {_eb .Log .Info ("\u0054\u0061\u0062\u006c\u0065\u0073\u003a\u0020\u0025\u0064",len (_dec ._dbce ));};return _dec ._dbce ;};func (_babcg *textPara )text ()string {_gccb :=new (_fa .Buffer );_babcg .writeText (_gccb );
return _gccb .String ();};

// TextMarkArray is a collection of TextMarks.
type TextMarkArray struct{_dga []TextMark };func (_gbefa *textTable )log (_bfee string ){if !_fdccc {return ;};_eb .Log .Info ("~\u007e\u007e\u0020\u0025\u0073\u003a \u0025\u0064\u0020\u0078\u0020\u0025d\u0020\u0067\u0072\u0069\u0064\u003d\u0025t\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0025\u0036\u002e2\u0066",_bfee ,_gbefa ._eegaf ,_gbefa ._fgbf ,_gbefa ._bdab ,_gbefa .PdfRectangle );
for _ccgcg :=0;_ccgcg < _gbefa ._fgbf ;_ccgcg ++{for _bagdf :=0;_bagdf < _gbefa ._eegaf ;_bagdf ++{_egef :=_gbefa .get (_bagdf ,_ccgcg );if _egef ==nil {continue ;};_gb .Printf ("%\u0034\u0064\u0020\u00252d\u003a \u0025\u0036\u002e\u0032\u0066 \u0025\u0071\u0020\u0025\u0064\u000a",_bagdf ,_ccgcg ,_egef .PdfRectangle ,_dgbg (_egef .text (),50),_ea .RuneCountInString (_egef .text ()));
};};};func (_eacg *subpath )add (_fdg ..._ecd .Point ){_eacg ._ece =append (_eacg ._ece ,_fdg ...)};func (_bfdb *textLine )pullWord (_bbeb *wordBag ,_fgac *textWord ,_fbfb int ){_bfdb .appendWord (_fgac );_bbeb .removeWord (_fgac ,_fbfb );};func (_aadd rulingList )merge ()*ruling {_cdfg :=_aadd [0]._ebgag ;
_bcaa :=_aadd [0]._gbaa ;_fgca :=_aadd [0]._abcbd ;for _ ,_cgda :=range _aadd [1:]{_cdfg +=_cgda ._ebgag ;if _cgda ._gbaa < _bcaa {_bcaa =_cgda ._gbaa ;};if _cgda ._abcbd > _fgca {_fgca =_cgda ._abcbd ;};};_fedfd :=&ruling {_cggcf :_aadd [0]._cggcf ,_dcfce :_aadd [0]._dcfce ,Color :_aadd [0].Color ,_ebgag :_cdfg /float64 (len (_aadd )),_gbaa :_bcaa ,_abcbd :_fgca };
if _gdcb {_eb .Log .Info ("\u006de\u0072g\u0065\u003a\u0020\u0025\u0032d\u0020\u0076e\u0063\u0073\u0020\u0025\u0073",len (_aadd ),_fedfd );for _ddcg ,_aedf :=range _aadd {_gb .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_ddcg ,_aedf );};
};return _fedfd ;};func (_fgae *wordBag )firstWord (_eaae int )*textWord {return _fgae ._cegd [_eaae ][0]};func (_bdbe lineRuling )xMean ()float64 {return 0.5*(_bdbe ._gdfd .X +_bdbe ._ccceb .X )};func (_efdg rulingList )toTilings ()(rulingList ,[]gridTiling ){_efdg .log ("\u0074o\u0054\u0069\u006c\u0069\u006e\u0067s");
if len (_efdg )==0{return nil ,nil ;};_efdg =_efdg .tidied ("\u0061\u006c\u006c");_efdg .log ("\u0074\u0069\u0064\u0069\u0065\u0064");_eagef :=_efdg .toGrids ();_bddg :=make ([]gridTiling ,len (_eagef ));for _abac ,_fceag :=range _eagef {_bddg [_abac ]=_fceag .asTiling ();
};return _efdg ,_bddg ;};func _bdbg (_eadd map[float64 ][]*textLine )[]float64 {_eaef :=[]float64 {};for _cgcc :=range _eadd {_eaef =append (_eaef ,_cgcc );};_gc .Float64s (_eaef );return _eaef ;};

// String returns a description of `k`.
func (_dgbd markKind )String ()string {_ggdeb ,_gacgf :=_bfdea [_dgbd ];if !_gacgf {return _gb .Sprintf ("\u004e\u006f\u0074\u0020\u0061\u0020\u006d\u0061\u0072k\u003a\u0020\u0025\u0064",_dgbd );};return _ggdeb ;};func _caef (_bagg ,_eadg _ecd .Point )rulingKind {_ddgf :=_fb .Abs (_bagg .X -_eadg .X );
_gdec :=_fb .Abs (_bagg .Y -_eadg .Y );return _aebcc (_ddgf ,_gdec ,_ccbfe );};func _cdad (_bbedc map[int ][]float64 ){if len (_bbedc )<=1{return ;};_adea :=_dcded (_bbedc );if _fdccc {_eb .Log .Info ("\u0066i\u0078C\u0065\u006c\u006c\u0073\u003a \u006b\u0065y\u0073\u003d\u0025\u002b\u0076",_adea );
};var _fddc ,_gdcea int ;for _fddc ,_gdcea =range _adea {if _bbedc [_gdcea ]!=nil {break ;};};for _dbcb ,_aadda :=range _adea [_fddc :]{_agcf :=_bbedc [_aadda ];if _agcf ==nil {continue ;};if _fdccc {_gb .Printf ("\u0025\u0034\u0064\u003a\u0020\u006b\u0030\u003d\u0025\u0064\u0020\u006b1\u003d\u0025\u0064\u000a",_fddc +_dbcb ,_gdcea ,_aadda );
};_fcdaf :=_bbedc [_aadda ];if _fcdaf [len (_fcdaf )-1]> _agcf [0]{_fcdaf [len (_fcdaf )-1]=_agcf [0];_bbedc [_gdcea ]=_fcdaf ;};_gdcea =_aadda ;};};func (_dfegf paraList )list ()[]*list {var _cbafg []*textLine ;var _dbfb []*textLine ;for _ ,_fcdee :=range _dfegf {_gcce :=_fcdee .getListLines ();
_cbafg =append (_cbafg ,_gcce ...);_dbfb =append (_dbfb ,_fcdee ._efaa ...);};_bfdbc :=_dafgd (_cbafg );_ggfbe :=_dfdc (_dbfb ,_bfdbc );return _ggfbe ;};func (_aeca *stateStack )push (_gaf *textState ){_fdcf :=*_gaf ;*_aeca =append (*_aeca ,&_fdcf )};func (_cgedb paraList )sortTopoOrder (){_gceg :=_cgedb .topoOrder ();
_cgedb .reorder (_gceg )};func (_cdaad paraList )readBefore (_eaffb []int ,_dgaaf ,_cffb int )bool {_afef ,_ggeegc :=_cdaad [_dgaaf ],_cdaad [_cffb ];if _badbf (_afef ,_ggeegc )&&_afef .Lly > _ggeegc .Lly {return true ;};if !(_afef ._aebc .Urx < _ggeegc ._aebc .Llx ){return false ;
};_aaed ,_gaad :=_afef .Lly ,_ggeegc .Lly ;if _aaed > _gaad {_gaad ,_aaed =_aaed ,_gaad ;};_afcf :=_fb .Max (_afef ._aebc .Llx ,_ggeegc ._aebc .Llx );_fdda :=_fb .Min (_afef ._aebc .Urx ,_ggeegc ._aebc .Urx );_bdcg :=_cdaad .llyRange (_eaffb ,_aaed ,_gaad );
for _ ,_faed :=range _bdcg {if _faed ==_dgaaf ||_faed ==_cffb {continue ;};_gdee :=_cdaad [_faed ];if _gdee ._aebc .Llx <=_fdda &&_afcf <=_gdee ._aebc .Urx {return false ;};};return true ;};func (_ffbce rulingList )primMinMax ()(float64 ,float64 ){_edbc ,_becgd :=_ffbce [0]._ebgag ,_ffbce [0]._ebgag ;
for _ ,_bedd :=range _ffbce [1:]{if _bedd ._ebgag < _edbc {_edbc =_bedd ._ebgag ;}else if _bedd ._ebgag > _becgd {_becgd =_bedd ._ebgag ;};};return _edbc ,_becgd ;};func (_bfb *stateStack )top ()*textState {if _bfb .empty (){return nil ;};return (*_bfb )[_bfb .size ()-1];
};func _edgcg (_eff []*textWord ,_aeag float64 ,_ffaab ,_aebf rulingList )*wordBag {_gdfgb :=_aebb (_eff [0],_aeag ,_ffaab ,_aebf );for _ ,_cfa :=range _eff [1:]{_gece :=_dac (_cfa ._afedc );_gdfgb ._cegd [_gece ]=append (_gdfgb ._cegd [_gece ],_cfa );
_gdfgb .PdfRectangle =_aebe (_gdfgb .PdfRectangle ,_cfa .PdfRectangle );};_gdfgb .sort ();return _gdfgb ;};var _efb =[]string {"\u2756","\u27a2","\u2713","\u2022","\uf0a7","\u25a1","\u2212","\u25a0","\u25aa","\u006f"};func (_cgc *textObject )setHorizScaling (_ffbg float64 ){if _cgc ==nil {return ;
};_cgc ._becc ._aecac =_ffbg ;};func (_fbdf *shapesState )drawRectangle (_eabe ,_cbacb ,_afgd ,_cgbg float64 ){if _eace {_eaggb :=_fbdf .devicePoint (_eabe ,_cbacb );_cbcc :=_fbdf .devicePoint (_eabe +_afgd ,_cbacb +_cgbg );_cfd :=_ec .PdfRectangle {Llx :_eaggb .X ,Lly :_eaggb .Y ,Urx :_cbcc .X ,Ury :_cbcc .Y };
_eb .Log .Info ("d\u0072a\u0077\u0052\u0065\u0063\u0074\u0061\u006e\u0067l\u0065\u003a\u0020\u00256.\u0032\u0066",_cfd );};_fbdf .newSubPath ();_fbdf .moveTo (_eabe ,_cbacb );_fbdf .lineTo (_eabe +_afgd ,_cbacb );_fbdf .lineTo (_eabe +_afgd ,_cbacb +_cgbg );
_fbdf .lineTo (_eabe ,_cbacb +_cgbg );_fbdf .closePath ();};func (_beba *textPara )depth ()float64 {if _beba ._bcdg {return -1.0;};if len (_beba ._efaa )> 0{return _beba ._efaa [0]._dfcf ;};return _beba ._ffbc .depth ();};func (_bafg *textObject )reset (){_bafg ._cbbe =_ecd .IdentityMatrix ();
_bafg ._ecdb =_ecd .IdentityMatrix ();_bafg ._cad =nil ;};func _ecea (_bage []*textLine ,_dbdb map[float64 ][]*textLine ,_eceg []float64 ,_dcag int ,_fdcbb ,_bgec float64 )[]*list {_ggff :=[]*list {};_dcbeg :=_dcag ;_dcag =_dcag +1;_fdde :=_eceg [_dcbeg ];
_gcddc :=_dbdb [_fdde ];_dgbf :=_gccfa (_gcddc ,_bgec ,_fdcbb );for _bgfb ,_bgbd :=range _dgbf {var _cage float64 ;_fagf :=[]*list {};_gafe :=_bgbd ._dfcf ;_cfedf :=_bgec ;if _bgfb < len (_dgbf )-1{_cfedf =_dgbf [_bgfb +1]._dfcf ;};if _dcag < len (_eceg ){_fagf =_ecea (_bage ,_dbdb ,_eceg ,_dcag ,_gafe ,_cfedf );
};_cage =_cfedf ;if len (_fagf )> 0{_bgfc :=_fagf [0];if len (_bgfc ._addd )> 0{_cage =_bgfc ._addd [0]._dfcf ;};};_ggb :=[]*textLine {_bgbd };_bdbfd :=_cafd (_bgbd ,_bage ,_eceg ,_gafe ,_cage );_ggb =append (_ggb ,_bdbfd ...);_ebgd :=_cdfe (_ggb ,"\u0062\u0075\u006c\u006c\u0065\u0074",_fagf );
_ebgd ._badf =_dgda (_ggb ,"");_ggff =append (_ggff ,_ebgd );};return _ggff ;};func (_gdafa rulingList )sortStrict (){_gc .Slice (_gdafa ,func (_gdcef ,_eaee int )bool {_ebcef ,_adeee :=_gdafa [_gdcef ],_gdafa [_eaee ];_bdedb ,_cedfa :=_ebcef ._cggcf ,_adeee ._cggcf ;
if _bdedb !=_cedfa {return _bdedb > _cedfa ;};_abae ,_bcdcg :=_ebcef ._ebgag ,_adeee ._ebgag ;if !_eggec (_abae -_bcdcg ){return _abae < _bcdcg ;};_abae ,_bcdcg =_ebcef ._gbaa ,_adeee ._gbaa ;if _abae !=_bcdcg {return _abae < _bcdcg ;};return _ebcef ._abcbd < _adeee ._abcbd ;
});};func (_eecb *textPara )writeCellText (_gegge _f .Writer ){for _gcac ,_dcfe :=range _eecb ._efaa {_baa :=_dcfe .text ();_bbed :=_ggag &&_dcfe .endsInHyphen ()&&_gcac !=len (_eecb ._efaa )-1;if _bbed {_baa =_ecgf (_baa );};_gegge .Write ([]byte (_baa ));
if !(_bbed ||_gcac ==len (_eecb ._efaa )-1){_gegge .Write ([]byte (_abba (_dcfe ._dfcf ,_eecb ._efaa [_gcac +1]._dfcf )));};};};const (_facbf =1.0e-6;_ecfg =1.0e-4;_dffc =10;_adge =6;_cbae =0.5;_dgfcd =0.12;_aeba =0.19;_bcce =0.04;_ebcb =0.04;_fccd =1.0;
_fcgd =0.04;_gdfgc =0.4;_fagef =0.7;_bdce =1.0;_geae =0.1;_becd =1.4;_afdc =0.46;_gaba =0.02;_bdgg =0.2;_eed =0.5;_feag =4;_deacb =4.0;_abgd =6;_cebb =0.3;_cddc =0.01;_bccac =0.02;_egaeg =2;_egbc =2;_bbdc =500;_ccbfe =4.0;_bagc =4.0;_fagba =0.05;_bddbd =0.1;
_fbbe =2.0;_ecdd =2.0;_gegb =1.5;_gfb =3.0;_edcg =0.25;);func _cgec (_gede []*textLine )[]*textLine {_eefa :=[]*textLine {};for _ ,_dgb :=range _gede {_cedf :=_dgb .text ();_eebc :=_cbf .Find ([]byte (_cedf ));if _eebc !=nil {_eefa =append (_eefa ,_dgb );
};};return _eefa ;};func (_bfbf *textObject )getFontDict (_facb string )(_gdfg _c .PdfObject ,_gebg error ){_dcde :=_bfbf ._abf ;if _dcde ==nil {_eb .Log .Debug ("g\u0065\u0074\u0046\u006f\u006e\u0074D\u0069\u0063\u0074\u002e\u0020\u004eo\u0020\u0072\u0065\u0073\u006f\u0075\u0072c\u0065\u0073\u002e\u0020\u006e\u0061\u006d\u0065\u003d\u0025#\u0071",_facb );
return nil ,nil ;};_gdfg ,_cafc :=_dcde .GetFontByName (_c .PdfObjectName (_facb ));if !_cafc {_eb .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0067\u0065t\u0046\u006f\u006et\u0044\u0069\u0063\u0074\u003a\u0020\u0046\u006f\u006et \u006e\u006f\u0074 \u0066\u006fu\u006e\u0064\u003a\u0020\u006e\u0061m\u0065\u003d%\u0023\u0071",_facb );
return nil ,_b .New ("f\u006f\u006e\u0074\u0020no\u0074 \u0069\u006e\u0020\u0072\u0065s\u006f\u0075\u0072\u0063\u0065\u0073");};return _gdfg ,nil ;};

// Options extractor options.
type Options struct{

// DisableDocumentTags specifies whether to use the document tags during list extraction.
DisableDocumentTags bool ;

// ApplyCropBox will extract page text based on page cropbox if set to `true`.
ApplyCropBox bool ;

// UseSimplerExtractionProcess will skip topological text ordering and table processing.
//
// NOTE: While normally the extra processing is beneficial, it can also lead to problems when it does not work.
// Thus it is a flag to allow the user to control this process.
//
// Skipping some extraction processes would also lead to the reduced processing time.
UseSimplerExtractionProcess bool ;};func (_bfgca *wordBag )firstReadingIndex (_fcecc int )int {_dfaa :=_bfgca .firstWord (_fcecc )._aagde ;_bacd :=float64 (_fcecc +1)*_adge ;_dbe :=_bacd +_deacb *_dfaa ;_gfa :=_fcecc ;for _ ,_dfdd :=range _bfgca .depthBand (_bacd ,_dbe ){if _accb (_bfgca .firstWord (_dfdd ),_bfgca .firstWord (_gfa ))< 0{_gfa =_dfdd ;
};};return _gfa ;};func (_ggcd *textTable )getComposite (_aeege ,_fdccg int )(paraList ,_ec .PdfRectangle ){_ffca ,_eaggbg :=_ggcd ._ecgfc [_ecgg (_aeege ,_fdccg )];if _fdccc {_gb .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0067\u0065\u0074\u0043\u006f\u006d\u0070o\u0073i\u0074\u0065\u0028\u0025\u0064\u002c\u0025\u0064\u0029\u002d\u003e\u0025\u0073\u000a",_aeege ,_fdccg ,_ffca .String ());
};if !_eaggbg {return nil ,_ec .PdfRectangle {};};return _ffca .parasBBox ();};func (_bcgb *shapesState )addPoint (_bdcb ,_dgg float64 ){_efd :=_bcgb .establishSubpath ();_aagc :=_bcgb .devicePoint (_bdcb ,_dgg );if _efd ==nil {_bcgb ._agfa =true ;_bcgb ._dfab =_aagc ;
}else {_efd .add (_aagc );};};func _dcded (_abea map[int ][]float64 )[]int {_egcd :=make ([]int ,len (_abea ));_efge :=0;for _fdfe :=range _abea {_egcd [_efge ]=_fdfe ;_efge ++;};_gc .Ints (_egcd );return _egcd ;};func (_affa *textTable )bbox ()_ec .PdfRectangle {return _affa .PdfRectangle };
func _bdggb (_cbfc _ec .PdfRectangle )rulingKind {_geee :=_cbfc .Width ();_dbbbg :=_cbfc .Height ();if _geee > _dbbbg {if _geee >=_ccbfe {return _dccaa ;};}else {if _dbbbg >=_ccbfe {return _dceeg ;};};return _fcgc ;};type textWord struct{_ec .PdfRectangle ;
_afedc float64 ;_degc string ;_ebgde []*textMark ;_aagde float64 ;_aefb bool ;};type textPara struct{_ec .PdfRectangle ;_aebc _ec .PdfRectangle ;_efaa []*textLine ;_ffbc *textTable ;_acdb bool ;_bcdg bool ;_deef *textPara ;_egad *textPara ;_feae *textPara ;
_gcba *textPara ;_ffda []list ;};func (_effe *ruling )alignsPrimary (_bgeg *ruling )bool {return _effe ._cggcf ==_bgeg ._cggcf &&_fb .Abs (_effe ._ebgag -_bgeg ._ebgag )< _ecdd *0.5;};func (_dcc *shapesState )clearPath (){_dcc ._afbde =nil ;_dcc ._agfa =false ;
if _eace {_eb .Log .Info ("\u0043\u004c\u0045A\u0052\u003a\u0020\u0073\u0073\u003d\u0025\u0073",_dcc );};};func _cfeeg (_bfbd ,_dgcga int )int {if _bfbd > _dgcga {return _bfbd ;};return _dgcga ;};func (_febab *textWord )appendMark (_ccdbc *textMark ,_bgcef _ec .PdfRectangle ){_febab ._ebgde =append (_febab ._ebgde ,_ccdbc );
_febab .PdfRectangle =_aebe (_febab .PdfRectangle ,_ccdbc .PdfRectangle );if _ccdbc ._dgaad > _febab ._aagde {_febab ._aagde =_ccdbc ._dgaad ;};_febab ._afedc =_bgcef .Ury -_febab .PdfRectangle .Lly ;};func _fcbd (_cgfcc map[int ]intSet )[]int {_faccd :=make ([]int ,0,len (_cgfcc ));
for _cfaf :=range _cgfcc {_faccd =append (_faccd ,_cfaf );};_gc .Ints (_faccd );return _faccd ;};

// List returns all the list objects detected on the page.
// It detects all the bullet point Lists from a given pdf page and builds a slice of bullet list objects.
// A given bullet list object has a tree structure.
// Each bullet point list is extracted with the text content it contains and all the sub lists found under it as children in the tree.
// The rest content of the pdf is ignored and only text in the bullet point lists are extracted.
// The list extraction is done in two ways.
// 1. If the document is tagged then the lists are extracted using the tags provided in the document.
// 2. Otherwise the bullet lists are extracted from the raw text using regex matching.
// By default the document tag is used if available.
// However this can be disabled using `DisableDocumentTags` in the `Options` object.
// Sometimes disabling document tags option might give a better bullet list extraction if the document was tagged incorrectly.
//     options := &Options{
//	     DisableDocumentTags: false, // this means use document tag if available
//     }
//     ex, err := NewWithOptions(page, options)
//     // handle error
//     pageText, _, _, err := ex.ExtractPageText()
//     // handle error
//     lists := pageText.List()
//     txt := lists.Text()
func (_cfce PageText )List ()lists {_fdcfc :=!_cfce ._gabf ._bba ;_beed :=_cfce .getParagraphs ();_beea :=true ;if _cfce ._egg ==nil ||*_cfce ._egg ==nil {_beea =false ;};_daab :=_beed .list ();if _beea &&_fdcfc {_cec :=_eedc (&_beed );_dgeec :=&structTreeRoot {};
_dgeec .parseStructTreeRoot (*_cfce ._egg );if _dgeec ._dgfca ==nil {_eb .Log .Debug ("\u004c\u0069\u0073\u0074\u003a\u0020\u0073t\u0072\u0075\u0063\u0074\u0054\u0072\u0065\u0065\u0052\u006f\u006f\u0074\u0020\u0064\u006f\u0065\u0073\u006e'\u0074\u0020\u0068\u0061\u0076e\u0020\u0061\u006e\u0079\u0020\u0063\u006f\u006e\u0074e\u006e\u0074\u002c\u0020\u0075\u0073\u0069\u006e\u0067\u0020\u0074\u0065\u0078\u0074\u0020\u006d\u0061\u0074\u0063\u0068\u0069\u006e\u0067\u0020\u006d\u0065\u0074\u0068\u006f\u0064\u0020\u0069\u006e\u0073\u0074\u0065\u0061\u0064\u002e");
return _daab ;};_daab =_dgeec .buildList (_cec ,_cfce ._cgbd );};return _daab ;};func (_eabff *textWord )bbox ()_ec .PdfRectangle {return _eabff .PdfRectangle };func (_bfba *textObject )renderText (_gbcg _c .PdfObject ,_efgf []byte ,_acdc int )error {if _bfba ._bfg {_eb .Log .Debug ("\u0072\u0065\u006e\u0064\u0065r\u0054\u0065\u0078\u0074\u003a\u0020\u0049\u006e\u0076\u0061\u006c\u0069\u0064 \u0066\u006f\u006e\u0074\u002e\u0020\u004e\u006f\u0074\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u002e");
return nil ;};_cbac :=_bfba .getCurrentFont ();_dadba :=_cbac .BytesToCharcodes (_efgf );_bcca ,_cbbef ,_daagg :=_cbac .CharcodesToStrings (_dadba );if _daagg > 0{_eb .Log .Debug ("\u0072\u0065nd\u0065\u0072\u0054e\u0078\u0074\u003a\u0020num\u0043ha\u0072\u0073\u003d\u0025\u0064\u0020\u006eum\u004d\u0069\u0073\u0073\u0065\u0073\u003d%\u0064",_cbbef ,_daagg );
};_bfba ._becc ._acbd +=_cbbef ;_bfba ._becc ._begd +=_daagg ;_ecbb :=_bfba ._becc ;_gbed :=_ecbb ._gcge ;_afbd :=_ecbb ._aecac /100.0;_dadbaa :=_ccfc ;if _cbac .Subtype ()=="\u0054\u0079\u0070e\u0033"{_dadbaa =1;};_ecgc ,_aedc :=_cbac .GetRuneMetrics (' ');
if !_aedc {_ecgc ,_aedc =_cbac .GetCharMetrics (32);};if !_aedc {_ecgc ,_ =_ec .DefaultFont ().GetRuneMetrics (' ');};_cdcg :=_ecgc .Wx *_dadbaa ;_eb .Log .Trace ("\u0073p\u0061\u0063e\u0057\u0069\u0064t\u0068\u003d\u0025\u002e\u0032\u0066\u0020t\u0065\u0078\u0074\u003d\u0025\u0071 \u0066\u006f\u006e\u0074\u003d\u0025\u0073\u0020\u0066\u006f\u006et\u0053\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066",_cdcg ,_bcca ,_cbac ,_gbed );
_ded :=_ecd .NewMatrix (_gbed *_afbd ,0,0,_gbed ,0,_ecbb ._feeg );if _bfca {_eb .Log .Info ("\u0072\u0065\u006e\u0064\u0065\u0072T\u0065\u0078\u0074\u003a\u0020\u0025\u0064\u0020\u0063\u006f\u0064\u0065\u0073=\u0025\u002b\u0076\u0020\u0074\u0065\u0078t\u0073\u003d\u0025\u0071",len (_dadba ),_dadba ,_bcca );
};_eb .Log .Trace ("\u0072\u0065\u006e\u0064\u0065\u0072T\u0065\u0078\u0074\u003a\u0020\u0025\u0064\u0020\u0063\u006f\u0064\u0065\u0073=\u0025\u002b\u0076\u0020\u0072\u0075\u006ee\u0073\u003d\u0025\u0071",len (_dadba ),_dadba ,len (_bcca ));_bbd :=_bfba .getFillColor ();
_fegb :=_bfba .getStrokeColor ();for _gdddb ,_agda :=range _bcca {_fedg :=[]rune (_agda );if len (_fedg )==1&&_fedg [0]=='\x00'{continue ;};_bde :=_dadba [_gdddb ];_ccge :=_bfba ._gge .CTM .Mult (_bfba ._cbbe ).Mult (_ded );_dae :=0.0;if len (_fedg )==1&&_fedg [0]==32{_dae =_ecbb ._fccb ;
};_cbg ,_cfeb :=_cbac .GetCharMetrics (_bde );if !_cfeb {_eb .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u004e\u006f \u006d\u0065\u0074r\u0069\u0063\u0020\u0066\u006f\u0072\u0020\u0063\u006fde\u003d\u0025\u0064 \u0072\u003d0\u0078\u0025\u0030\u0034\u0078\u003d%\u002b\u0071 \u0025\u0073",_bde ,_fedg ,_fedg ,_cbac );
return _gb .Errorf ("\u006e\u006f\u0020\u0063\u0068\u0061\u0072\u0020\u006d\u0065\u0074\u0072\u0069\u0063\u0073:\u0020f\u006f\u006e\u0074\u003d\u0025\u0073\u0020\u0063\u006f\u0064\u0065\u003d\u0025\u0064",_cbac .String (),_bde );};_fdca :=_ecd .Point {X :_cbg .Wx *_dadbaa ,Y :_cbg .Wy *_dadbaa };
_fffe :=_ecd .Point {X :(_fdca .X *_gbed +_dae )*_afbd };_efgd :=_ecd .Point {X :(_fdca .X *_gbed +_ecbb ._feed +_dae )*_afbd };if _bfca {_eb .Log .Info ("\u0074\u0066\u0073\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0063\u003d\u0025\u002e\u0032f\u0020t\u0077\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0068\u003d\u0025\u002e\u0032\u0066",_gbed ,_ecbb ._feed ,_ecbb ._fccb ,_afbd );
_eb .Log .Info ("\u0064x\u002c\u0064\u0079\u003d%\u002e\u0033\u0066\u0020\u00740\u003d%\u002e3\u0066\u0020\u0074\u003d\u0025\u002e\u0033f",_fdca ,_fffe ,_efgd );};_aagga :=_dfa (_fffe );_eada :=_dfa (_efgd );_eca :=_bfba ._gge .CTM .Mult (_bfba ._cbbe ).Mult (_aagga );
if _gdba {_eb .Log .Info ("e\u006e\u0064\u003a\u000a\tC\u0054M\u003d\u0025\u0073\u000a\u0009 \u0074\u006d\u003d\u0025\u0073\u000a"+"\u0009\u0020t\u0064\u003d\u0025s\u0020\u0078\u006c\u0061\u0074\u003d\u0025\u0073\u000a"+"\u0009t\u0064\u0030\u003d\u0025s\u000a\u0009\u0020\u0020\u2192 \u0025s\u0020x\u006c\u0061\u0074\u003d\u0025\u0073",_bfba ._gge .CTM ,_bfba ._cbbe ,_eada ,_gddb (_bfba ._gge .CTM .Mult (_bfba ._cbbe ).Mult (_eada )),_aagga ,_eca ,_gddb (_eca ));
};_agde ,_ecdbg :=_bfba .newTextMark (_gg .ExpandLigatures (_fedg ),_ccge ,_gddb (_eca ),_fb .Abs (_cdcg *_ccge .ScalingFactorX ()),_cbac ,_bfba ._becc ._feed ,_bbd ,_fegb ,_gbcg ,_bcca ,_gdddb ,_acdc );if !_ecdbg {_eb .Log .Debug ("\u0054\u0065\u0078\u0074\u0020\u006d\u0061\u0072\u006b\u0020\u006f\u0075\u0074\u0073\u0069d\u0065 \u0070\u0061\u0067\u0065\u002e\u0020\u0053\u006b\u0069\u0070\u0070\u0069\u006e\u0067");
continue ;};if _cbac ==nil {_eb .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u004e\u006f\u0020\u0066\u006f\u006e\u0074\u002e");}else if _cbac .Encoder ()==nil {_eb .Log .Debug ("E\u0052\u0052\u004f\u0052\u003a\u0020N\u006f\u0020\u0065\u006e\u0063\u006f\u0064\u0069\u006eg\u002e\u0020\u0066o\u006et\u003d\u0025\u0073",_cbac );
}else {if _eabd ,_acdf :=_cbac .Encoder ().CharcodeToRune (_bde );_acdf {_agde ._bdfa =string (_eabd );};};_eb .Log .Trace ("i\u003d\u0025\u0064\u0020\u0063\u006fd\u0065\u003d\u0025\u0064\u0020\u006d\u0061\u0072\u006b=\u0025\u0073\u0020t\u0072m\u003d\u0025\u0073",_gdddb ,_bde ,_agde ,_ccge );
_bfba ._cad =append (_bfba ._cad ,&_agde );_bfba ._cbbe .Concat (_eada );};return nil ;};func (_dbc *textObject )setWordSpacing (_fac float64 ){if _dbc ==nil {return ;};_dbc ._becc ._fccb =_fac ;};type gridTiling struct{_ec .PdfRectangle ;_bfdebc []float64 ;
_geafa []float64 ;_agcg map[float64 ]map[float64 ]gridTile ;};func _dgda (_fgab []*textLine ,_dccc string )string {var _fdab _a .Builder ;_fad :=0.0;for _fged ,_ecae :=range _fgab {_gdbd :=_ecae .text ();_gbcc :=_ecae ._dfcf ;if _fged < len (_fgab )-1{_fad =_fgab [_fged +1]._dfcf ;
}else {_fad =0.0;};_fdab .WriteString (_dccc );_fdab .WriteString (_gdbd );if _fad !=_gbcc {_fdab .WriteString ("\u000a");}else {_fdab .WriteString ("\u0020");};};return _fdab .String ();};var _bbdd =map[rulingKind ]string {_fcgc :"\u006e\u006f\u006e\u0065",_dccaa :"\u0068\u006f\u0072\u0069\u007a\u006f\u006e\u0074\u0061\u006c",_dceeg :"\u0076\u0065\u0072\u0074\u0069\u0063\u0061\u006c"};


// PageImages represents extracted images on a PDF page with spatial information:
// display position and size.
type PageImages struct{Images []ImageMark ;};var _ecbf string ="\u0028\u003f\u0069\u0029\u005e\u0028\u004d\u007b\u0030\u002c\u0033\u007d\u0029\u0028\u0043\u0028?\u003a\u0044\u007cM\u0029\u007c\u0044\u003f\u0043{\u0030\u002c\u0033\u007d\u0029\u0028\u0058\u0028\u003f\u003a\u004c\u007c\u0043\u0029\u007cL\u003f\u0058\u007b\u0030\u002c\u0033}\u0029\u0028\u0049\u0028\u003f\u003a\u0056\u007c\u0058\u0029\u007c\u0056\u003f\u0049\u007b\u0030\u002c\u0033\u007d\u0029\u0028\u005c\u0029\u007c\u005c\u002e\u0029\u007c\u005e\u005c\u0028\u0028\u004d\u007b\u0030\u002c\u0033\u007d\u0029\u0028\u0043\u0028\u003f\u003aD\u007cM\u0029\u007c\u0044\u003f\u0043\u007b\u0030\u002c\u0033\u007d\u0029\u0028\u0058\u0028?\u003a\u004c\u007c\u0043\u0029\u007c\u004c?\u0058\u007b0\u002c\u0033\u007d\u0029(\u0049\u0028\u003f\u003a\u0056|\u0058\u0029\u007c\u0056\u003f\u0049\u007b\u0030\u002c\u0033\u007d\u0029\u005c\u0029";
func (_bacda compositeCell )hasLines (_bdee []*textLine )bool {for _cdceg ,_dbabe :=range _bdee {_gbefe :=_dded (_bacda .PdfRectangle ,_dbabe .PdfRectangle );if _fdccc {_gb .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u005e\u005e\u005e\u0069\u006e\u0074\u0065\u0072\u0073e\u0063t\u0073\u003d\u0025\u0074\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064\u000a",_gbefe ,_cdceg ,len (_bdee ));
_gb .Printf ("\u0020\u0020\u0020\u0020  \u005e\u005e\u005e\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u003d\u0025s\u000a",_bacda );_gb .Printf ("\u0020 \u0020 \u0020\u0020\u0020\u006c\u0069\u006e\u0065\u003d\u0025\u0073\u000a",_dbabe );};if _gbefe {return true ;
};};return false ;};func (_deed *textPara )toCellTextMarks (_fagg *int )[]TextMark {var _fdfd []TextMark ;for _begab ,_agbc :=range _deed ._efaa {_dbfg :=_agbc .toTextMarks (_fagg );_ffdba :=_ggag &&_agbc .endsInHyphen ()&&_begab !=len (_deed ._efaa )-1;
if _ffdba {_dbfg =_gddc (_dbfg ,_fagg );};_fdfd =append (_fdfd ,_dbfg ...);if !(_ffdba ||_begab ==len (_deed ._efaa )-1){_fdfd =_faec (_fdfd ,_fagg ,_abba (_agbc ._dfcf ,_deed ._efaa [_begab +1]._dfcf ));};};return _fdfd ;};func (_eebe *textMark )inDiacriticArea (_cggeb *textMark )bool {_cbfg :=_eebe .Llx -_cggeb .Llx ;
_badbb :=_eebe .Urx -_cggeb .Urx ;_dgff :=_eebe .Lly -_cggeb .Lly ;return _fb .Abs (_cbfg +_badbb )< _eebe .Width ()*_eed &&_fb .Abs (_dgff )< _eebe .Height ()*_eed ;};func (_aeab *wordBag )highestWord (_dfbgc int ,_gdfb ,_fdcc float64 )*textWord {for _ ,_gbbg :=range _aeab ._cegd [_dfbgc ]{if _gdfb <=_gbbg ._afedc &&_gbbg ._afedc <=_fdcc {return _gbbg ;
};};return nil ;};func _agfec (_eccf ,_baab int )int {if _eccf < _baab {return _eccf ;};return _baab ;};func (_efag rulingList )mergePrimary ()float64 {_baddf :=_efag [0]._ebgag ;for _ ,_abcg :=range _efag [1:]{_baddf +=_abcg ._ebgag ;};return _baddf /float64 (len (_efag ));
};func (_ecfgb *textTable )depth ()float64 {_bbaab :=1e10;for _cece :=0;_cece < _ecfgb ._eegaf ;_cece ++{_ddbe :=_ecfgb .get (_cece ,0);if _ddbe ==nil ||_ddbe ._bcdg {continue ;};_bbaab =_fb .Min (_bbaab ,_ddbe .depth ());};return _bbaab ;};func _ccff (_adcca *_ec .Image ,_bbabe _gcg .Color )_d .Image {_cabeg ,_adeg :=int (_adcca .Width ),int (_adcca .Height );
_aacce :=_d .NewRGBA (_d .Rect (0,0,_cabeg ,_adeg ));for _dgeg :=0;_dgeg < _adeg ;_dgeg ++{for _fagd :=0;_fagd < _cabeg ;_fagd ++{_gecga ,_dfac :=_adcca .ColorAt (_fagd ,_dgeg );if _dfac !=nil {_eb .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063o\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0072\u0065\u0074\u0072\u0069\u0065v\u0065 \u0069\u006d\u0061\u0067\u0065\u0020m\u0061\u0073\u006b\u0020\u0076\u0061\u006cu\u0065\u0020\u0061\u0074\u0020\u0028\u0025\u0064\u002c\u0020\u0025\u0064\u0029\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074\u0020\u006da\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063\u006f\u0072\u0072\u0065\u0063t\u002e",_fagd ,_dgeg );
continue ;};_fecef ,_ddbeb ,_fgaga ,_ :=_gecga .RGBA ();var _dgbcb _gcg .Color ;if _fecef +_ddbeb +_fgaga ==0{_dgbcb =_gcg .Transparent ;}else {_dgbcb =_bbabe ;};_aacce .Set (_fagd ,_dgeg ,_dgbcb );};};return _aacce ;};func _effbc (_egbed []_c .PdfObject )(_gcgfd ,_gfgbca float64 ,_bbgae error ){if len (_egbed )!=2{return 0,0,_gb .Errorf ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0070\u0061\u0072\u0061\u006d\u0073\u003a \u0025\u0064",len (_egbed ));
};_baaba ,_bbgae :=_c .GetNumbersAsFloat (_egbed );if _bbgae !=nil {return 0,0,_bbgae ;};return _baaba [0],_baaba [1],nil ;};type rectRuling struct{_ddfeg rulingKind ;_fdgf markKind ;_gcg .Color ;_ec .PdfRectangle ;};type markKind int ;func (_ffgdg *subpath )close (){if !_bceda (_ffgdg ._ece [0],_ffgdg .last ()){_ffgdg .add (_ffgdg ._ece [0]);
};_ffgdg ._eddd =true ;_ffgdg .removeDuplicates ();};func _cgdee (_cgceb []*textWord ,_dacagf int )[]*textWord {_aebfe :=len (_cgceb );copy (_cgceb [_dacagf :],_cgceb [_dacagf +1:]);return _cgceb [:_aebfe -1];};const (_babb =false ;_aggd =false ;_dadg =false ;
_gdba =false ;_eace =false ;_bfca =false ;_ccecc =false ;_dfcg =false ;_cddg =false ;_cgbb =_cddg &&true ;_beefb =_cgbb &&false ;_daba =_cddg &&true ;_fdccc =false ;_egfd =_fdccc &&false ;_edfg =_fdccc &&true ;_cgcd =false ;_aegc =_cgcd &&false ;_gdcb =_cgcd &&false ;
_afba =_cgcd &&true ;_cbed =_cgcd &&false ;_gbee =_cgcd &&false ;);func (_deg *subpath )last ()_ecd .Point {return _deg ._ece [len (_deg ._ece )-1]};type intSet map[int ]struct{};func _bebadb (_cfcef map[float64 ]gridTile )[]float64 {_gbabc :=make ([]float64 ,0,len (_cfcef ));
for _cebf :=range _cfcef {_gbabc =append (_gbabc ,_cebf );};_gc .Float64s (_gbabc );return _gbabc ;};func (_agb *wordBag )allWords ()[]*textWord {var _abad []*textWord ;for _ ,_ebda :=range _agb ._cegd {_abad =append (_abad ,_ebda ...);};return _abad ;
};var _bgdg =TextMark {Text :"\u005b\u0058\u005d",Original :"\u0020",Meta :true ,FillColor :_gcg .White ,StrokeColor :_gcg .White };func _gbgga (_ebfaa *PageText )error {_eggae :=_eae .GetLicenseKey ();if _eggae !=nil &&_eggae .IsLicensed ()||_fba {return nil ;
};_gb .Printf ("\u0055\u006e\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0064\u0020c\u006f\u0070\u0079\u0020\u006f\u0066\u0020\u0055\u006e\u0069P\u0044\u0046\u000a");_gb .Println ("-\u0020\u0047\u0065\u0074\u0020\u0061\u0020\u0066\u0072e\u0065\u0020\u0074\u0072\u0069\u0061\u006c l\u0069\u0063\u0065\u006es\u0065\u0020\u006f\u006e\u0020\u0068\u0074\u0074\u0070s:\u002f\u002fu\u006e\u0069\u0064\u006f\u0063\u002e\u0069\u006f");
return _b .New ("\u0075\u006e\u0069\u0070d\u0066\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0020c\u006fd\u0065\u0020\u0072\u0065\u0071\u0075\u0069r\u0065\u0064");};

// String returns a human readable description of `vecs`.
func (_dfcde rulingList )String ()string {if len (_dfcde )==0{return "\u007b \u0045\u004d\u0050\u0054\u0059\u0020}";};_abbb ,_gcggb :=_dfcde .vertsHorzs ();_cgcaa :=len (_abbb );_agga :=len (_gcggb );if _cgcaa ==0||_agga ==0{return _gb .Sprintf ("\u007b%\u0064\u0020\u0078\u0020\u0025\u0064}",_cgcaa ,_agga );
};_bbfd :=_ec .PdfRectangle {Llx :_abbb [0]._ebgag ,Urx :_abbb [_cgcaa -1]._ebgag ,Lly :_gcggb [_agga -1]._ebgag ,Ury :_gcggb [0]._ebgag };return _gb .Sprintf ("\u007b\u0025d\u0020\u0078\u0020%\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u007d",_cgcaa ,_agga ,_bbfd );
};

// String returns a string describing the current state of the textState stack.
func (_ecb *stateStack )String ()string {_abdf :=[]string {_gb .Sprintf ("\u002d\u002d\u002d\u002d f\u006f\u006e\u0074\u0020\u0073\u0074\u0061\u0063\u006b\u003a\u0020\u0025\u0064",len (*_ecb ))};for _debd ,_ffg :=range *_ecb {_cgg :="\u003c\u006e\u0069l\u003e";
if _ffg !=nil {_cgg =_ffg .String ();};_abdf =append (_abdf ,_gb .Sprintf ("\u0009\u0025\u0032\u0064\u003a\u0020\u0025\u0073",_debd ,_cgg ));};return _a .Join (_abdf ,"\u000a");};func _gcagd (_dedca *list ,_daca *string )string {_cbgga :=_a .Split (_dedca ._badf ,"\u000a");
_edbb :=&_a .Builder {};for _ ,_cef :=range _cbgga {if _cef !=""{_edbb .WriteString (*_daca );_edbb .WriteString (_cef );_edbb .WriteString ("\u000a");};};return _edbb .String ();};func _aaaa (_ddccf string )(string ,bool ){_fgff :=[]rune (_ddccf );if len (_fgff )!=1{return "",false ;
};_ecgd ,_bfagc :=_ffdbc [_fgff [0]];return _ecgd ,_bfagc ;};

// Text returns the extracted page text.
func (_bcbe PageText )Text ()string {return _bcbe ._gegf };func (_ebdc paraList )lines ()[]*textLine {var _ecef []*textLine ;for _ ,_dcdac :=range _ebdc {_ecef =append (_ecef ,_dcdac ._efaa ...);};return _ecef ;};func (_agab *wordBag )empty (_dcef int )bool {_ ,_dedcc :=_agab ._cegd [_dcef ];
return !_dedcc };func _dgbg (_cccfe string ,_dabbed int )string {if len (_cccfe )< _dabbed {return _cccfe ;};return _cccfe [:_dabbed ];};func _agbe (_fec *textLine )bool {_badg :=true ;_fgf :=-1;for _ ,_adec :=range _fec ._ffef {for _ ,_ecdf :=range _adec ._ebgde {_agdf :=_ecdf ._cadc ;
if _fgf ==-1{_fgf =_agdf ;}else {if _fgf !=_agdf {_badg =false ;break ;};};};};return _badg ;};func (_acdgc rulingList )vertsHorzs ()(rulingList ,rulingList ){var _cfbfcd ,_cbfa rulingList ;for _ ,_afgbc :=range _acdgc {switch _afgbc ._cggcf {case _dceeg :_cfbfcd =append (_cfbfcd ,_afgbc );
case _dccaa :_cbfa =append (_cbfa ,_afgbc );};};return _cfbfcd ,_cbfa ;};type bounded interface{bbox ()_ec .PdfRectangle };

// String returns a description of `t`.
func (_ccgda *textTable )String ()string {return _gb .Sprintf ("\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u0020\u0025\u0074",_ccgda ._eegaf ,_ccgda ._fgbf ,_ccgda ._bdab );};func (_gedd paraList )toTextMarks ()[]TextMark {_afcd :=0;var _debgff []TextMark ;
for _abda ,_cfeg :=range _gedd {if _cfeg ._bcdg {continue ;};_bbbf :=_cfeg .toTextMarks (&_afcd );_debgff =append (_debgff ,_bbbf ...);if _abda !=len (_gedd )-1{if _abff (_cfeg ,_gedd [_abda +1]){_debgff =_faec (_debgff ,&_afcd ,"\u0020");}else {_debgff =_faec (_debgff ,&_afcd ,"\u000a");
_debgff =_faec (_debgff ,&_afcd ,"\u000a");};};};_debgff =_faec (_debgff ,&_afcd ,"\u000a");_debgff =_faec (_debgff ,&_afcd ,"\u000a");return _debgff ;};func _ecgf (_gcbcf string )string {_ffgg :=[]rune (_gcbcf );return string (_ffgg [:len (_ffgg )-1])};
func (_deeg *textTable )reduceTiling (_daddc gridTiling ,_abbaed float64 )*textTable {_bcbg :=make ([]int ,0,_deeg ._fgbf );_cdggc :=make ([]int ,0,_deeg ._eegaf );_ccfb :=_daddc ._bfdebc ;_abgg :=_daddc ._geafa ;for _becdc :=0;_becdc < _deeg ._fgbf ;_becdc ++{_gfdfe :=_becdc > 0&&_fb .Abs (_abgg [_becdc -1]-_abgg [_becdc ])< _abbaed &&_deeg .emptyCompositeRow (_becdc );
if !_gfdfe {_bcbg =append (_bcbg ,_becdc );};};for _bgcfff :=0;_bgcfff < _deeg ._eegaf ;_bgcfff ++{_feacg :=_bgcfff < _deeg ._eegaf -1&&_fb .Abs (_ccfb [_bgcfff +1]-_ccfb [_bgcfff ])< _abbaed &&_deeg .emptyCompositeColumn (_bgcfff );if !_feacg {_cdggc =append (_cdggc ,_bgcfff );
};};if len (_bcbg )==_deeg ._fgbf &&len (_cdggc )==_deeg ._eegaf {return _deeg ;};_fadd :=textTable {_bdab :_deeg ._bdab ,_eegaf :len (_cdggc ),_fgbf :len (_bcbg ),_ecgfc :make (map[uint64 ]compositeCell ,len (_cdggc )*len (_bcbg ))};if _fdccc {_eb .Log .Info ("\u0072\u0065\u0064\u0075c\u0065\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0025d\u0078%\u0064\u0020\u002d\u003e\u0020\u0025\u0064x\u0025\u0064",_deeg ._eegaf ,_deeg ._fgbf ,len (_cdggc ),len (_bcbg ));
_eb .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0043\u006f\u006c\u0073\u003a\u0020\u0025\u002b\u0076",_cdggc );_eb .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0052\u006f\u0077\u0073\u003a\u0020\u0025\u002b\u0076",_bcbg );};for _adag ,_fbde :=range _bcbg {for _cacd ,_bddeg :=range _cdggc {_cgab ,_eccgc :=_deeg .getComposite (_bddeg ,_fbde );
if len (_cgab )==0{continue ;};if _fdccc {_gb .Printf ("\u0020 \u0025\u0032\u0064\u002c \u0025\u0032\u0064\u0020\u0028%\u0032d\u002c \u0025\u0032\u0064\u0029\u0020\u0025\u0071\n",_cacd ,_adag ,_bddeg ,_fbde ,_dgbg (_cgab .merge ().text (),50));};_fadd .putComposite (_cacd ,_adag ,_cgab ,_eccgc );
};};return &_fadd ;};func (_fdadc rulingList )snapToGroups ()rulingList {_defff ,_cfgb :=_fdadc .vertsHorzs ();if len (_defff )> 0{_defff =_defff .snapToGroupsDirection ();};if len (_cfgb )> 0{_cfgb =_cfgb .snapToGroupsDirection ();};_gcddcg :=append (_defff ,_cfgb ...);
_gcddcg .log ("\u0073\u006e\u0061p\u0054\u006f\u0047\u0072\u006f\u0075\u0070\u0073");return _gcddcg ;};func (_bebad *ruling )equals (_cdcgb *ruling )bool {return _bebad ._cggcf ==_cdcgb ._cggcf &&_acge (_bebad ._ebgag ,_cdcgb ._ebgag )&&_acge (_bebad ._gbaa ,_cdcgb ._gbaa )&&_acge (_bebad ._abcbd ,_cdcgb ._abcbd );
};func (_dcd *textObject )setTextRise (_dfde float64 ){if _dcd ==nil {return ;};_dcd ._becc ._feeg =_dfde ;};func (_ebd *textObject )getFillColor ()_gcg .Color {return _gfgcf (_ebd ._gge .ColorspaceNonStroking ,_ebd ._gge .ColorNonStroking );};const _dabe =20;


// String returns a description of `v`.
func (_egdb *ruling )String ()string {if _egdb ._cggcf ==_fcgc {return "\u004e\u004f\u0054\u0020\u0052\u0055\u004c\u0049\u004e\u0047";};_bbeg ,_aafe :="\u0078","\u0079";if _egdb ._cggcf ==_dccaa {_bbeg ,_aafe ="\u0079","\u0078";};_geea :="";if _egdb ._dece !=0.0{_geea =_gb .Sprintf (" \u0077\u0069\u0064\u0074\u0068\u003d\u0025\u002e\u0032\u0066",_egdb ._dece );
};return _gb .Sprintf ("\u0025\u00310\u0073\u0020\u0025\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u0020\u002d\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0028\u0025\u0036\u002e\u0032\u0066\u0029\u0020\u0025\u0073\u0020\u0025\u0076\u0025\u0073",_egdb ._cggcf ,_bbeg ,_egdb ._ebgag ,_aafe ,_egdb ._gbaa ,_egdb ._abcbd ,_egdb ._abcbd -_egdb ._gbaa ,_egdb ._dcfce ,_egdb .Color ,_geea );
};func (_cbeg *wordBag )depthRange (_dggd ,_bdgc int )[]int {var _acae []int ;for _dadd :=range _cbeg ._cegd {if _dggd <=_dadd &&_dadd <=_bdgc {_acae =append (_acae ,_dadd );};};if len (_acae )==0{return nil ;};_gc .Ints (_acae );return _acae ;};func (_acgg *shapesState )fill (_gfcdg *[]pathSection ){_dde :=pathSection {_bbbg :_acgg ._afbde ,Color :_acgg ._dedg .getFillColor ()};
*_gfcdg =append (*_gfcdg ,_dde );if _cgcd {_fgd :=_dde .bbox ();_gb .Printf ("\u0020 \u0020\u0020\u0046\u0049\u004c\u004c\u003a %\u0032\u0064\u0020\u0066\u0069\u006c\u006c\u0073\u0020\u0028\u0025\u0064\u0020\u006ee\u0077\u0029 \u0073\u0073\u003d%\u0073\u0020\u0063\u006f\u006c\u006f\u0072\u003d\u0025\u0033\u0076\u0020\u0025\u0036\u002e\u0032f\u003d\u00256.\u0032\u0066\u0078%\u0036\u002e\u0032\u0066\u000a",len (*_gfcdg ),len (_dde ._bbbg ),_acgg ,_dde .Color ,_fgd ,_fgd .Width (),_fgd .Height ());
if _aegc {for _bggba ,_bfda :=range _dde ._bbbg {_gb .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_bggba ,_bfda );if _bggba ==10{break ;};};};};};

// String returns a string describing `pt`.
func (_aea PageText )String ()string {_dfbg :=_gb .Sprintf ("P\u0061\u0067\u0065\u0054ex\u0074:\u0020\u0025\u0064\u0020\u0065l\u0065\u006d\u0065\u006e\u0074\u0073",len (_aea ._fgc ));_bdb :=[]string {"\u002d"+_dfbg };for _ ,_fcec :=range _aea ._fgc {_bdb =append (_bdb ,_fcec .String ());
};_bdb =append (_bdb ,"\u002b"+_dfbg );return _a .Join (_bdb ,"\u000a");};func (_ecffbe rulingList )augmentGrid ()(rulingList ,rulingList ){_cgaag ,_eagbc :=_ecffbe .vertsHorzs ();if len (_cgaag )==0||len (_eagbc )==0{return _cgaag ,_eagbc ;};_fegga ,_cgfd :=_cgaag ,_eagbc ;
_ffggd :=_cgaag .bbox ();_dfegb :=_eagbc .bbox ();if _cgcd {_eb .Log .Info ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0047\u0072\u0069\u0064\u003a\u0020b\u0062\u006f\u0078\u0056\u003d\u0025\u0036\u002e\u0032\u0066",_ffggd );_eb .Log .Info ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0047\u0072\u0069\u0064\u003a\u0020b\u0062\u006f\u0078\u0048\u003d\u0025\u0036\u002e\u0032\u0066",_dfegb );
};var _fgcf ,_febg ,_adddb ,_dffec *ruling ;if _dfegb .Llx < _ffggd .Llx -_fbbe {_fgcf =&ruling {_dcfce :_ffab ,_cggcf :_dceeg ,_ebgag :_dfegb .Llx ,_gbaa :_ffggd .Lly ,_abcbd :_ffggd .Ury };_cgaag =append (rulingList {_fgcf },_cgaag ...);};if _dfegb .Urx > _ffggd .Urx +_fbbe {_febg =&ruling {_dcfce :_ffab ,_cggcf :_dceeg ,_ebgag :_dfegb .Urx ,_gbaa :_ffggd .Lly ,_abcbd :_ffggd .Ury };
_cgaag =append (_cgaag ,_febg );};if _ffggd .Lly < _dfegb .Lly -_fbbe {_adddb =&ruling {_dcfce :_ffab ,_cggcf :_dccaa ,_ebgag :_ffggd .Lly ,_gbaa :_dfegb .Llx ,_abcbd :_dfegb .Urx };_eagbc =append (rulingList {_adddb },_eagbc ...);};if _ffggd .Ury > _dfegb .Ury +_fbbe {_dffec =&ruling {_dcfce :_ffab ,_cggcf :_dccaa ,_ebgag :_ffggd .Ury ,_gbaa :_dfegb .Llx ,_abcbd :_dfegb .Urx };
_eagbc =append (_eagbc ,_dffec );};if len (_cgaag )+len (_eagbc )==len (_ecffbe ){return _fegga ,_cgfd ;};_gfcac :=append (_cgaag ,_eagbc ...);_ecffbe .log ("u\u006e\u0061\u0075\u0067\u006d\u0065\u006e\u0074\u0065\u0064");_gfcac .log ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0065d");
return _cgaag ,_eagbc ;};var _bfdea =map[markKind ]string {_fegbcd :"\u0073\u0074\u0072\u006f\u006b\u0065",_cedfc :"\u0066\u0069\u006c\u006c",_ffab :"\u0061u\u0067\u006d\u0065\u006e\u0074"};type textState struct{_feed float64 ;_fccb float64 ;_aecac float64 ;
_gegd float64 ;_gcge float64 ;_gfcd RenderMode ;_feeg float64 ;_bef *_ec .PdfFont ;_dgca _ec .PdfRectangle ;_acbd int ;_begd int ;};

// String returns a description of `w`.
func (_efca *textWord )String ()string {return _gb .Sprintf ("\u0025\u002e2\u0066\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\"%\u0073\u0022",_efca ._afedc ,_efca .PdfRectangle ,_efca ._aagde ,_efca ._degc );
};func (_cdf *textObject )moveLP (_gebd ,_dfb float64 ){_cdf ._ecdb .Concat (_ecd .NewMatrix (1,0,0,1,_gebd ,_dfb ));_cdf ._cbbe =_cdf ._ecdb ;};func _bece (_baceb []*wordBag )[]*wordBag {if len (_baceb )<=1{return _baceb ;};if _cddg {_eb .Log .Info ("\u006d\u0065\u0072\u0067\u0065\u0057\u006f\u0072\u0064B\u0061\u0067\u0073\u003a");
};_gc .Slice (_baceb ,func (_faeeb ,_fggff int )bool {_gfgc ,_ddae :=_baceb [_faeeb ],_baceb [_fggff ];_ddffa :=_gfgc .Width ()*_gfgc .Height ();_dbeg :=_ddae .Width ()*_ddae .Height ();if _ddffa !=_dbeg {return _ddffa > _dbeg ;};if _gfgc .Height ()!=_ddae .Height (){return _gfgc .Height ()> _ddae .Height ();
};return _faeeb < _fggff ;});var _dgac []*wordBag ;_ffdb :=make (intSet );for _bdgd :=0;_bdgd < len (_baceb );_bdgd ++{if _ffdb .has (_bdgd ){continue ;};_cegb :=_baceb [_bdgd ];for _afff :=_bdgd +1;_afff < len (_baceb );_afff ++{if _ffdb .has (_bdgd ){continue ;
};_geec :=_baceb [_afff ];_fbcc :=_cegb .PdfRectangle ;_fbcc .Llx -=_cegb ._gee ;if _gdeg (_fbcc ,_geec .PdfRectangle ){_cegb .absorb (_geec );_ffdb .add (_afff );};};_dgac =append (_dgac ,_cegb );};if len (_baceb )!=len (_dgac )+len (_ffdb ){_eb .Log .Error ("\u006d\u0065\u0072ge\u0057\u006f\u0072\u0064\u0042\u0061\u0067\u0073\u003a \u0025d\u2192%\u0064 \u0061\u0062\u0073\u006f\u0072\u0062\u0065\u0064\u003d\u0025\u0064",len (_baceb ),len (_dgac ),len (_ffdb ));
};return _dgac ;};func _bedca (_afafa float64 )float64 {return _ecfg *_fb .Round (_afafa /_ecfg )};func _acea (_bgcf _ec .PdfRectangle )textState {return textState {_aecac :100,_gfcd :RenderModeFill ,_dgca :_bgcf };};func _aebcc (_ddabc ,_gfde ,_feacf float64 )rulingKind {if _ddabc >=_feacf &&_geab (_gfde ,_ddabc ){return _dccaa ;
};if _gfde >=_feacf &&_geab (_ddabc ,_gfde ){return _dceeg ;};return _fcgc ;};func _gacga (_gdfbd []float64 ,_bbbga ,_bgeb float64 )[]float64 {_cgeb ,_gegef :=_bbbga ,_bgeb ;if _gegef < _cgeb {_cgeb ,_gegef =_gegef ,_cgeb ;};_gdag :=make ([]float64 ,0,len (_gdfbd )+2);
_gdag =append (_gdag ,_bbbga );for _ ,_ggbe :=range _gdfbd {if _ggbe <=_cgeb {continue ;}else if _ggbe >=_gegef {break ;};_gdag =append (_gdag ,_ggbe );};_gdag =append (_gdag ,_bgeb );return _gdag ;};type paraList []*textPara ;func (_fced *wordBag )applyRemovals (_gcgd map[int ]map[*textWord ]struct{}){for _afaf ,_afbc :=range _gcgd {if len (_afbc )==0{continue ;
};_ebga :=_fced ._cegd [_afaf ];_gafd :=len (_ebga )-len (_afbc );if _gafd ==0{delete (_fced ._cegd ,_afaf );continue ;};_gbdc :=make ([]*textWord ,_gafd );_bccf :=0;for _ ,_bae :=range _ebga {if _ ,_edba :=_afbc [_bae ];!_edba {_gbdc [_bccf ]=_bae ;_bccf ++;
};};_fced ._cegd [_afaf ]=_gbdc ;};};